(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(48);t.ReactCanvasGrid=r.ReactCanvasGrid;var o=n(23);t.getCellText=o.getCellText,t.cellHasTextFunction=o.cellHasTextFunction,t.cellIsEditable=o.cellIsEditable},,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function o(e){return null!==e.selection&&"row"===e.selection.frozenStartCell.type}function i(e){return null!==e.selection&&"column"===e.selection.frozenStartCell.type}function a(e,t){return void 0===t&&(t={type:"none"}),{editCursorCell:e,selection:{selectedRange:{topLeft:e,bottomRight:e},selectionStartCell:e,frozenStartCell:t}}}function l(e,t){var n={topLeft:{x:Math.min(e.selection.selectionStartCell.x,t.x),y:Math.min(e.selection.selectionStartCell.y,t.y)},bottomRight:{x:Math.max(e.selection.selectionStartCell.x,t.x),y:Math.max(e.selection.selectionStartCell.y,t.y)}};return r({},e,{selection:r({},e.selection,{selectedRange:n})})}function s(e,t,n){return l(a(e,n),t)}Object.defineProperty(t,"__esModule",{value:!0}),t.hasSelectionState=function(e){return null!==e.selection},t.hasSelectionCellState=function(e){return null!==e.selection&&"none"===e.selection.frozenStartCell.type},t.hasSelectionRowState=o,t.hasSelectionColumnState=i,t.hasSelectionFrozenState=function(e){return o(e)||i(e)},t.createDefault=function(){return{editCursorCell:null,selection:null}},t.startDrag=a,t.updateDrag=l,t.startRangeCorner=function(e,t){return s(e,t,{type:"corner"})},t.startRangeRow=function(e,t){return s(e,t,{type:"row",rowIndex:e.y})},t.startRangeColumn=function(e,t){return s(e,t,{type:"column",colIndex:e.x})},t.updateRangeRow=function(e,t){var n={topLeft:{x:e.selection.selectedRange.topLeft.x,y:Math.min(e.selection.frozenStartCell.rowIndex,t.y)},bottomRight:{x:e.selection.selectedRange.bottomRight.x,y:Math.max(e.selection.frozenStartCell.rowIndex,t.y)}};return r({},e,{selection:r({},e.selection,{selectedRange:n})})},t.updateRangeColumn=function(e,t){var n={topLeft:{x:Math.min(e.selection.frozenStartCell.colIndex,t.x),y:e.selection.selectedRange.topLeft.y},bottomRight:{x:Math.max(e.selection.frozenStartCell.colIndex,t.x),y:Math.max(e.selection.selectedRange.bottomRight.y)}};return r({},e,{selection:r({},e.selection,{selectedRange:n})})},t.isSelectRangeDifferent=function(e,t){return e.bottomRight.x!==t.bottomRight.x||e.bottomRight.y!==t.bottomRight.y||e.topLeft.x!==t.topLeft.x||e.topLeft.y!==t.topLeft.y}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),o=function(){function e(){}return e.calculateColumnBoundaries=function(e,t){var n=0;return e.map(function(e){var r={left:n,right:n+e.width};return n+=e.width+t,r})},e.calculateGridSize=function(e,t,n,r){var o=e.length,i=o*n+(o-1)*r;return{width:t[t.length-1].right,height:i}},e.calculateGridPlusGutterSize=function(e,t){return null===t?e:{width:e.width+(e.height>t.height?r.barWidth+2*r.barMarginToEdge:0),height:e.height+(e.width>t.width?r.barWidth+2*r.barMarginToEdge:0)}},e.calculateCanvasSize=function(e,t){return null===t?{width:0,height:0}:{width:Math.min(t.width,e.width),height:Math.min(t.height,e.height)}},e.calculateFrozenRowsHeight=function(e,t,n){return(e+t)*n},e.calculateFrozenColsWidth=function(e,t,n){var r=t-1;return r<0?0:e[r].right+n},e.calculateGridCellCoordsFromGridState=function(t,n,r){return e.calculateGridCellCoords(t,r.columnBoundaries(),r.borderWidth(),r.rowHeight(),r.gridOffset(),r.data().length-1,n)},e.calculateGridCellCoords=function(t,n,r,o,i,a,l){if(!l)throw new Error("Cannot convert mouse event coords to grid coords because rootRef is not set");return e.gridPixelToGridCell(e.windowPixelToGridPixel({x:t.clientX,y:t.clientY},i,l),n,r,o,a)},e.calculateCellBounds=function(e,t,n,r,o,i){var a=o[e].left,l=i[e];return{left:a,top:t*(n+r),right:a+l.width,bottom:t*(n+r)+n,width:l.width,height:n}},e.calculateGridOffsetFromFraction=function(e,t,n){return Math.floor((t-n)*e)},e.truncateGridOffset=function(e,t,n){var r=t.width-n.width,o=t.height-n.height;return e.x>r||e.y>o?{x:Math.min(r,e.x),y:Math.min(o,e.y)}:null},e.quantiseGridOffset=function(e,t){return{x:Math.floor(e.x*t)/t,y:Math.floor(e.y*t)/t}},e.calculateGridOffsetForFocusedColumn=function(e,t,n,r,o,i){if(r<0||r>=o.length)return e;var a=i?i.width:0,l=o[r],s=e.x+n,c=e.x+t.width-a;return l.left<s&&l.right>c?e:l.left<s?{x:Math.max(l.left-n,0),y:e.y}:l.right>c?{x:l.right-t.width+a,y:e.y}:e},e.calculateVisibleRect=function(e,t){return{top:e.y,bottom:e.y+t.height,height:t.height,left:e.x,right:e.x+t.width,width:t.width}},e.isWindowPixelWithinComponent=function(e,t){if(!t)throw new Error("Cannot convert window coords to component coords because rootRef is not set");var n=t.getBoundingClientRect();return e.clientX>=n.left&&e.clientX<=n.right&&e.clientY>=n.top&&e.clientY<=n.bottom},e.calculateComponentPixel=function(t,n){return e.windowPixelToComponentPixel({x:t.clientX,y:t.clientY},n)},e.windowPixelToComponentPixel=function(e,t){var n=e.x,r=e.y;if(!t)throw new Error("Cannot convert window coords to component coords because rootRef is not set");var o=t.getBoundingClientRect();return{x:n-o.left,y:r-o.top}},e.windowPixelToGridPixel=function(e,t,n){var r=e.x,o=e.y,i=n.getBoundingClientRect();return{x:r+t.x-i.left,y:o+t.y-i.top}},e.gridPixelToGridCell=function(e,t,n,r,o){for(var i=e.x,a=e.y,l=t.length-1,s=0;s<t.length;s++)if(t[s].right>i){l=s;break}return{y:Math.min(o,Math.floor((a+n)/(r+n))),x:l}},e}();t.GridGeometry=o},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.barWidth=7,t.barMarginToEdge=2,t.barCapMargin=4;var r=10;function o(e,n,o){var i=e-o-t.barWidth-2*t.barCapMargin-t.barMarginToEdge,a=e/n,l=Math.round(i*a);return Math.max(l,r)}function i(e,n,r,o,i){var a=e/(r-n),l=n-i-o-t.barWidth-2*t.barCapMargin-t.barMarginToEdge,s=Math.round(l*a)+i+t.barCapMargin;return{start:s,end:s+o}}function a(e){return e-t.barWidth/2-t.barMarginToEdge}t.getHorizontalScrollbarLength=function(e,t,n){return o(e.width,t.width,n)},t.getVerticalScrollbarLength=function(e,t,n){return o(e.height,t.height,n)},t.calculateLength=o,t.getHorizontalScrollbarExtent=function(e,t,n,r,o){return i(e.x,t.width,n.width,r,o)},t.getVerticalScrollbarExtent=function(e,t,n,r,o){return i(e.y,t.height,n.height,r,o)},t.calculateExtent=i,t.getHorizontalScrollbarPos=function(e,t,n){return n.width>t.width?{extent:e,transverse:a(t.height)}:null},t.getVerticalScrollbarPos=function(e,t,n){return n.height>t.height?{extent:e,transverse:a(t.width)}:null},t.getVerticalGutterBounds=function(e,n){return n.height>e.height?{top:0,left:e.width-(t.barWidth+2*t.barMarginToEdge),height:e.height,width:t.barWidth+2*t.barMarginToEdge,bottom:e.height,right:e.width}:null},t.getHorizontalGutterBounds=function(e,n){return n.width>e.width?{left:0,top:e.height-(t.barWidth+2*t.barMarginToEdge),width:e.width,height:t.barWidth+2*t.barMarginToEdge,right:e.width,bottom:e.height}:null},t.calculateFractionFromStartPos=function(e,n,r,o){var i=r-n-o-t.barWidth-2*t.barCapMargin-t.barMarginToEdge;return Math.min(Math.max((e-n-t.barCapMargin)/i,0),1)},t.getHitScrollBar=function(e,n,r){var o=Math.floor(t.barWidth/2);if(n){var i=n.transverse-o,a=n.transverse+o,l=n.extent;if(e.x>=l.start&&e.x<=l.end&&e.y>=i&&e.y<=a)return"x"}if(r){var s=r.transverse-o,c=r.transverse+o,u=r.extent;if(e.y>=u.start&&e.y<=u.end&&e.x>=s&&e.x<=c)return"y"}return null}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(14),a=o(n(12)),l=n(58),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.canvasRef=a.createRef(),t.renderer=null,t.renderCallback=null,t}return r(t,e),t.prototype.render=function(){return a.createElement("canvas",{ref:this.canvasRef,width:this.props.width*this.props.gridState.dpr(),height:this.props.height*this.props.gridState.dpr(),style:{position:"absolute",top:this.props.top+"px",left:this.props.left+"px",width:this.props.width+"px",height:this.props.height+"px"}})},t.prototype.componentDidMount=function(){var e=this;if(!this.canvasRef.current)throw new Error("canvasRef is null in componentDidMount - cannot create renderer");var t=this.props.gridState,n=i.transformer([t.data,t.rowHeight,t.columnBoundaries,t.columns,t.gridInnerSize,t.borderWidth],function(e,t,n,r,o,i){return{data:e,rowHeight:t,colBoundaries:n,columns:r,gridInnerSize:o,borderWidth:i}}),r={width:this.props.width,height:this.props.height};this.renderer=new l.GridCanvasRenderer(this.canvasRef.current,r,n(),t.dpr()),this.renderCallback=i.consumer([n,this.props.posProps],function(t,n){if(e.renderer){if(!e.canvasRef.current)throw new Error("canvasRef is null in componentDidMount - cannot create renderer");var r={width:e.props.width,height:e.props.height};e.renderer.updateProps(e.canvasRef.current,r,t,n)}})},t.prototype.componentWillUnmount=function(){this.renderCallback&&this.renderCallback.deregister()},t}(a.Component);t.GridCanvas=s},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cellHasTextFunction=function(e){return!!e.getText},t.getCellText=function(e){return t.cellHasTextFunction(e)?e.getText(e.data):e.text},t.cellIsEditable=function(e){return!!e.editor}},,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(33),o=null;t.clearScrollByDragTimer=function(){o&&(clearInterval(o),o=null)},t.startScrollBySelectionDragIfNeeded=function(e,n,i,a){void 0===a&&(a={});var l=e.rootSize();if(l){t.clearScrollByDragTimer();var s=0;!0!==a.suppressX&&(n.x<10?s=-15:n.x<20?s=-10:n.x<40?s=-5:n.x<50?s=-1:n.x>l.width-10?s=15:n.x>l.width-20?s=10:n.x>l.width-40?s=5:n.x>l.width-50&&(s=1));var c=0;if(!0!==a.suppressY&&(n.y<10?c=-15:n.y<20?c=-10:n.y<40?c=-5:n.y<50?c=-1:n.y>l.height-10?c=15:n.y>l.height-20?c=10:n.y>l.height-40?c=5:n.y>l.height-50&&(c=1)),0!==s||0!==c){o=setInterval(function(){r.updateOffsetByDelta(s,c,e),i()},10),r.updateOffsetByDelta(s,c,e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(53);t.updateOffsetByDelta=function(e,t,n){if(!n.rootSize())return!1;var o=n.canvasSize(),i=n.gridSize(),a=n.gridOffset(),l=r.numberBetween(a.x+e,0,i.width-o.width),s=r.numberBetween(a.y+t,0,i.height-o.height);return(l!==a.x||s!==a.y)&&(n.gridOffsetRaw({x:l,y:s}),!0)}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(16),i=r(n(16));t.startOrUpdateSelection=function(e,n,r,i){e.shiftKey&&o.hasSelectionState(r.cursorState())?t.updateSelection(n,r,i):t.startSelection(n,r,i)},t.selectOrUpdateRow=function(e,n,r,i){e.shiftKey&&o.hasSelectionState(r.cursorState())?t.updateSelectionRow(n,r,i):t.selectRow(n,r,i)},t.selectOrUpdateCol=function(e,n,r,i){e.shiftKey&&o.hasSelectionState(r.cursorState())?t.updateSelectionCol(n,r,i):t.selectCol(n,r,i)},t.startSelection=function(e,t,n){var r=i.startDrag(n);a(e,t,r)},t.selectAll=function(e,t){var n=i.startRangeCorner({x:e.frozenCols,y:e.frozenRows},{x:e.columns.length-1,y:e.data.length-1});a(e,t,n)},t.selectRow=function(e,t,n){var r=i.startRangeRow({x:e.frozenCols,y:n.y},{x:e.columns.length-1,y:n.y});a(e,t,r)},t.selectCol=function(e,t,n){var r=i.startRangeColumn({x:n.x,y:e.frozenRows},{x:n.x,y:e.data.length-1});a(e,t,r)};var a=function(e,t,n){e.onSelectionChangeStart&&e.onSelectionChangeStart(n.selection.selectedRange),t.cursorState(n)};t.updateSelection=function(e,t,n){var r=t.cursorState();if(o.hasSelectionCellState(r)){var a={x:Math.max(n.x,e.frozenCols),y:Math.max(n.y,e.frozenRows)},s=i.updateDrag(r,a);l(e,t,r,s)}},t.updateSelectionRow=function(e,t,n){var r=t.cursorState();if(o.hasSelectionRowState(r)){var a=i.updateRangeRow(r,n);l(e,t,r,a)}},t.updateSelectionCol=function(e,t,n){var r=t.cursorState();if(i.hasSelectionColumnState(r)){var o=i.updateRangeColumn(r,n);l(e,t,r,o)}};var l=function(e,t,n,r){e.onSelectionChangeUpdate&&(i.isSelectRangeDifferent(n.selection.selectedRange,r.selection.selectedRange)&&e.onSelectionChangeUpdate(r.selection.selectedRange));t.cursorState(r)};t.endSelection=function(e,t){if(o.hasSelectionState(t.cursorState())&&e.onSelectionChangeEnd){var n=t.cursorState();e.onSelectionChangeEnd(i.hasSelectionState(n)?n.selection.selectedRange:null)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23);t.borderColour="lightgrey";var o=function(){function e(e,t,n){var o=this;this.queuedRender=null,this.setCanvas=function(e){o.canvas=e;var t=o.canvas.getContext("2d",{alpha:o.alpha});if(!t)throw new Error("Could not create canvas contex");o.context=t},this.drawCellBackgroundDefault=function(e,t){e.fillStyle="white",e.fillRect(t.left,t.top,t.width,t.height)},this.drawCellTextDefault=function(e,t,n){e.fillStyle="black",e.textBaseline="middle";var o=t.top+t.height/2,i=r.getCellText(n);e.fillText(i,t.left+2,o,t.width-4)},this.alpha=n,this.dpr=t,this.canvas=e;var i=this.canvas.getContext("2d",{alpha:this.alpha});if(!i)throw new Error("Could not create canvas contex");this.context=i}return e.prototype.drawScaled=function(e){var t=this;null===this.queuedRender&&(this.queuedRender=window.requestAnimationFrame(function(){t.context.scale(t.dpr,t.dpr);try{e()}finally{t.context.scale(1/t.dpr,1/t.dpr),t.queuedRender=null}}))},e.prototype.drawCell=function(e,t,n){var r=e.renderBackground||this.drawCellBackgroundDefault,o=e.renderText||this.drawCellTextDefault;r(this.context,t,e,n),o(this.context,t,e,n)},e}();t.CommonCanvasRenderer=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(35),a=o(n(16)),l=o(n(20)),s={gridOffset:{x:0,y:0},visibleRect:{left:0,top:0,right:0,bottom:0,height:0,width:0}},c={horizontalScrollbarPos:null,verticalScrollbarPos:null,hoveredScrollbar:null},u="rgba(0, 0, 0, 0.4)",d="rgba(0, 0, 0, 0.55)",h=function(e){function t(t,n,r){var o=e.call(this,t,r,!0)||this;return o.posProps=s,o.scrollProps=c,o.selectionProps={cursorState:a.createDefault()},o.draw=function(){var e=o.context;if(e.clearRect(0,0,o.canvas.width,o.canvas.height),e.translate(-o.posProps.gridOffset.x,-o.posProps.gridOffset.y),e.lineCap="butt",e.fillStyle="rgba(33, 117, 228, 0.25)",e.strokeStyle="#2276e4",o.selectionProps.cursorState.editCursorCell){e.lineWidth=2;var t=o.gridCellCoordToGridPixelCoord(o.selectionProps.cursorState.editCursorCell);e.strokeRect(t.left,t.top,t.width,t.height),e.lineWidth=1}if(o.selectionProps.cursorState.selection&&function(e){var t=e.selectedRange.topLeft,n=e.selectedRange.bottomRight;return t.x!==n.x||t.y!==n.y}(o.selectionProps.cursorState.selection)){var n=o.gridCellCoordToGridPixelCoord(o.selectionProps.cursorState.selection.selectedRange.topLeft),r=o.gridCellCoordToGridPixelCoord(o.selectionProps.cursorState.selection.selectedRange.bottomRight);e.fillRect(n.left,n.top,r.right-n.left,r.bottom-n.top),e.strokeRect(n.left,n.top,r.right-n.left,r.bottom-n.top)}e.translate(o.posProps.gridOffset.x,o.posProps.gridOffset.y);var i=o.basicProps.verticalGutterBounds,a=o.basicProps.horizontalGutterBounds;if((i||a)&&(o.context.fillStyle="#eee",i&&o.context.fillRect(i.left,i.top,i.width,i.height),a&&o.context.fillRect(a.left,a.top,a.width,a.height),o.context.strokeStyle="lightgrey",o.context.lineWidth=1,o.context.beginPath(),i&&(o.context.moveTo(i.left,0),o.context.lineTo(i.left,i.height-(a?a.height:0)),o.context.moveTo(i.right,0),o.context.lineTo(i.right,i.height)),a&&(o.context.moveTo(0,a.top),o.context.lineTo(a.width-(i?i.width:0),a.top),o.context.moveTo(0,a.bottom),o.context.lineTo(a.width,a.bottom)),o.context.stroke()),e.lineCap="round",o.scrollProps.horizontalScrollbarPos){"x"===o.scrollProps.hoveredScrollbar?(e.strokeStyle=d,e.lineWidth=l.barWidth+3):(e.strokeStyle=u,e.lineWidth=l.barWidth);var s=o.scrollProps.horizontalScrollbarPos;e.beginPath(),e.moveTo(s.extent.start,s.transverse),e.lineTo(s.extent.end,s.transverse),e.stroke()}if(o.scrollProps.verticalScrollbarPos){"y"===o.scrollProps.hoveredScrollbar?(e.strokeStyle=d,e.lineWidth=l.barWidth+3):(e.strokeStyle=u,e.lineWidth=l.barWidth);s=o.scrollProps.verticalScrollbarPos;e.beginPath(),e.moveTo(s.transverse,s.extent.start),e.lineTo(s.transverse,s.extent.end),e.stroke()}},o.gridCellCoordToGridPixelCoord=function(e){var t=e.x,n=e.y;return{top:n*(o.basicProps.rowHeight+o.basicProps.borderWidth),bottom:(n+1)*(o.basicProps.rowHeight+ +o.basicProps.borderWidth)-o.basicProps.borderWidth,height:o.basicProps.rowHeight,left:o.basicProps.columnBoundaries[t].left,right:o.basicProps.columnBoundaries[t].right,width:o.basicProps.columnBoundaries[t].right-o.basicProps.columnBoundaries[t].left}},o.basicProps=n,o}return r(t,e),t.prototype.updateProps=function(e,t,n,r,o){this.canvas!==e&&this.setCanvas(e),this.basicProps=t,this.posProps=n,this.scrollProps=r,this.selectionProps=o,this.drawScaled(this.draw)},t}(i.CommonCanvasRenderer);t.HighlightCanvasRenderer=h,t.shouldSelectionClear=function(e,t){return e.columns!==t.columns||e.data.length!==t.data.length}},,,,,function(e,t,n){e.exports=n(81)},,,,,function(e,t,n){},,function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),l=i(n(12)),s=i(n(16)),c=n(51),u=n(55),d=n(33),h=n(56),f=n(18),p=n(61),g=n(62),m=n(36),v=n(63),b=n(64),w=n(23),S=function(e){function t(t){var n=e.call(this,t)||this;return n.rootRef=l.createRef(),n.onWheel=function(e){var t={0:1,1:16}[e.deltaMode||0];d.updateOffsetByDelta(e.deltaX*t,e.deltaY*t,n.gridState)&&e.preventDefault()},n.onMouseDown=function(e){var t=n.gridState.gridSize(),r=f.GridGeometry.calculateComponentPixel(e,n.rootRef.current);r.x>=t.width||r.y>=t.height||u.mouseDownOnScrollbar(r,n.gridState)||c.mouseDownOnGrid(e,r,n.rootRef,n.props,n.gridState,n.state.editingCell)},n.onMouseMove=function(e){var t=f.GridGeometry.calculateComponentPixel(e,n.rootRef.current),r=n.gridState.gridSize();t.x>=r.width||t.y>=r.height||u.mouseDragOnScrollbar(t,n.gridState)||c.mouseDragOnGrid(e,n.rootRef,n.props,n.gridState,n.state.editingCell)||u.mouseHoverOnScrollbar(t,n.gridState)},n.onMouseUp=function(e){a.batch(function(){var t=f.GridGeometry.calculateComponentPixel(e,n.rootRef.current);u.mouseUpOnScrollbar()?u.mouseHoverOnScrollbar(t,n.gridState):c.mouseUpOnGrid(n.props,n.gridState,n.state.editingCell)})},n.onDoubleClick=function(e){var t=f.GridGeometry.calculateGridCellCoordsFromGridState(e,n.rootRef.current,n.gridState);n.startEditingCell(t)},n.startEditingCell=function(e){var t=f.GridGeometry.calculateCellBounds(e.x,e.y,n.props.rowHeight,n.props.borderWidth,n.gridState.columnBoundaries(),n.props.columns),r=n.props.columns[e.x],i=n.props.data[e.y][r.fieldName];w.cellIsEditable(i)&&n.setState({editingCell:o({cell:i,colIndex:e.x,rowIndex:e.y},t,{fieldName:r.fieldName})})},n.cancelEditingCell=function(){n.setState({editingCell:null},n.focusRoot)},n.stopEditingCell=function(e){null!==n.state.editingCell&&(n.props.onCellDataChanged&&n.props.onCellDataChanged({cell:n.state.editingCell.cell,colIndex:n.state.editingCell.colIndex,rowIndex:n.state.editingCell.rowIndex,fieldName:n.state.editingCell.fieldName,newData:e}),n.setState({editingCell:null},n.focusRoot))},n.focusRoot=function(){n.rootRef.current&&n.rootRef.current.focus({preventScroll:!0})},n.gridState=new p.GridState(t.columns,t.data,t.rowHeight,t.borderWidth,t.frozenRows,t.frozenCols),n.state={rootSize:null,gridOffset:n.gridState.gridOffset(),editingCell:null},n}return r(t,e),t.prototype.componentDidMount=function(){var e=this;if(!this.rootRef.current)throw new Error("root element ref not set in componentDidMount, so cannot determine canvas size");var t=this.rootRef.current.getBoundingClientRect();this.rootRef.current.addEventListener("wheel",this.onWheel),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),this.setState({rootSize:{width:t.width,height:t.height}},function(){e.gridState.rootSize({width:t.width,height:t.height})}),a.consumer([this.gridState.gridOffset],function(t){return e.setState({gridOffset:t})})},t.prototype.componentDidUpdate=function(e){var t=this;if(!this.rootRef.current)throw new Error("root element ref not set in componentDidMount, so cannot determine canvas size");var n=this.rootRef.current.getBoundingClientRect();a.batch(function(){t.gridState.columns(t.props.columns),t.gridState.data(t.props.data),t.gridState.rowHeight(t.props.rowHeight),t.gridState.borderWidth(t.props.borderWidth),t.gridState.frozenRows(t.props.frozenRows),t.gridState.frozenCols(t.props.frozenCols),t.gridState.rootSize({width:n.width,height:n.height}),m.shouldSelectionClear(e,t.props)&&(t.gridState.cursorState(s.createDefault()),t.props.onSelectionCleared&&t.props.onSelectionCleared());var r=t.gridState.gridSize(),o=t.gridState.canvasSize(),i=f.GridGeometry.truncateGridOffset(t.gridState.gridOffset(),r,o);if(i&&t.gridState.gridOffsetRaw(i),null!==t.props.focusedColIndex&&t.props.focusedColIndex!==e.focusedColIndex){var a=f.GridGeometry.calculateGridOffsetForFocusedColumn(t.gridState.gridOffset(),o,t.gridState.frozenColsWidth(),t.props.focusedColIndex,t.gridState.columnBoundaries(),t.gridState.verticalGutterBounds());t.gridState.gridOffsetRaw(a)}})},t.prototype.componentWillUnmount=function(){this.rootRef.current&&this.rootRef.current.removeEventListener("wheel",this.onWheel),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp)},t.prototype.render=function(){var e=f.GridGeometry.calculateColumnBoundaries(this.props.columns,this.props.borderWidth),t=f.GridGeometry.calculateGridSize(this.props.data,e,this.props.rowHeight,this.props.borderWidth),n=f.GridGeometry.calculateGridPlusGutterSize(t,this.state.rootSize),r=f.GridGeometry.calculateCanvasSize(n,this.state.rootSize),o=f.GridGeometry.calculateFrozenColsWidth(e,this.props.frozenCols,this.props.borderWidth),i=f.GridGeometry.calculateFrozenRowsHeight(this.props.rowHeight,this.props.borderWidth,this.props.frozenRows);return l.createElement("div",{ref:this.rootRef,className:"react-canvas-grid",onMouseDown:this.onMouseDown,onDoubleClick:this.onDoubleClick,tabIndex:1,style:{position:"relative",width:this.props.cssWidth,height:this.props.cssHeight,overflow:"hidden",outline:"none"}},l.createElement(b.MainCanvas,{width:r.width,height:r.height,frozenColsWidth:o,frozenRowsHeight:i,gridState:this.gridState}),l.createElement(g.HighlightCanvas,{width:r.width,height:r.height,gridState:this.gridState}),this.state.editingCell&&l.createElement(v.InlineTextEditor,{cell:this.state.editingCell.cell,left:this.state.editingCell.left,top:this.state.editingCell.top,width:this.state.editingCell.width,height:this.state.editingCell.height,gridOffset:this.state.gridOffset,onSubmit:this.stopEditingCell,onCancel:this.cancelEditingCell}),l.createElement(h.FrozenCanvas,{width:r.width,height:r.height,frozenColsWidth:o,frozenRowsHeight:i,gridState:this.gridState}))},t.defaultProps={cssWidth:"100%",cssHeight:"100%",borderWidth:1,frozenRows:0,frozenCols:0,focusedColIndex:null},t}(l.PureComponent);t.ReactCanvasGrid=S},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),o=n(18),i=n(52),a=n(54),l=n(32),s=n(34);t.mouseDownOnGrid=function(e,t,n,r,l,c){if(a.isLeftButton(e)&&null===c&&!i.leftClickOnFrozenCell(e,t,n,r,l)){var u=o.GridGeometry.calculateGridCellCoordsFromGridState(e,n.current,l);s.startOrUpdateSelection(e,r,l,u)}},t.mouseDragOnGrid=function(e,t,n,c,u){if(!a.isLeftButton(e))return!1;if(null!==u)return!1;var d=c.cursorState();if(!r.hasSelectionState(d))return!1;var h=o.GridGeometry.calculateComponentPixel(e,t.current);if(i.leftClickDragOnFrozenCell(d,e,h,t,n,c))return!0;var f=e.clientX,p=e.clientY,g=function(){var e=o.GridGeometry.calculateGridCellCoordsFromGridState({clientX:f,clientY:p},t.current,c);s.updateSelection(n,c,e)};return l.startScrollBySelectionDragIfNeeded(c,h,g),g(),!0},t.mouseUpOnGrid=function(e,t,n){l.clearScrollByDragTimer(),null===n&&s.endSelection(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),o=n(18),i=n(32),a=n(34);t.leftClickOnFrozenCell=function(e,t,n,r,i){var l=t.x<i.frozenColsWidth(),s=t.y<i.frozenRowsHeight();if(!l&&!s)return!1;if(l&&s)a.selectAll(r,i);else if(l){var c=o.GridGeometry.calculateGridCellCoordsFromGridState({clientX:0,clientY:e.clientY},n.current,i);a.selectOrUpdateRow(e,r,i,c)}else if(s){c=o.GridGeometry.calculateGridCellCoordsFromGridState({clientX:e.clientX,clientY:0},n.current,i);a.selectOrUpdateCol(e,r,i,c)}return!0},t.leftClickDragOnFrozenCell=function(e,t,n,l,s,c){if(!r.hasSelectionFrozenState(e))return!1;var u=n.x<c.frozenColsWidth(),d=n.y<c.frozenRowsHeight();if(!u&&!d)return!1;var h=t.clientX,f=t.clientY,p=function(){if(u&&d);else if(u){var e=o.GridGeometry.calculateGridCellCoordsFromGridState({clientX:0,clientY:f},l.current,c);a.updateSelectionRow(s,c,e)}else if(d){e=o.GridGeometry.calculateGridCellCoordsFromGridState({clientX:h,clientY:0},l.current,c);a.updateSelectionCol(s,c,e)}};return r.hasSelectionRowState(e)?i.startScrollBySelectionDragIfNeeded(c,n,p,{suppressX:!0}):r.hasSelectionColumnState(e)&&i.startScrollBySelectionDragIfNeeded(c,n,p,{suppressY:!0}),p(),!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numberBetween=function(e,t,n){return Math.max(Math.min(e,n),t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isLeftButton=function(e){return 1===(1&e.buttons)}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),i=r(n(20)),a=null;t.mouseDownOnScrollbar=function(e,t){var n=i.getHitScrollBar(e,t.horizontalScrollbarPos(),t.verticalScrollbarPos());return!!n&&(a={bar:n,origScrollbarStart:"x"===n?t.horizontalScrollbarPos().extent.start:t.verticalScrollbarPos().extent.start,origClick:"x"===n?e.x:e.y},!0)},t.mouseDragOnScrollbar=function(e,t){if(!a)return!1;var n="x"===a.bar?{frozenLen:t.frozenColsWidth(),canvasLen:t.canvasSize().width,gridLen:t.gridSize().width,barLen:t.horizontalScrollbarLength(),clickCoord:e.x}:{frozenLen:t.frozenRowsHeight(),canvasLen:t.canvasSize().height,gridLen:t.gridSize().height,barLen:t.verticalScrollbarLength(),clickCoord:e.y},r=n.clickCoord-a.origClick,l=a.origScrollbarStart+r,s=i.calculateFractionFromStartPos(l,n.frozenLen,n.canvasLen,n.barLen),c=o.GridGeometry.calculateGridOffsetFromFraction(s,n.gridLen,n.canvasLen);return"x"===a.bar?t.gridOffsetRaw({x:c,y:t.gridOffset().y}):t.gridOffsetRaw({x:t.gridOffset().x,y:c}),!0},t.mouseHoverOnScrollbar=function(e,t){var n=i.getHitScrollBar(e,t.horizontalScrollbarPos(),t.verticalScrollbarPos());t.hoveredScrollbar(n)},t.mouseUpOnScrollbar=function(){return!!a&&(a=null,!0)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(12)),l=n(57),s=n(59),c=n(60),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement(a.Fragment,null,this.props.frozenRowsHeight>0&&this.props.frozenColsWidth>0&&a.createElement(s.FrozenCornerCanvas,o({},this.props)),this.props.frozenRowsHeight>0&&a.createElement(c.FrozenRowsCanvas,o({},this.props)),this.props.frozenColsWidth>0&&a.createElement(l.FrozenColsCanvas,o({},this.props)))},t}(a.Component);t.FrozenCanvas=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),l=i(n(12)),s=n(21),c=function(e){function t(t){var n=e.call(this,t)||this,r=a.transformer([t.gridState.visibleRect,t.gridState.frozenRowsHeight,t.gridState.horizontalGutterBounds],function(e,t,n){var r=n?n.height:0;return o({},e,{left:0,right:e.width,top:e.top+t,bottom:e.bottom-r,height:e.height-t-r})});return n.colsPosProps=a.transformer([r],function(e){return{gridOffset:{x:e.left,y:e.top},visibleRect:e}}),n}return r(t,e),t.prototype.render=function(){var e=this.props.gridState.horizontalGutterBounds(),t=e?e.height:0,n=o({},this.props,{top:this.props.frozenRowsHeight,left:0,height:this.props.height-this.props.frozenRowsHeight-t,width:this.props.frozenColsWidth,posProps:this.colsPosProps});return l.createElement(s.GridCanvas,o({},n))},t}(l.Component);t.FrozenColsCanvas=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(31)),a=n(35),l={gridOffset:{x:0,y:0},visibleRect:{left:0,top:0,right:0,bottom:0,height:0,width:0}},s=function(e){function t(t,n,r,o){var a=e.call(this,t,o,!1)||this;return a.posProps=l,a.prevDraw=null,a.updateProps=function(e,t,n,r){a.canvas!==e&&a.setCanvas(e),i.default(a.canvasSize,t)&&i.default(a.basicProps,n)||(a.prevDraw=null),a.canvasSize=t,a.basicProps=n,a.posProps=r,a.drawScaled(a.draw)},a.draw=function(){var e=a.prevDraw,t=a.basicProps,n=a.posProps;if(e){var r=e.gridOffset.x-n.gridOffset.x,o=e.gridOffset.y-n.gridOffset.y;a.shiftExistingCanvas(r,o),a.drawNewBorderBackground(r,o,a.canvasSize.width,a.canvasSize.height)}else a.drawWholeBorderBackground(a.canvasSize.width,a.canvasSize.height);a.translateToGridOffset(n.gridOffset);for(var i=0,l=Math.floor(n.visibleRect.top/(t.rowHeight+t.borderWidth)),s=Math.min(Math.ceil(n.visibleRect.bottom/(t.rowHeight+t.borderWidth)),t.gridInnerSize.height/(t.rowHeight+t.borderWidth)),c=0,u=t.colBoundaries;c<u.length;c++){var d=u[c],h=d.left,f=d.right;if(f<n.visibleRect.left)i++;else{if(h>n.visibleRect.right)break;for(var p=t.columns[i],g=l;g<s;g++){var m=t.data[g][p.fieldName],v={left:h,top:g*(t.rowHeight+t.borderWidth),right:h+p.width,bottom:g*(t.rowHeight+t.borderWidth)+t.rowHeight,width:p.width,height:t.rowHeight};e&&Math.max(h,n.visibleRect.left)>=e.rect.left&&Math.min(f,n.visibleRect.right)<=e.rect.right&&Math.max(v.top,n.visibleRect.top)>=e.rect.top&&Math.min(v.bottom,n.visibleRect.bottom)<=e.rect.bottom||a.drawCell(m,v,{column:p,rowIndex:g,colIndex:i})}i++}}a.translateToOrigin(n.gridOffset),a.prevDraw={gridOffset:n.gridOffset,rect:{left:Math.max(n.gridOffset.x,n.visibleRect.left),top:Math.max(n.gridOffset.y,n.visibleRect.top),right:Math.min(n.gridOffset.x+a.canvasSize.width,n.visibleRect.right),bottom:Math.min(n.gridOffset.y+a.canvasSize.height,n.visibleRect.bottom)}}},a.canvasSize=n,a.basicProps=r,a}return r(t,e),t.prototype.translateToGridOffset=function(e){this.context.translate(-e.x,-e.y)},t.prototype.translateToOrigin=function(e){this.context.translate(e.x,e.y)},t.prototype.drawWholeBorderBackground=function(e,t){this.context.fillStyle=a.borderColour,this.context.fillRect(0,0,e,t)},t.prototype.shiftExistingCanvas=function(e,t){this.context.drawImage(this.canvas,0,0,this.canvas.width*this.dpr,this.canvas.height*this.dpr,e,t,this.canvas.width,this.canvas.height)},t.prototype.drawNewBorderBackground=function(e,t,n,r){if(this.context.fillStyle=a.borderColour,t<0){var o=r+t,i=-t;this.context.fillRect(0,o,n,i)}else if(t>0){i=t;this.context.fillRect(0,0,n,i)}if(e<0){var l=n+e,s=-e;this.context.fillRect(l,0,s,r)}else if(e>0){l=0,s=e;this.context.fillRect(l,0,s,r)}},t}(a.CommonCanvasRenderer);t.GridCanvasRenderer=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),l=i(n(12)),s=n(21),c=function(e){function t(t){var n=e.call(this,t)||this,r=a.transformer([t.gridState.visibleRect],function(e){return o({},e,{top:0,left:0,right:e.width,bottom:e.height})});return n.cornerPosProps=a.transformer([r],function(e){return{gridOffset:{x:e.left,y:e.top},visibleRect:e}}),n}return r(t,e),t.prototype.render=function(){var e=o({},this.props,{top:0,left:0,height:this.props.frozenRowsHeight,width:this.props.frozenColsWidth,posProps:this.cornerPosProps});return l.createElement(s.GridCanvas,o({},e))},t}(l.Component);t.FrozenCornerCanvas=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),l=i(n(12)),s=n(21),c=function(e){function t(t){var n=e.call(this,t)||this,r=a.transformer([t.gridState.visibleRect,t.gridState.frozenColsWidth,t.gridState.verticalGutterBounds],function(e,t,n){var r=n?n.width:0;return o({},e,{top:0,bottom:e.height,left:e.left+t,right:e.right-r,width:e.width-t-r})});return n.rowsPosProps=a.transformer([r],function(e){return{gridOffset:{x:e.left,y:e.top},visibleRect:e}}),n}return r(t,e),t.prototype.render=function(){var e=this.props.gridState.verticalGutterBounds(),t=e?e.width:0,n=o({},this.props,{top:0,left:this.props.frozenColsWidth,height:this.props.frozenRowsHeight,width:this.props.width-this.props.frozenColsWidth-t,posProps:this.rowsPosProps});return l.createElement(s.GridCanvas,o({},n))},t}(l.Component);t.FrozenRowsCanvas=c},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(14),i=r(n(16)),a=n(18),l=r(n(20)),s=function(){return function(e,t,n,r,s,c){this.columns=o.activeSource(e),this.data=o.activeSource(t),this.rowHeight=o.activeSource(n),this.borderWidth=o.activeSource(r),this.frozenRows=o.activeSource(s),this.frozenCols=o.activeSource(c),this.dpr=o.activeSource(window.devicePixelRatio),this.rootSize=o.activeSource(null),this.gridOffsetRaw=o.activeSource({x:0,y:0}),this.cursorState=o.activeSource(i.createDefault()),this.hoveredScrollbar=o.activeSource(null),this.gridOffset=o.transformer([this.gridOffsetRaw,this.dpr],a.GridGeometry.quantiseGridOffset),this.columnBoundaries=o.transformer([this.columns,this.borderWidth],a.GridGeometry.calculateColumnBoundaries),this.gridInnerSize=o.transformer([this.data,this.columnBoundaries,this.rowHeight,this.borderWidth],a.GridGeometry.calculateGridSize),this.gridSize=o.transformer([this.gridInnerSize,this.rootSize],a.GridGeometry.calculateGridPlusGutterSize),this.canvasSize=o.transformer([this.gridSize,this.rootSize],a.GridGeometry.calculateCanvasSize),this.visibleRect=o.transformer([this.gridOffset,this.canvasSize],a.GridGeometry.calculateVisibleRect),this.frozenColsWidth=o.transformer([this.columnBoundaries,this.frozenCols,this.borderWidth],a.GridGeometry.calculateFrozenColsWidth),this.frozenRowsHeight=o.transformer([this.rowHeight,this.borderWidth,this.frozenRows],a.GridGeometry.calculateFrozenRowsHeight),this.horizontalScrollbarLength=o.transformer([this.canvasSize,this.gridSize,this.frozenColsWidth],l.getHorizontalScrollbarLength),this.verticalScrollbarLength=o.transformer([this.canvasSize,this.gridSize,this.frozenRowsHeight],l.getVerticalScrollbarLength),this.horizontalScrollbarExtent=o.transformer([this.gridOffset,this.canvasSize,this.gridSize,this.horizontalScrollbarLength,this.frozenColsWidth],l.getHorizontalScrollbarExtent),this.verticalScrollbarExtent=o.transformer([this.gridOffset,this.canvasSize,this.gridSize,this.verticalScrollbarLength,this.frozenRowsHeight],l.getVerticalScrollbarExtent),this.horizontalScrollbarPos=o.transformer([this.horizontalScrollbarExtent,this.canvasSize,this.gridSize],l.getHorizontalScrollbarPos),this.verticalScrollbarPos=o.transformer([this.verticalScrollbarExtent,this.canvasSize,this.gridSize],l.getVerticalScrollbarPos),this.horizontalGutterBounds=o.transformer([this.canvasSize,this.gridInnerSize],l.getHorizontalGutterBounds),this.verticalGutterBounds=o.transformer([this.canvasSize,this.gridInnerSize],l.getVerticalGutterBounds)}}();t.GridState=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(14),a=o(n(12)),l=n(36),s=function(e){function t(t){var n=e.call(this,t)||this;return n.canvasRef=a.createRef(),n.renderer=null,n.renderCallback=null,n}return r(t,e),t.prototype.render=function(){return a.createElement("canvas",{ref:this.canvasRef,width:this.props.width*this.props.gridState.dpr(),height:this.props.height*this.props.gridState.dpr(),style:{position:"absolute",width:this.props.width+"px",height:this.props.height+"px",top:0,left:0}})},t.prototype.componentDidMount=function(){var e=this;if(!this.canvasRef.current)throw new Error("canvasRef is null in componentDidMount - cannot create renderer");var t=this.props.gridState,n=i.transformer([t.data,t.columns,t.canvasSize,t.gridSize,t.gridInnerSize,t.frozenColsWidth,t.frozenRowsHeight,t.rowHeight,t.columnBoundaries,t.borderWidth,t.horizontalGutterBounds,t.verticalGutterBounds],function(e,t,n,r,o,i,a,l,s,c,u,d){return{data:e,columns:t,canvasSize:n,gridSize:r,gridInnerSize:o,frozenColsWidth:i,frozenRowsHeight:a,rowHeight:l,columnBoundaries:s,borderWidth:c,horizontalGutterBounds:u,verticalGutterBounds:d}}),r=i.transformer([t.horizontalScrollbarPos,t.verticalScrollbarPos,t.hoveredScrollbar],function(e,t,n){return{horizontalScrollbarPos:e,verticalScrollbarPos:t,hoveredScrollbar:n}}),o=i.transformer([t.gridOffset,t.visibleRect],function(e,t){return{gridOffset:e,visibleRect:t}}),a=i.transformer([t.cursorState],function(e){return{cursorState:e}});this.renderer=new l.HighlightCanvasRenderer(this.canvasRef.current,n(),t.dpr()),this.renderCallback=i.consumer([n,o,r,a],function(t,n,r,o){if(e.renderer){if(!e.canvasRef.current)throw new Error("canvasRef is null in componentDidMount - cannot create renderer");e.renderer.updateProps(e.canvasRef.current,t,n,r,o)}})},t.prototype.componentWillUnmount=function(){this.renderCallback&&this.renderCallback.deregister()},t}(a.Component);t.HighlightCanvas=s},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(12));t.InlineTextEditor=function(e){var t=e.cell.editor.serialise(e.cell.data),n=function(t){var n=t.currentTarget.value,r=e.cell.editor.deserialise(n,e.cell.data);e.onSubmit(r)};return o.createElement("input",{type:"text",style:{position:"absolute",boxSizing:"border-box",top:e.top-e.gridOffset.y+"px",left:e.left-e.gridOffset.x+"px",width:e.width+"px",height:e.height+"px",border:"0"},autoFocus:!0,defaultValue:t,onBlur:n,onKeyPress:function(e){"Enter"===e.key&&n(e)},onKeyUp:function(t){27===t.keyCode&&e.onCancel()}})}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),l=i(n(12)),s=n(21),c=function(e){function t(t){var n=e.call(this,t)||this,r=a.transformer([t.gridState.visibleRect,t.gridState.frozenRowsHeight,t.gridState.frozenColsWidth],function(e,t,n){return o({},e,{top:e.top+t,left:e.left+n,height:e.height-t,width:e.width-n})});return n.posProps=a.transformer([r],function(e){return{gridOffset:{x:e.left,y:e.top},visibleRect:e}}),n}return r(t,e),t.prototype.render=function(){var e=o({},this.props,{top:this.props.frozenRowsHeight,left:this.props.frozenColsWidth,height:this.props.height-this.props.frozenRowsHeight,width:this.props.width-this.props.frozenColsWidth,posProps:this.posProps});return l.createElement(s.GridCanvas,o({},e))},t}(l.Component);t.MainCanvas=c},function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(38),a=n.n(i),l=n(2),s=n(3),c=n(5),u=n(4),d=n(6),h=n(13),f=n(24),p=(n(46),n(1)),g=(n(65),function(e){return r.createElement("div",{className:"fixed-size-holder"},e.children)}),m=(n(67),function(e){return r.createElement("div",{className:"padded-page"},e.children)}),v=n(8);function b(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{columns:w(t),rows:S(e,t,n,r)}}function w(e){for(var t=[],n=0;n<e;n++)t.push({fieldName:"col-".concat(n),width:50});return t}function S(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=[],i=function(e){for(var i={},a=function(t){i["col-".concat(t)]=Object(v.a)({getText:function(){return"".concat(e+1,"x").concat(t+1)},data:n(t,e)},r)},l=0;l<t;l++)a(l);o.push(i)},a=0;a<e;a++)i(a);return o}var y=function(e,t){e.fillStyle="lightgreen",e.fillRect(t.left,t.top,t.width,t.height)},C=function(e,t,n){e.fillStyle="red";var r=Object(p.cellHasTextFunction)(n)?n.getText(n.data):n.text;e.fillText(r,t.left+2,t.top+15,t.width-4)},x=n(15),O=n(27),E=(n(69),function(e){return r.createElement("form",{className:"controls"},e.children)}),R=function(e){return r.createElement("span",{className:"inline-controls-group"},e.children)},_=function(e){return r.createElement("input",Object.assign({type:"number"},e))},z=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).changeColsDebounceTimeout=null,n.changeRowsDebounceTimeout=null,n.changeNumRows=function(e){n.changeRowsDebounceTimeout&&clearTimeout(n.changeRowsDebounceTimeout);var t=e.target.valueAsNumber;n.changeRowsDebounceTimeout=setTimeout(n.changeNumRowsDebounced,80,t)},n.changeNumRowsDebounced=function(e){n.changeRowsDebounceTimeout=null;var t=b(e,n.state.numCols,function(){}),r=t.columns,o=t.rows;n.setState({columns:r,data:o,numRows:e})},n.changeNumCols=function(e){n.changeColsDebounceTimeout&&clearTimeout(n.changeColsDebounceTimeout);var t=e.target.valueAsNumber;n.changeColsDebounceTimeout=setTimeout(n.changeNumColsDebounced,80,t)},n.changeNumColsDebounced=function(e){n.changeColsDebounceTimeout=null;var t=b(n.state.numRows,e,function(){}),r=t.columns,o=t.rows;n.setState({columns:r,data:o,numCols:e})},n.moveFirstColumnToEnd=function(e){n.setState({columns:[].concat(Object(O.a)(n.state.columns.slice(1)),[n.state.columns[0]])}),e.preventDefault()},n.modifyTopLeftCell=function(e){var t=n.state.columns[0].fieldName;n.setState({data:[Object(v.a)({},n.state.data[0],Object(x.a)({},t,Object(v.a)({},n.state.data[0][t],{getText:function(){return"Modified"}})))].concat(Object(O.a)(n.state.data.slice(1)))}),e.preventDefault()},n.reset=function(e){n.setState(P()),e.preventDefault()},n.state=P(),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.createElement(m,null,r.createElement("h1",null,"Dynamic Data"),r.createElement("p",null,"Updates to the ",r.createElement("code",null,"columns")," and ",r.createElement("code",null,"data")," props cause the grid to re-render with new values."),r.createElement("p",null,"The selected cells are cleared if ",r.createElement("code",null,"columns")," changes or the number of rows (in ",r.createElement("code",null,"data"),") changes. The selection is not cleared, however, if ",r.createElement("code",null,"columns"),"\xa0stays the same and ",r.createElement("code",null,"data")," is replaced with an array of the same length (even if the contents within the array is different). I.e. if the ",r.createElement("em",null,"structure")," of the grid has changed then the selection is cleared, but if only the ",r.createElement("em",null,"contents")," change then the selection is retained."),r.createElement("p",null,"The scroll position is maintained as long as it is valid in the newly rendered grid. If not (because there are fewer columns or rows) the scroll position is truncated."),r.createElement(E,null,r.createElement("div",null,r.createElement(R,null,r.createElement("label",null,"Number of rows: "),r.createElement(_,{id:"num-rows",onChange:this.changeNumRows,defaultValue:this.state.numRows})),r.createElement(R,null,r.createElement("label",null,"Number of columns: "),r.createElement(_,{id:"num-cols",onChange:this.changeNumCols,defaultValue:this.state.numCols}))),r.createElement("div",null,r.createElement(R,null,r.createElement("button",{id:"first-col-to-end",onClick:this.moveFirstColumnToEnd},"Move first column to end")),r.createElement(R,null,r.createElement("button",{id:"modify-top-left",onClick:this.modifyTopLeftCell},"Modify top left cell")),r.createElement(R,null,r.createElement("button",{id:"reset",onClick:this.reset},"Reset")))),r.createElement(g,null,r.createElement(p.ReactCanvasGrid,{columns:this.state.columns,data:this.state.data,rowHeight:20})))}}]),t}(r.Component),P=function(){var e=b(20,100,function(){});return{columns:e.columns,data:e.rows,numCols:100,numRows:20}},G=n(28),j=function(e){function t(e){var n;Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onCellDataChanged=function(e){n.setState({data:n.state.data.map(function(t,n){return n===e.rowIndex?Object(v.a)({},t,Object(x.a)({},e.fieldName,Object(v.a)({},t[e.fieldName],{data:e.newData}))):t})})};var r={editor:{serialise:function(e){var t=Object(G.a)(e,2),n=t[0],r=t[1];return"".concat(n,",").concat(r)},deserialise:function(e,t){var n=e.match(/(\d+),(\d+)/);return n?[parseInt(n[1],10),parseInt(n[2],10)]:t}},getText:function(e){var t=Object(G.a)(e,2),n=t[0],r=t[1];return"".concat(n,"x").concat(r)}};return n.state={data:S(100,200,function(e,t){return[e,t]},r)},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=w(20);return r.createElement(m,null,r.createElement("h1",null,"Editable Data"),r.createElement("p",null,"A cell is editable if its definition includes an ",r.createElement("code",null,"editor")," property. If the grid also has a ",r.createElement("code",null,"onCellDataChanged")," prop, that can persist changes made to data to be shown on the grid."),r.createElement("p",null,"The ",r.createElement("code",null,"editor")," provides two functions, ",r.createElement("code",null,"serialise")," and \xa0",r.createElement("code",null,"deserialise"),", that translate between the ",r.createElement("code",null,"data")," stored on the cell definition and the text displayed in the editor ",r.createElement("code",null,"input"),"."),r.createElement("p",null,"Displaying the inline editor is not enough, however, as react-canvas-grid does not manage the data; instead, when data changes, it will call the function provided as the ",r.createElement("code",null,"onCellDataChanged")," prop. This function can then update the contents of the ",r.createElement("code",null,"data")," prop, causing the grid to render the changes."),r.createElement("p",null,"Note that the text displayed in the editor need not be the same as the text displayed in the cell itself (as defined by ",r.createElement("code",null,"text")," or ",r.createElement("code",null,"getText"),"). In this example, the editor text is of the form ",r.createElement("code",null,"A,B")," (i.e. comma separated), but cells are displayed as ",r.createElement("code",null,"AxB")," (i.e. with an x)."),r.createElement("p",null,"To edit a cell, double click it. Invalid values will be ignored."),r.createElement(g,null,r.createElement(p.ReactCanvasGrid,{columns:e,data:this.state.data,rowHeight:20,onCellDataChanged:this.onCellDataChanged})))}}]),t}(r.Component),M=(n(71),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).logRef=void 0,n.logRef=r.createRef(),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.createElement("textarea",{ref:this.logRef,className:"event-log",value:this.props.log,readOnly:!0})}},{key:"componentDidUpdate",value:function(){this.logRef.current&&(this.logRef.current.scrollTop=this.logRef.current.scrollHeight)}}]),t}(r.PureComponent)),T=b(100,20,function(e,t){return"".concat(e,",").concat(t)},{editor:{serialise:function(e){return e},deserialise:function(e,t){return e}},getText:function(e){return e}}),D=T.columns,k=T.rows,W=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onCellDataChanged=function(e){var t=e.colIndex,r=e.rowIndex,o=e.fieldName,i=e.newData;n.setState({eventLog:n.state.eventLog+"changed: row ".concat(r,' of column "').concat(o,'" (index ').concat(t,") to ").concat(i,"\n")})},n.state={eventLog:""},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.createElement(m,null,r.createElement("h1",null,"Edit Events"),r.createElement("p",null,"The callback ",r.createElement("code",null,"onCellDataChanged")," allow consumers of react-canvas-grid to respond to the user making changes to the data. Typically, this is used to update the data passed to the grid in the ",r.createElement("code",null,"data")," prop. Without doing so, the grid's data will not be changed. See the ",r.createElement(h.b,{to:"/editable"},"Editable Data")," example for further detail. This example does not update the data, but merely logs event."),r.createElement("p",null,"Note that the callback is fired when the user hits enter on the inline editor, or when the inline editor loses focus, regardless of whether the data has been changed. The inline editor can be dismissed with the escape key, regardless of whether the data has been changed."),r.createElement(g,null,r.createElement(p.ReactCanvasGrid,{columns:D,data:k,rowHeight:20,onCellDataChanged:this.onCellDataChanged})),r.createElement(M,{log:this.state.eventLog}))}}]),t}(r.Component),B=(n(77),250),H=3,F=250,L=[{text:"Lorem",colour:"red"},{text:"Ipsum",colour:"orange"},{text:"Dolor",colour:"lightblue"},{text:"Sit",colour:"lightgreen"},{text:"Amet",colour:"lightpink"}],I=["topleft","bottomright","full","none","none","none","none","none","none"],N=function(e,t){e.fillStyle="#eee",e.fillRect(t.left,t.top,t.width,t.height)},U=function(e,t,n){"full"!==n.data.highlight&&(e.fillStyle=n.data.bgColour,e.fillRect(t.left,t.top,t.width,t.height)),"none"!==n.data.highlight&&(e.fillStyle="yellow","full"===n.data.highlight?e.fillRect(t.left,t.top,t.width,t.height):"topleft"===n.data.highlight?(e.beginPath(),e.moveTo(t.left,t.top),e.lineTo(t.left,t.bottom),e.lineTo(t.right,t.top),e.closePath(),e.fill()):"bottomright"===n.data.highlight&&(e.beginPath(),e.moveTo(t.left,t.bottom),e.lineTo(t.right,t.bottom),e.lineTo(t.right,t.top),e.closePath(),e.fill()))};function A(e){return e.shouldReverseText?e.text.split("").reverse().join(""):e.text}function K(e){return(e.shouldReverseText?"!":"")+e.text}function V(e,t){var n=e.startsWith("!"),r=n?e.slice(1):e;return Object(v.a)({},t,{shouldReverseText:n,text:r})}function X(e){for(var t=[{fieldName:"date",width:80}],n=0;n<e;n++)t.push({fieldName:n.toString(),width:100});return t}function Y(e){for(var t=[],n=0;n<F;n++){for(var r={date:{text:(n+1).toString(),data:null,renderBackground:N}},o=0;o<e;o++){var i=L[Math.floor(Math.random()*L.length)],a=I[Math.floor(Math.random()*I.length)];if(0===n){var l={getText:A,data:{bgColour:i.colour,highlight:a,text:i.text,shouldReverseText:Math.random()<.5},renderBackground:N};r[o.toString()]=l}else{var s={getText:A,data:{bgColour:i.colour,highlight:a,text:i.text,shouldReverseText:Math.random()<.5},renderBackground:U,editor:{serialise:K,deserialise:V}};r[o.toString()]=s}}t.push(r)}return t}var q=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).selectionChanged=function(e){n.setState({selectedRange:e,isDragging:!0})},n.selectionFinished=function(e){n.setState({selectedRange:e,isDragging:!1})},n.selectionCleared=function(){n.setState({selectedRange:null,isDragging:!1})},n.focusColumn=function(e){"none"===e.target.value?n.setState({focusedCol:null}):n.setState({focusedCol:parseInt(e.target.value,10)})},n.replaceDataLarge=function(){n.setState({colDefs:X(B),data:Y(B)})},n.replaceDataSmall=function(){n.setState({colDefs:X(H),data:Y(H)})},n.updateCell=function(){n.setState({data:n.state.data.map(function(e,t){if(0===t){var n=L[Math.floor(Math.random()*L.length)],r=I[Math.floor(Math.random()*I.length)];return Object(v.a)({},e,{0:Object(v.a)({},e[0],{data:Object(v.a)({},e[0].data,{bgColour:n.colour,highlight:r,text:n.text,shouldReverseText:Math.random()<.5})})})}return e})})},n.onCellDataChanged=function(e){n.setState({data:n.state.data.map(function(t,n){return n===e.rowIndex?Object(v.a)({},t,Object(x.a)({},e.fieldName,Object(v.a)({},t[e.fieldName],{data:e.newData}))):t})})},n.onKeyPressed=function(e){n.setState({lastKeyPress:e.key})},n.state={colDefs:X(B),data:Y(B),selectedRange:null,isDragging:!1,focusedCol:null,lastKeyPress:null},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.colDefs.map(function(t){var n=e.state.data[0][t.fieldName];return Object(p.getCellText)(n)});return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("p",null,"Page header"),o.a.createElement("div",null,this.state.isDragging?"Dragging":"","\xa0",this.state.selectedRange?JSON.stringify(this.state.selectedRange):""),o.a.createElement("div",null,this.state.lastKeyPress),o.a.createElement("button",{onClick:this.replaceDataLarge},"Replace data (Large)"),o.a.createElement("button",{onClick:this.replaceDataSmall},"Replace data (Small)"),o.a.createElement("button",{onClick:this.updateCell},"Update cell"),o.a.createElement("label",null,"Focus column:"),o.a.createElement("select",{onChange:this.focusColumn,defaultValue:"none"},o.a.createElement("option",{value:"none"},"None"),t.map(function(e,t){return o.a.createElement("option",{key:t,value:t},t," (",e,")")}))),o.a.createElement("div",{style:{height:"600px",width:"800px",overflow:"scroll"}},o.a.createElement("div",{style:{height:"80px",backgroundColor:"blue"}},o.a.createElement("span",null,"Body header")),o.a.createElement("div",{style:{paddingLeft:"100px",paddingRight:"100px",backgroundColor:"purple"},onKeyPress:this.onKeyPressed},o.a.createElement(p.ReactCanvasGrid,{cssHeight:"800px",cssWidth:"800px",columns:this.state.colDefs,data:this.state.data,rowHeight:20,frozenRows:1,frozenCols:1,onSelectionChangeStart:this.selectionChanged,onSelectionChangeUpdate:this.selectionChanged,onSelectionChangeEnd:this.selectionFinished,onSelectionCleared:this.selectionCleared,onCellDataChanged:this.onCellDataChanged,focusedColIndex:this.state.focusedCol})),o.a.createElement("div",{style:{height:"80px",backgroundColor:"red"}},o.a.createElement("span",null,"Body footer")))))}}]),t}(r.Component),J=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).focusColumn=function(e){"none"===e.target.value?n.setState({focusedCol:null}):n.setState({focusedCol:parseInt(e.target.value,10)})},n.toggleFrozenCols=function(){n.setState({freezeCols:!n.state.freezeCols})},n.state={focusedCol:null,freezeCols:!1},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=b(20,100,function(){}),t=e.columns,n=e.rows;return r.createElement(m,null,r.createElement("h1",null,"Focused Columns"),r.createElement("p",null,"Updates to the ",r.createElement("code",null,"focusedColIndex")," cause the grid to automatically scroll to ensure the indicated column is displayed. The scrolling behaviour is aware of frozen columns."),r.createElement("p",null,"This can be useful for building a 'search' feature."),r.createElement(E,null,r.createElement("div",null,r.createElement("label",null,"Select a column to focus: "),r.createElement("select",{onChange:this.focusColumn,defaultValue:"none"},r.createElement("option",{value:"none"},"None"),t.map(function(e,t){return r.createElement("option",{key:t,value:t},t+1)}))),r.createElement("div",null,r.createElement("label",{htmlFor:"toggle-frozen-cols"},"Select to freeze columns 1 & 2: "),r.createElement("input",{id:"toggle-frozen-cols",type:"checkbox",onChange:this.toggleFrozenCols}))),r.createElement(g,null,r.createElement(p.ReactCanvasGrid,{columns:t,data:n,rowHeight:20,focusedColIndex:this.state.focusedCol,frozenCols:this.state.freezeCols?2:0})))}}]),t}(r.Component),Q=b(100,20,function(e,t){return"".concat(e,",").concat(t)},{editor:{serialise:function(e){return e},deserialise:function(e,t){return e}},getText:function(e){return e}}),Z=Q.columns,$=Q.rows,ee=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onKeyUp=function(e){n.setState({eventLog:n.state.eventLog+"key up: ".concat(e.key,"\n")})},n.state={eventLog:""},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.createElement(m,null,r.createElement("h1",null,"Keyboard Events"),r.createElement("p",null,"Keyboard events bubble up, so can be captured the parent element of the grid (when the grid has focus)."),r.createElement("p",null,"Note that keyboard events will also bubble up when the user interacts with the inline editor, which you may wish to ignore. To do so, you may wish to observe the grid's edit events."),r.createElement("p",null,"Also note that the editing functionality provided in this example is incomplete; changes are not persisted. To see a more complete example, see the ",r.createElement(h.b,{to:"/editable"},"Editable Data")," example."),r.createElement(g,null,r.createElement("div",{onKeyUp:this.onKeyUp,style:{height:"100%"}},r.createElement(p.ReactCanvasGrid,{columns:Z,data:$,rowHeight:20}))),r.createElement(M,{log:this.state.eventLog}))}}]),t}(r.Component),te=b(100,20,function(){}),ne=te.columns,re=te.rows,oe=[{pathFragment:"/full-example",name:"Full Example",description:"A kitchen-sink example, with as many features demonstrated at once as possible.",component:q},{pathFragment:"/small",name:"Small Grid",description:"A basic grid setup with minimal data.",component:function(){return r.createElement(m,null,r.createElement("h1",null,"Small Grid"),r.createElement("p",null,"This is a minimal usage of react-canvas-grid: a small, read-only grid of static values."),r.createElement(p.ReactCanvasGrid,{cssHeight:"45px",columns:[{fieldName:"field-one",width:50},{fieldName:"field-two",width:50}],data:[{"field-one":{data:void 0,text:"1A"},"field-two":{data:void 0,text:"1B"}},{"field-one":{data:void 0,text:"2A"},"field-two":{data:void 0,text:"2B"}}],rowHeight:20}))}},{pathFragment:"/simple",name:"Simple Grid",description:"A basic grid setup with enough data to need to scroll",component:function(){var e=b(100,20,function(){}),t=e.columns,n=e.rows;return r.createElement(m,null,r.createElement("h1",null,"Simple Grid"),r.createElement("p",null,"This is a basic usage of react-canvas-grid: a read-only grid of static values, held within a ",r.createElement("code",null,"div")," of fixed size."),r.createElement("p",null,"Note that because the ",r.createElement("code",null,"cssHeight")," and ",r.createElement("code",null,"cssWidth")," props of\xa0",r.createElement("code",null,"ReactCanvasGrid")," default to ",r.createElement("code",null,"100%"),", the grid is constrained to the size of its parent. Since the data in the grid requires a larger area than that, the grid becomes scrollable."),r.createElement(g,null,r.createElement(p.ReactCanvasGrid,{columns:t,data:n,rowHeight:20})))}},{pathFragment:"/editable",name:"Editable Data",description:"A grid with cells backed by data, made editable through a text box",component:j},{pathFragment:"/frozen",name:"Frozen Rows & Columns",description:"A grid with rows and columns that do not scroll",component:function(){var e=b(100,20,function(){}),t=e.columns,n=e.rows;return r.createElement(m,null,r.createElement("h1",null,"Frozen Rows & Columns"),r.createElement("p",null,"By setting the ",r.createElement("code",null,"frozenRows")," and ",r.createElement("code",null,"frozenCols")," props, rows and columns of cells can be 'frozen' - i.e. fixed in place, even as the rest of the grid scrolls."),r.createElement("p",null,"This can be useful for creating column or row headers."),r.createElement(g,null,r.createElement(p.ReactCanvasGrid,{columns:t,data:n,rowHeight:20,frozenRows:1,frozenCols:1})))}},{pathFragment:"/focused-column",name:"Column Focusing",description:"Automatically scroll to a selected column",component:J},{pathFragment:"/dynamic-data",name:"Dynamic Data",description:"Update the columns and rows provided to the grid component",component:z},{pathFragment:"/custom-bg",name:"Custom Background Renderer",description:"Draw cells with custom backgrounds",component:function(){var e=b(100,20,function(){},{renderBackground:y}),t=e.columns,n=e.rows;return r.createElement(m,null,r.createElement("h1",null,"Custom Background Renderer"),r.createElement("p",null,"When specifying a cell definition, you can provide a ",r.createElement("code",null,"renderBackground")," function to customise drawing the cell's background."),r.createElement("p",null,"Here, all cells use the same background renderer in order to draw the background as light green."),r.createElement(g,null,r.createElement(p.ReactCanvasGrid,{columns:t,data:n,rowHeight:20})))}},{pathFragment:"/custom-text",name:"Custom Text Renderer",description:"Draw cells with custom text",component:function(){var e=b(100,20,function(){},{renderText:C}),t=e.columns,n=e.rows;return r.createElement(m,null,r.createElement("h1",null,"Custom Text Renderer"),r.createElement("p",null,"When specifying a cell definition, you can provide a ",r.createElement("code",null,"renderText")," function to customise drawing the cell's text."),r.createElement("p",null,"Here, all cells use the same text renderer in order to draw the text as red."),r.createElement(g,null,r.createElement(p.ReactCanvasGrid,{columns:t,data:n,rowHeight:20})))}},{pathFragment:"/selection-events",name:"Selection Events",description:"Respond to users changing the selected area",component:function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).start=function(e){n.appendToLog("start",e)},n.update=function(e){n.appendToLog("update",e)},n.end=function(e){n.appendToLog("end",e)},n.appendToLog=function(e,t){var r="start"===e?" start":"update"===e?"update":"   end",o=t?"(".concat(t.topLeft.x,",").concat(t.topLeft.y,") -> (").concat(t.bottomRight.x,",").concat(t.bottomRight.y,")"):"none";n.setState({eventLog:n.state.eventLog+"".concat(r,": ").concat(o,"\n")})},n.state={eventLog:""},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.createElement(m,null,r.createElement("h1",null,"Selection Events"),r.createElement("p",null,"The three callbacks ",r.createElement("code",null,"onSelectionChange[Start|Update|End]")," allow consumers of react-canvas-grid to take action in response to the user changing the selected area. This can be useful for keeping track of the selection, in order to act upon the data."),r.createElement("p",null,"Note that clicking / dragging on frozen headers allows the user to select entire rows / columns."),r.createElement(g,null,r.createElement(p.ReactCanvasGrid,{columns:ne,data:re,rowHeight:20,frozenRows:1,frozenCols:1,onSelectionChangeStart:this.start,onSelectionChangeUpdate:this.update,onSelectionChangeEnd:this.end})),r.createElement(M,{log:this.state.eventLog}))}}]),t}(r.Component)},{pathFragment:"/keyboard-events",name:"Keyboard Events",description:"Respond to use of the keyboard when the grid is focused",component:ee},{pathFragment:"/edit-events",name:"Edit Events",description:"Respond to users changing the grid's data",component:W}],ie=function(){return r.createElement(r.Fragment,null,r.createElement("h1",null,"Examples"),r.createElement("ul",null,oe.map(function(e){return r.createElement("li",{key:e.pathFragment},r.createElement("h3",null,r.createElement(h.b,{to:e.pathFragment},e.name)),r.createElement("p",null,e.description))})))},ae=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(h.a,null,o.a.createElement("div",{className:"app-container"},o.a.createElement("main",null,o.a.createElement(f.a,{exact:!0,path:"/",component:ie}),oe.map(function(e){return o.a.createElement(f.a,{key:e.pathFragment,path:e.pathFragment,component:e.component})})),o.a.createElement("nav",null,o.a.createElement("ul",null,oe.map(function(e){return o.a.createElement("li",{key:e.pathFragment},o.a.createElement(h.c,{to:e.pathFragment,activeClassName:"selected"},e.name))})))))}}]),t}(r.Component);n(79);a.a.render(o.a.createElement(ae,null),document.getElementById("root"))}],[[41,2,1]]]);
//# sourceMappingURL=main.e89e7263.chunk.js.map
{"version":3,"sources":["../../dist/index.js","../../dist/cursorState.js","../../dist/gridGeometry.js","../../dist/scrollbarGeometry.js","../../dist/GridCanvas.js","../../dist/eventHandlers/scrolling.js","../../dist/eventHandlers/selection.js","../../dist/types.js","../../dist/eventHandlers/scrollingTimer.js","../../dist/commonCanvasRenderer.js","../../dist/highlightCanvasRenderer.js","../../dist/ReactCanvasGrid.js","../../dist/eventHandlers/gridMouseEvents.js","../../dist/eventHandlers/frozenCellMouseEvents.js","../../dist/utils.js","../../dist/eventHandlers/mouseEvents.js","../../dist/eventHandlers/keyboardEvents.js","../../dist/eventHandlers/scrollbarMouseEvents.js","../../dist/FrozenCanvas.js","../../dist/FrozenColsCanvas.js","../../dist/gridCanvasRenderer.js","../../dist/FrozenCornerCanvas.js","../../dist/FrozenRowsCanvas.js","../../dist/gridState.js","../../dist/HighlightCanvas.js","../../dist/InlineEditor.js","../../dist/MainCanvas.js","components/FixedSizeHolder.tsx","components/PaddedPage.tsx","data/dataAndColumns.ts","examples/CustomBackground.tsx","examples/CustomText.tsx","components/ControlsForm.tsx","examples/DynamicData.tsx","examples/Editable.tsx","components/EventLog.tsx","examples/EditEvents.tsx","examples/Everything.tsx","examples/FocusColumn.tsx","examples/KeyboardEvents.tsx","examples/SelectionEvents.tsx","examples/exampleMeta.tsx","examples/SmallGrid.tsx","examples/Simple.tsx","examples/FrozenCells.tsx","examples/Index.tsx","App.tsx","index.tsx"],"names":["Object","defineProperty","exports","value","ReactCanvasGrid_1","__webpack_require__","ReactCanvasGrid","types_1","getCellText","cellHasTextFunction","cellIsEditable","__assign","this","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","hasSelectionRowState","cursorState","selection","selectionType","hasSelectionColumnState","startDrag","gridCoords","editCursorCell","selectedRange","topLeft","bottomRight","selectionStartCell","selectionEndCell","isSelectionInProgress","updateDrag","x","Math","min","y","max","startRange","fromCoords","toCoords","hasSelectionState","hasSelectionCellState","hasSelectionFrozenState","createDefault","startRangeCorner","startRangeRow","startRangeColumn","updateRangeRow","updateRangeColumn","endSelection","isSelectRangeDifferent","oldRange","newRange","scrollbarGeometry_1","GridGeometry","calculateColumnBoundaries","columns","borderWidth","curLeft","map","col","boundary","left","right","width","calculateGridSize","data","columnBoundaries","rowHeight","numRows","height","calculateGridPlusGutterSize","gridSize","rootSize","barWidth","barMarginToEdge","calculateCanvasSize","gridPlusGutterSize","calculateFrozenRowsHeight","frozenRows","calculateFrozenColsWidth","frozenCols","rightmostColIndex","calculateGridCellCoordsFromGridState","event","rootRef","gridState","calculateGridCellCoords","gridOffset","maxRow","root","Error","gridPixelToGridCell","windowPixelToGridPixel","clientX","clientY","calculateCellBounds","colIndex","rowIndex","cellLeft","top","bottom","calculateGridOffsetFromFraction","fraction","gridLength","canvasLength","floor","truncateGridOffset","oldOffset","canvasSize","maxX","maxY","quantiseGridOffset","offset","dpr","calculateGridOffsetForTargetColumn","frozenColsWidth","targetColIndex","verticalScrollGutter","calculateGridOffsetXForTargetColumn","calculateGridOffsetForTargetRow","frozenRowsHeight","targetRowIndex","horizontalScrollGutter","calculateGridOffsetYForTargetRow","calculateGridOffsetForTargetCell","targetCell","oldX","gutterWidth","targetBoundaries","viewLeft","viewRight","oldY","gutterHeight","targetRowTop","targetRowBottom","viewTop","viewBottom","calculateVisibleRect","isWindowPixelWithinComponent","rootClientRect","getBoundingClientRect","calculateComponentPixel","windowPixelToComponentPixel","_a","barCapMargin","minBarLength","calculateLength","frozenLength","availableLength","contentRatio","round","calculateExtent","barLength","scrollFraction","scrollableCanvasLength","start","end","calculateTransversePosition","canvasTransverse","getHorizontalScrollbarLength","getVerticalScrollbarLength","getHorizontalScrollbarExtent","horizontalBarLength","getVerticalScrollbarExtent","verticalBarLength","getHorizontalScrollbarPos","extent","transverse","getVerticalScrollbarPos","getVerticalGutterBounds","getHorizontalGutterBounds","calculateFractionFromStartPos","getHitScrollBar","coord","horizontalPosition","verticalPosition","halfBarHeight","hTop","hBottom","hExtent","vLeft","vRight","vExtent","__extends","_extendStatics","d","b","setPrototypeOf","__proto__","Array","__","constructor","create","__importStar","mod","__esModule","result","k","instigator_1","React","gridCanvasRenderer_1","GridCanvas","_super","_this","canvasRef","createRef","renderer","renderCallback","render","createElement","ref","props","style","position","componentDidMount","current","basicProps","transformer","gridInnerSize","colBoundaries","GridCanvasRenderer","consumer","posProps","newBasicProps","newPosProps","updateProps","componentWillUnmount","deregister","Component","gridGeometry_1","utils_1","updateOffsetByDelta","deltaX","deltaY","newX","numberBetween","newY","gridOffsetRaw","scrollToCell","cellCoord","newOffset","verticalGutterBounds","horizontalGutterBounds","scrollToRow","scrollToColumn","cursorState_1","startOrUpdateSelection","shiftKey","updateSelection","startSelection","selectOrUpdateRow","updateSelectionRow","selectRow","selectOrUpdateCol","updateSelectionCol","selectCol","truncatedCoords","truncateCoord","newCursorState","startSelectionWithCursorState","selectAll","onSelectionChangeStart","oldCursorState","updateCursorStateIfDifferent","onSelectionChangeUpdate","onSelectionChangeEnd","cell","getText","text","editor","scrolling_1","scrollBySelectionDragTimerId","clearScrollByDragTimer","clearInterval","startScrollBySelectionDragIfNeeded","componentPixelCoord","options","suppressX","suppressY","setInterval","borderColour","CommonCanvasRenderer","canvas","alpha","queuedRender","setCanvas","context","getContext","drawCellBackgroundDefault","cellBounds","fillStyle","fillRect","drawCellTextDefault","textBaseline","verticalCentre","fillText","drawScaled","draw","window","requestAnimationFrame","scale","drawCell","metadata","renderBackground","renderText","commonCanvasRenderer_1","ScrollGeometry","defaultPosProps","visibleRect","defaultScrollbarProps","horizontalScrollbarPos","verticalScrollbarPos","hoveredScrollbar","defaultScrollbarStyle","hoveredScrollbarStyle","HighlightCanvasRenderer","scrollProps","selectionProps","clearRect","translate","lineCap","strokeStyle","lineWidth","rect","gridCellCoordToGridPixelCoord","strokeRect","tl","br","isSelectionMoreThanOneCell","vBounds","hBounds","beginPath","moveTo","lineTo","stroke","scrollPos","selectProps","shouldSelectionClear","prev","next","gridMouseEvents_1","keyboardEvents_1","scrollbarMouseEvents_1","FrozenCanvas_1","gridState_1","HighlightCanvas_1","highlightCanvasRenderer_1","InlineEditor_1","MainCanvas_1","onWheel","e","scaleFactor","0","1","deltaMode","preventDefault","onMouseDown","mouseDownOnScrollbar","mouseDownOnGrid","state","editingCell","onMouseMove","mouseDragOnScrollbar","mouseDragOnGrid","mouseHoverOnScrollbar","onMouseUp","batch","mouseUpOnScrollbar","mouseUpOnGrid","onDoubleClick","cellCoords","startEditingCell","onKeyDown","keyDownOnGrid","fieldName","setState","cancelEditingCell","focusRoot","stopEditingCell","newData","onCellDataChanged","focus","preventScroll","GridState","rootRect","addEventListener","componentDidUpdate","prevProps","onSelectionCleared","truncatedOffset","focusedColIndex","focusedOffset","removeEventListener","className","tabIndex","cssWidth","cssHeight","overflow","outline","MainCanvas","HighlightCanvas","InlineTextEditor","onSubmit","onCancel","FrozenCanvas","defaultProps","PureComponent","frozenCellMouseEvents_1","mouseEvents_1","scrollingTimer_1","selection_1","isLeftButton","leftClickOnFrozenCell","currentCursorState","leftClickDragOnFrozenCell","recalculateAndUpdateSelection","clickInFrozenCols","clickInFrozenRows","num","buttons","cursor","cursorCell","newCoord","key","ScrollbarGeometry","draggedScrollbar","hitScrollbar","bar","origScrollbarStart","origClick","values","frozenLen","canvasLen","gridLen","barLen","horizontalScrollbarLength","clickCoord","verticalScrollbarLength","dragDistance","desiredStart","desiredFraction","FrozenColsCanvas_1","FrozenCornerCanvas_1","FrozenRowsCanvas_1","Fragment","FrozenCornerCanvas","FrozenRowsCanvas","FrozenColsCanvas","GridCanvas_1","colsVisibleRect","scrollGutterHeight","colsPosProps","__importDefault","default","shallow_equals_1","prevDraw","xDiff","yDiff","shiftExistingCanvas","drawNewBorderBackground","drawWholeBorderBackground","translateToGridOffset","minRowIndex","maxRowIndex","ceil","_i","_b","cellRight","column","translateToOrigin","propsWidth","propsHeight","drawImage","top_1","cornerVisibleRect","cornerPosProps","rowsVisibleRect","scrollGutterWidth","rowsPosProps","activeSource","devicePixelRatio","horizontalScrollbarExtent","verticalScrollbarExtent","newScrollProps","newSelectionProps","defaultText","serialise","submit","inputValue","currentTarget","deserialise","type","boxSizing","border","autoFocus","defaultValue","onBlur","onKeyPress","onKeyUp","keyCode","mainVisibleRect","FixedSizeHolder","react","children","PaddedPage","createFakeDataAndColumns","numCols","dataGen","undefined","createFakeColumns","rows","createFakeData","cols","push","concat","_loop","row","_loop2","j","objectSpread","renderBackgroundLightGreen","renderTextRed","ControlsForm","InlineGroup","NumberInput","DynamicDataGrid","_React$Component","classCallCheck","possibleConstructorReturn","getPrototypeOf","changeColsDebounceTimeout","changeRowsDebounceTimeout","changeNumRows","clearTimeout","target","valueAsNumber","setTimeout","changeNumRowsDebounced","_createFakeDataAndCol","changeNumCols","changeNumColsDebounced","_createFakeDataAndCol2","moveFirstColumnToEnd","toConsumableArray","slice","modifyTopLeftCell","firstColName","reset","getDefaultState","inherits","createClass","src_components_PaddedPage","ControlsForm_ControlsForm","ControlsForm_InlineGroup","ControlsForm_NumberInput","id","onChange","onClick","FixedSizeHolder_FixedSizeHolder","dist","_createFakeDataAndCol3","EditableDataGrid","_ref","_ref2","slicedToArray","a","match","parseInt","_ref3","_ref4","EventLog","_React$PureComponent","logRef","log","readOnly","scrollTop","scrollHeight","_","EditEventsGrid","eventLog","react_router_dom","to","EventLog_EventLog","numColsLarge","numColsSmall","labels","colour","highlights","renderHeaderBackground","renderCellBackground","highlight","bgColour","closePath","fill","getCustomCellText","shouldReverseText","split","reverse","join","serailiseCustomData","deserialiseCustomData","oldData","reversed","startsWith","createCols","colDefs","toString","createData","date","label","random","Everything","_Component","selectionChanged","isDragging","selectionFinished","selectionCleared","focusColumn","focusedCol","replaceDataLarge","replaceDataSmall","updateCell","onKeyPressed","lastKeyPress","_this2","colHeaders","cd","headerCell","react_default","JSON","stringify","backgroundColor","paddingLeft","paddingRight","FocusColumnGrid","toggleFrozenCols","freezeCols","htmlFor","KeyboardEventsGrid","exampleMeta","pathFragment","name","description","component","field-one","field-two","SelectionEventsGrid","range","appendToLog","update","eventType","paddedType","prevState","Index","meta","App","react_router","exact","path","activeClassName","ReactDOM","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.7b454b0c.chunk.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar ReactCanvasGrid_1 = require(\"./ReactCanvasGrid\");\n\nexports.ReactCanvasGrid = ReactCanvasGrid_1.ReactCanvasGrid;\n\nvar types_1 = require(\"./types\");\n\nexports.getCellText = types_1.getCellText;\nexports.cellHasTextFunction = types_1.cellHasTextFunction;\nexports.cellIsEditable = types_1.cellIsEditable;","\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction hasSelectionState(cursorState) {\n  return cursorState.selection !== null;\n}\n\nexports.hasSelectionState = hasSelectionState;\n\nfunction hasSelectionCellState(cursorState) {\n  return cursorState.selection !== null && cursorState.selection.selectionType === 'cells';\n}\n\nexports.hasSelectionCellState = hasSelectionCellState;\n\nfunction hasSelectionRowState(cursorState) {\n  return cursorState.selection !== null && cursorState.selection.selectionType === 'rows';\n}\n\nexports.hasSelectionRowState = hasSelectionRowState;\n\nfunction hasSelectionColumnState(cursorState) {\n  return cursorState.selection !== null && cursorState.selection.selectionType === 'columns';\n}\n\nexports.hasSelectionColumnState = hasSelectionColumnState;\n\nfunction hasSelectionFrozenState(cursorState) {\n  return hasSelectionRowState(cursorState) || hasSelectionColumnState(cursorState);\n}\n\nexports.hasSelectionFrozenState = hasSelectionFrozenState;\n\nfunction createDefault() {\n  return {\n    editCursorCell: null,\n    selection: null,\n    isSelectionInProgress: false\n  };\n}\n\nexports.createDefault = createDefault;\n\nfunction startDrag(gridCoords, selectionType) {\n  if (selectionType === void 0) {\n    selectionType = 'cells';\n  }\n\n  var selectedRange = {\n    topLeft: gridCoords,\n    bottomRight: gridCoords\n  };\n  return {\n    editCursorCell: gridCoords,\n    selection: {\n      selectedRange: selectedRange,\n      selectionStartCell: gridCoords,\n      selectionEndCell: gridCoords,\n      selectionType: selectionType\n    },\n    isSelectionInProgress: true\n  };\n}\n\nexports.startDrag = startDrag;\n\nfunction updateDrag(cursorState, gridCoords) {\n  var selectedRange = {\n    topLeft: {\n      x: Math.min(cursorState.selection.selectionStartCell.x, gridCoords.x),\n      y: Math.min(cursorState.selection.selectionStartCell.y, gridCoords.y)\n    },\n    bottomRight: {\n      x: Math.max(cursorState.selection.selectionStartCell.x, gridCoords.x),\n      y: Math.max(cursorState.selection.selectionStartCell.y, gridCoords.y)\n    }\n  };\n  return __assign({}, cursorState, {\n    selection: __assign({}, cursorState.selection, {\n      selectedRange: selectedRange,\n      selectionEndCell: gridCoords\n    }),\n    isSelectionInProgress: true\n  });\n}\n\nexports.updateDrag = updateDrag;\n\nfunction startRange(fromCoords, toCoords, selectionType) {\n  var fromState = startDrag(fromCoords, selectionType);\n  return updateDrag(fromState, toCoords);\n}\n\nfunction startRangeCorner(fromCoords, toCoords) {\n  return startRange(fromCoords, toCoords, 'grid');\n}\n\nexports.startRangeCorner = startRangeCorner;\n\nfunction startRangeRow(fromCoords, toCoords) {\n  return startRange(fromCoords, toCoords, 'rows');\n}\n\nexports.startRangeRow = startRangeRow;\n\nfunction startRangeColumn(fromCoords, toCoords) {\n  return startRange(fromCoords, toCoords, 'columns');\n}\n\nexports.startRangeColumn = startRangeColumn;\n\nfunction updateRangeRow(cursorState, gridCoords) {\n  var selectedRange = {\n    topLeft: {\n      x: cursorState.selection.selectedRange.topLeft.x,\n      y: Math.min(cursorState.selection.selectionStartCell.y, gridCoords.y)\n    },\n    bottomRight: {\n      x: cursorState.selection.selectedRange.bottomRight.x,\n      y: Math.max(cursorState.selection.selectionStartCell.y, gridCoords.y)\n    }\n  };\n  return __assign({}, cursorState, {\n    selection: __assign({}, cursorState.selection, {\n      selectedRange: selectedRange,\n      selectionEndCell: __assign({}, cursorState.selection.selectionEndCell, {\n        y: gridCoords.y\n      })\n    }),\n    isSelectionInProgress: true\n  });\n}\n\nexports.updateRangeRow = updateRangeRow;\n\nfunction updateRangeColumn(cursorState, gridCoords) {\n  var selectedRange = {\n    topLeft: {\n      x: Math.min(cursorState.selection.selectionStartCell.x, gridCoords.x),\n      y: cursorState.selection.selectedRange.topLeft.y\n    },\n    bottomRight: {\n      x: Math.max(cursorState.selection.selectionStartCell.x, gridCoords.x),\n      y: Math.max(cursorState.selection.selectedRange.bottomRight.y)\n    }\n  };\n  return __assign({}, cursorState, {\n    selection: __assign({}, cursorState.selection, {\n      selectedRange: selectedRange,\n      selectionEndCell: __assign({}, cursorState.selection.selectionEndCell, {\n        x: gridCoords.x\n      })\n    }),\n    isSelectionInProgress: true\n  });\n}\n\nexports.updateRangeColumn = updateRangeColumn;\n\nfunction endSelection(cursorState) {\n  return __assign({}, cursorState, {\n    isSelectionInProgress: false\n  });\n}\n\nexports.endSelection = endSelection;\n\nfunction isSelectRangeDifferent(oldRange, newRange) {\n  return oldRange.bottomRight.x !== newRange.bottomRight.x || oldRange.bottomRight.y !== newRange.bottomRight.y || oldRange.topLeft.x !== newRange.topLeft.x || oldRange.topLeft.y !== newRange.topLeft.y;\n}\n\nexports.isSelectRangeDifferent = isSelectRangeDifferent;","\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar scrollbarGeometry_1 = require(\"./scrollbarGeometry\");\n\nvar GridGeometry =\n/** @class */\nfunction () {\n  function GridGeometry() {}\n  /**\n   * Calculate the boundaries of all columns in the grid, excluding borders. The 'left's are inclusive,\n   * the 'right's are exclusive.\n   */\n\n\n  GridGeometry.calculateColumnBoundaries = function (columns, borderWidth) {\n    var curLeft = 0;\n    return columns.map(function (col) {\n      // Left is 0-indexed and inclusive. Right is exclusive, so we can just add the width\n      var boundary = {\n        left: curLeft,\n        right: curLeft + col.width\n      }; // Add the border width on to skip it - the border is not within the range of any column\n\n      curLeft += col.width + borderWidth;\n      return boundary;\n    });\n  };\n  /**\n   * Calculate the total size of the grid, including borders, but excluding gutters\n   */\n\n\n  GridGeometry.calculateGridSize = function (data, columnBoundaries, rowHeight, borderWidth) {\n    var numRows = data.length;\n    var height = numRows * rowHeight + (numRows - 1) * borderWidth;\n    var width = columnBoundaries[columnBoundaries.length - 1].right;\n    return {\n      width: width,\n      height: height\n    };\n  };\n  /**\n   * Calculates the total size of the grid, including scrollbar gutters\n   */\n\n\n  GridGeometry.calculateGridPlusGutterSize = function (gridSize, rootSize) {\n    // If we don't know how big the root element is yet, assume no gutters\n    if (rootSize === null) {\n      return gridSize;\n    }\n\n    return {\n      width: gridSize.width + (gridSize.height > rootSize.height ? scrollbarGeometry_1.barWidth + scrollbarGeometry_1.barMarginToEdge * 2 : 0),\n      height: gridSize.height + (gridSize.width > rootSize.width ? scrollbarGeometry_1.barWidth + scrollbarGeometry_1.barMarginToEdge * 2 : 0)\n    };\n  };\n\n  GridGeometry.calculateCanvasSize = function (gridPlusGutterSize, rootSize) {\n    // First render is before componentDidMount, so before we have calculated the root element's size.\n    // In this case, we just render as 0x0. componentDidMount will then update state,\n    // and we'll re-render\n    if (rootSize === null) {\n      return {\n        width: 0,\n        height: 0\n      };\n    }\n\n    return {\n      width: Math.min(rootSize.width, gridPlusGutterSize.width),\n      height: Math.min(rootSize.height, gridPlusGutterSize.height)\n    };\n  };\n  /*\n   * Calculate the height of all the frozen rows and their bottom borders\n   */\n\n\n  GridGeometry.calculateFrozenRowsHeight = function (rowHeight, borderWidth, frozenRows) {\n    return (rowHeight + borderWidth) * frozenRows;\n  };\n  /*\n   * Calculate the width of all the frozen rows and their right borders\n   */\n\n\n  GridGeometry.calculateFrozenColsWidth = function (columnBoundaries, frozenCols, borderWidth) {\n    var rightmostColIndex = frozenCols - 1;\n\n    if (rightmostColIndex < 0) {\n      return 0;\n    }\n\n    return columnBoundaries[rightmostColIndex].right + borderWidth;\n  };\n\n  GridGeometry.calculateGridCellCoordsFromGridState = function (event, rootRef, gridState) {\n    return GridGeometry.calculateGridCellCoords(event, gridState.columnBoundaries(), gridState.borderWidth(), gridState.rowHeight(), gridState.gridOffset(), gridState.data().length - 1, rootRef);\n  };\n  /**\n   * Calculate the column & row index (i.e. \"grid cell coordinates\") that contains a click. The click coordinates\n   * are given in the window/viewport's frame of reference.\n   */\n\n\n  GridGeometry.calculateGridCellCoords = function (event, columnBoundaries, borderWidth, rowHeight, gridOffset, maxRow, root) {\n    if (!root) {\n      throw new Error('Cannot convert mouse event coords to grid coords because rootRef is not set');\n    }\n\n    return GridGeometry.gridPixelToGridCell(GridGeometry.windowPixelToGridPixel({\n      x: event.clientX,\n      y: event.clientY\n    }, gridOffset, root), columnBoundaries, borderWidth, rowHeight, maxRow);\n  };\n\n  GridGeometry.calculateCellBounds = function (colIndex, rowIndex, rowHeight, borderWidth, columnBoundaries, columns) {\n    var cellLeft = columnBoundaries[colIndex].left;\n    var col = columns[colIndex];\n    return {\n      left: cellLeft,\n      top: rowIndex * (rowHeight + borderWidth),\n      right: cellLeft + col.width,\n      bottom: rowIndex * (rowHeight + borderWidth) + rowHeight,\n      width: col.width,\n      height: rowHeight\n    };\n  };\n\n  GridGeometry.calculateGridOffsetFromFraction = function (fraction, gridLength, canvasLength) {\n    return Math.floor((gridLength - canvasLength) * fraction);\n  };\n\n  GridGeometry.truncateGridOffset = function (oldOffset, gridSize, canvasSize) {\n    var maxX = gridSize.width - canvasSize.width;\n    var maxY = gridSize.height - canvasSize.height;\n\n    if (oldOffset.x > maxX || oldOffset.y > maxY) {\n      return {\n        x: Math.min(maxX, oldOffset.x),\n        y: Math.min(maxY, oldOffset.y)\n      };\n    } else {\n      return null;\n    }\n  };\n  /**\n   * Takes an offset in CSS pixels and returns an offset also in CSS pixels, but quantised to\n   * values that produce an integer offset in canvas pixels. This avoids the canvas elements trying\n   * to do any sub-pixel rendering, and thus avoids bluriness in the grid.\n   */\n\n\n  GridGeometry.quantiseGridOffset = function (offset, dpr) {\n    return {\n      x: Math.floor(offset.x * dpr) / dpr,\n      y: Math.floor(offset.y * dpr) / dpr\n    };\n  };\n\n  GridGeometry.calculateGridOffsetForTargetColumn = function (oldOffset, canvasSize, frozenColsWidth, targetColIndex, columnBoundaries, verticalScrollGutter) {\n    return __assign({}, oldOffset, {\n      x: GridGeometry.calculateGridOffsetXForTargetColumn(oldOffset.x, canvasSize, frozenColsWidth, targetColIndex, columnBoundaries, verticalScrollGutter)\n    });\n  };\n\n  GridGeometry.calculateGridOffsetForTargetRow = function (oldOffset, canvasSize, frozenRowsHeight, targetRowIndex, rowHeight, borderWidth, numRows, horizontalScrollGutter) {\n    return __assign({}, oldOffset, {\n      y: GridGeometry.calculateGridOffsetYForTargetRow(oldOffset.y, canvasSize, frozenRowsHeight, targetRowIndex, rowHeight, borderWidth, numRows, horizontalScrollGutter)\n    });\n  };\n\n  GridGeometry.calculateGridOffsetForTargetCell = function (oldOffset, canvasSize, frozenColsWidth, frozenRowsHeight, targetCell, columnBoundaries, rowHeight, borderWidth, numRows, verticalScrollGutter, horizontalScrollGutter) {\n    return {\n      x: GridGeometry.calculateGridOffsetXForTargetColumn(oldOffset.x, canvasSize, frozenColsWidth, targetCell.x, columnBoundaries, verticalScrollGutter),\n      y: GridGeometry.calculateGridOffsetYForTargetRow(oldOffset.y, canvasSize, frozenRowsHeight, targetCell.y, rowHeight, borderWidth, numRows, horizontalScrollGutter)\n    };\n  };\n\n  GridGeometry.calculateGridOffsetXForTargetColumn = function (oldX, canvasSize, frozenColsWidth, targetColIndex, columnBoundaries, verticalScrollGutter) {\n    if (targetColIndex < 0 || targetColIndex >= columnBoundaries.length) {\n      // The target column index is invalid, so ignore it\n      return oldX;\n    }\n\n    var gutterWidth = verticalScrollGutter ? verticalScrollGutter.width : 0;\n    var targetBoundaries = columnBoundaries[targetColIndex];\n    var viewLeft = oldX + frozenColsWidth;\n    var viewRight = oldX + canvasSize.width - gutterWidth;\n\n    if (targetBoundaries.left < viewLeft && targetBoundaries.right > viewRight) {\n      // The target column is wider than the canvas, but already visible - no change needed\n      return oldX;\n    } else if (targetBoundaries.left < viewLeft) {\n      // The target column is to the left, so move offset so it's the leftmost column\n      return Math.max(targetBoundaries.left - frozenColsWidth, 0);\n    } else if (targetBoundaries.right > viewRight) {\n      // The target column is to the right, so move offset so it's the rightmost column\n      return targetBoundaries.right - canvasSize.width + gutterWidth;\n    } else {\n      // Otherwise, the target column must be in view, so no change is needed\n      return oldX;\n    }\n  };\n\n  GridGeometry.calculateGridOffsetYForTargetRow = function (oldY, canvasSize, frozenRowsHeight, targetRowIndex, rowHeight, borderWidth, numRows, horizontalScrollGutter) {\n    if (targetRowIndex < 0 || targetRowIndex >= (rowHeight + borderWidth) * numRows) {\n      // The target row index is invalid, so ignore it\n      return oldY;\n    }\n\n    var gutterHeight = horizontalScrollGutter ? horizontalScrollGutter.height : 0;\n    var targetRowTop = (rowHeight + borderWidth) * targetRowIndex;\n    var targetRowBottom = targetRowTop + rowHeight;\n    var viewTop = oldY + frozenRowsHeight;\n    var viewBottom = oldY + canvasSize.height - gutterHeight;\n\n    if (targetRowTop < viewTop && targetRowBottom > viewBottom) {\n      // The target row is taller than the canvas, but already visible - no change needed\n      return oldY;\n    } else if (targetRowTop < viewTop) {\n      // The target column is upwards, so move offset so it's the topmost row\n      return Math.max(targetRowTop - frozenRowsHeight, 0);\n    } else if (targetRowBottom > viewBottom) {\n      // The target row is downwards, so move offset so it's the bottommost column\n      return targetRowBottom - canvasSize.height + gutterHeight;\n    } else {\n      // Otherwise, the target row must be in view, so no change is needed\n      return oldY;\n    }\n  };\n  /**\n   * Calculates the area of the grid visible on the canvas\n   */\n\n\n  GridGeometry.calculateVisibleRect = function (gridOffset, canvasSize) {\n    return {\n      top: gridOffset.y,\n      bottom: gridOffset.y + canvasSize.height,\n      height: canvasSize.height,\n      left: gridOffset.x,\n      right: gridOffset.x + canvasSize.width,\n      width: canvasSize.width\n    };\n  };\n\n  GridGeometry.isWindowPixelWithinComponent = function (event, root) {\n    if (!root) {\n      throw new Error('Cannot convert window coords to component coords because rootRef is not set');\n    }\n\n    var rootClientRect = root.getBoundingClientRect();\n    return event.clientX >= rootClientRect.left && event.clientX <= rootClientRect.right && event.clientY >= rootClientRect.top && event.clientY <= rootClientRect.bottom;\n  };\n\n  GridGeometry.calculateComponentPixel = function (event, root) {\n    return GridGeometry.windowPixelToComponentPixel({\n      x: event.clientX,\n      y: event.clientY\n    }, root);\n  };\n\n  GridGeometry.windowPixelToComponentPixel = function (_a, root) {\n    var x = _a.x,\n        y = _a.y;\n\n    if (!root) {\n      throw new Error('Cannot convert window coords to component coords because rootRef is not set');\n    }\n\n    var rootClientRect = root.getBoundingClientRect();\n    return {\n      x: x - rootClientRect.left,\n      y: y - rootClientRect.top\n    };\n  };\n\n  GridGeometry.windowPixelToGridPixel = function (_a, gridOffset, root) {\n    var x = _a.x,\n        y = _a.y;\n    var rootClientRect = root.getBoundingClientRect();\n    return {\n      x: x + gridOffset.x - rootClientRect.left,\n      y: y + gridOffset.y - rootClientRect.top\n    };\n  };\n\n  GridGeometry.gridPixelToGridCell = function (_a, columnBoundaries, borderWidth, rowHeight, maxRow) {\n    var x = _a.x,\n        y = _a.y; // Start with the rightmost col index; it'll be revised down, unless the coord is to the right of all cols\n\n    var colIndex = columnBoundaries.length - 1;\n\n    for (var i = 0; i < columnBoundaries.length; i++) {\n      if (columnBoundaries[i].right > x) {\n        colIndex = i;\n        break;\n      }\n    }\n    /*\n    The following (dodgy?) algebra gives the formula for finding the row index, where borders belong to lower cells:\n        Yclick <= (Ycell-1)b + (Ycell)c\n        Yclick <= Ycell(b) - b + Ycell(c)\n        Yclick <= Ycell(b + c) - b\n        Yclick + b <= Ycell(b + c)\n        (Yclick + b)/(b + c) <= Ycell\n        Ycell >= (Yclick + b)/(b + c)\n        Ycell = floor((Yclick + b)/(b + c))\n    It's then truncated to maxRow, in case the coord is beyond the final row\n    */\n\n\n    var rowIndex = Math.min(maxRow, Math.floor((y + borderWidth) / (rowHeight + borderWidth)));\n    return {\n      y: rowIndex,\n      x: colIndex\n    };\n  };\n\n  return GridGeometry;\n}();\n\nexports.GridGeometry = GridGeometry;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.barWidth = 7;\nexports.barMarginToEdge = 2;\nexports.barCapMargin = 4;\nvar minBarLength = 10;\n\nfunction getHorizontalScrollbarLength(canvasSize, gridSize, frozenColsWidth) {\n  return calculateLength(canvasSize.width, gridSize.width, frozenColsWidth);\n}\n\nexports.getHorizontalScrollbarLength = getHorizontalScrollbarLength;\n\nfunction getVerticalScrollbarLength(canvasSize, gridSize, frozenRowsHeight) {\n  return calculateLength(canvasSize.height, gridSize.height, frozenRowsHeight);\n}\n\nexports.getVerticalScrollbarLength = getVerticalScrollbarLength;\n\nfunction calculateLength(canvasLength, gridLength, frozenLength) {\n  var availableLength = canvasLength - frozenLength - exports.barWidth - 2 * exports.barCapMargin - exports.barMarginToEdge;\n  var contentRatio = canvasLength / gridLength;\n  var length = Math.round(availableLength * contentRatio);\n  return Math.max(length, minBarLength);\n}\n\nexports.calculateLength = calculateLength;\n\nfunction getHorizontalScrollbarExtent(gridOffset, canvasSize, gridSize, horizontalBarLength, frozenColsWidth) {\n  return calculateExtent(gridOffset.x, canvasSize.width, gridSize.width, horizontalBarLength, frozenColsWidth);\n}\n\nexports.getHorizontalScrollbarExtent = getHorizontalScrollbarExtent;\n\nfunction getVerticalScrollbarExtent(gridOffset, canvasSize, gridSize, verticalBarLength, frozenRowsHeight) {\n  return calculateExtent(gridOffset.y, canvasSize.height, gridSize.height, verticalBarLength, frozenRowsHeight);\n}\n\nexports.getVerticalScrollbarExtent = getVerticalScrollbarExtent;\n\nfunction calculateExtent(gridOffset, canvasLength, gridLength, barLength, frozenLength) {\n  var scrollableGridLength = gridLength - canvasLength;\n  var scrollFraction = gridOffset / scrollableGridLength;\n  var scrollableCanvasLength = canvasLength - frozenLength - barLength - exports.barWidth - 2 * exports.barCapMargin - exports.barMarginToEdge;\n  var start = Math.round(scrollableCanvasLength * scrollFraction) + frozenLength + exports.barCapMargin;\n  return {\n    start: start,\n    end: start + barLength\n  };\n}\n\nexports.calculateExtent = calculateExtent;\n\nfunction getHorizontalScrollbarPos(extent, canvasSize, gridSize) {\n  if (gridSize.width > canvasSize.width) {\n    var transverse = calculateTransversePosition(canvasSize.height);\n    return {\n      extent: extent,\n      transverse: transverse\n    };\n  } else {\n    return null;\n  }\n}\n\nexports.getHorizontalScrollbarPos = getHorizontalScrollbarPos;\n\nfunction getVerticalScrollbarPos(extent, canvasSize, gridSize) {\n  if (gridSize.height > canvasSize.height) {\n    var transverse = calculateTransversePosition(canvasSize.width);\n    return {\n      extent: extent,\n      transverse: transverse\n    };\n  } else {\n    return null;\n  }\n}\n\nexports.getVerticalScrollbarPos = getVerticalScrollbarPos;\n\nfunction calculateTransversePosition(canvasTransverse) {\n  return canvasTransverse - exports.barWidth / 2 - exports.barMarginToEdge;\n}\n\nfunction getVerticalGutterBounds(canvasSize, gridSize) {\n  if (gridSize.height > canvasSize.height) {\n    return {\n      top: 0,\n      left: canvasSize.width - (exports.barWidth + exports.barMarginToEdge * 2),\n      height: canvasSize.height,\n      width: exports.barWidth + exports.barMarginToEdge * 2,\n      bottom: canvasSize.height,\n      right: canvasSize.width\n    };\n  } else {\n    return null;\n  }\n}\n\nexports.getVerticalGutterBounds = getVerticalGutterBounds;\n\nfunction getHorizontalGutterBounds(canvasSize, gridSize) {\n  if (gridSize.width > canvasSize.width) {\n    return {\n      left: 0,\n      top: canvasSize.height - (exports.barWidth + exports.barMarginToEdge * 2),\n      width: canvasSize.width,\n      height: exports.barWidth + exports.barMarginToEdge * 2,\n      right: canvasSize.width,\n      bottom: canvasSize.height\n    };\n  } else {\n    return null;\n  }\n}\n\nexports.getHorizontalGutterBounds = getHorizontalGutterBounds;\n\nfunction calculateFractionFromStartPos(start, frozenLength, canvasLength, barLength) {\n  var scrollableCanvasLength = canvasLength - frozenLength - barLength - exports.barWidth - 2 * exports.barCapMargin - exports.barMarginToEdge;\n  return Math.min(Math.max((start - frozenLength - exports.barCapMargin) / scrollableCanvasLength, 0), 1);\n}\n\nexports.calculateFractionFromStartPos = calculateFractionFromStartPos;\n\nfunction getHitScrollBar(coord, horizontalPosition, verticalPosition) {\n  var halfBarHeight = Math.floor(exports.barWidth / 2);\n\n  if (horizontalPosition) {\n    var hTop = horizontalPosition.transverse - halfBarHeight;\n    var hBottom = horizontalPosition.transverse + halfBarHeight;\n    var hExtent = horizontalPosition.extent;\n\n    if (coord.x >= hExtent.start && coord.x <= hExtent.end && coord.y >= hTop && coord.y <= hBottom) {\n      return 'x';\n    }\n  }\n\n  if (verticalPosition) {\n    var vLeft = verticalPosition.transverse - halfBarHeight;\n    var vRight = verticalPosition.transverse + halfBarHeight;\n    var vExtent = verticalPosition.extent;\n\n    if (coord.y >= vExtent.start && coord.y <= vExtent.end && coord.x >= vLeft && coord.x <= vRight) {\n      return 'y';\n    }\n  }\n\n  return null;\n}\n\nexports.getHitScrollBar = getHitScrollBar;","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar instigator_1 = require(\"instigator\");\n\nvar React = __importStar(require(\"react\"));\n\nvar gridCanvasRenderer_1 = require(\"./gridCanvasRenderer\");\n\nvar GridCanvas =\n/** @class */\nfunction (_super) {\n  __extends(GridCanvas, _super);\n\n  function GridCanvas() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.canvasRef = React.createRef();\n    _this.renderer = null;\n    _this.renderCallback = null;\n    return _this; // TODO: Need to call updateProps on componentDidUpdate?\n  }\n\n  GridCanvas.prototype.render = function () {\n    return React.createElement(\"canvas\", {\n      ref: this.canvasRef,\n      width: this.props.width * this.props.gridState.dpr(),\n      height: this.props.height * this.props.gridState.dpr(),\n      style: {\n        position: 'absolute',\n        top: this.props.top + \"px\",\n        left: this.props.left + \"px\",\n        width: this.props.width + \"px\",\n        height: this.props.height + \"px\"\n      }\n    });\n  };\n\n  GridCanvas.prototype.componentDidMount = function () {\n    var _this = this;\n\n    if (!this.canvasRef.current) {\n      throw new Error('canvasRef is null in componentDidMount - cannot create renderer');\n    }\n\n    var gridState = this.props.gridState;\n    var basicProps = instigator_1.transformer([gridState.data, gridState.rowHeight, gridState.columnBoundaries, gridState.columns, gridState.gridInnerSize, gridState.borderWidth], function (data, rowHeight, colBoundaries, columns, gridInnerSize, borderWidth) {\n      return {\n        data: data,\n        rowHeight: rowHeight,\n        colBoundaries: colBoundaries,\n        columns: columns,\n        gridInnerSize: gridInnerSize,\n        borderWidth: borderWidth\n      };\n    });\n    {\n      var canvasSize = {\n        width: this.props.width,\n        height: this.props.height\n      };\n      this.renderer = new gridCanvasRenderer_1.GridCanvasRenderer(this.canvasRef.current, canvasSize, basicProps(), gridState.dpr());\n    }\n    this.renderCallback = instigator_1.consumer([basicProps, this.props.posProps], function (newBasicProps, newPosProps) {\n      if (_this.renderer) {\n        if (!_this.canvasRef.current) {\n          throw new Error('canvasRef is null in componentDidMount - cannot create renderer');\n        }\n\n        var canvasSize = {\n          width: _this.props.width,\n          height: _this.props.height\n        };\n\n        _this.renderer.updateProps(_this.canvasRef.current, canvasSize, newBasicProps, newPosProps);\n      }\n    });\n  };\n\n  GridCanvas.prototype.componentWillUnmount = function () {\n    if (this.renderCallback) {\n      this.renderCallback.deregister();\n    }\n  };\n\n  return GridCanvas;\n}(React.Component);\n\nexports.GridCanvas = GridCanvas;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar gridGeometry_1 = require(\"../gridGeometry\");\n\nvar utils_1 = require(\"../utils\");\n\nexports.updateOffsetByDelta = function (deltaX, deltaY, gridState) {\n  if (!gridState.rootSize()) {\n    return false;\n  }\n\n  var canvasSize = gridState.canvasSize();\n  var gridSize = gridState.gridSize();\n  var gridOffset = gridState.gridOffset();\n  var newX = utils_1.numberBetween(gridOffset.x + deltaX, 0, gridSize.width - canvasSize.width);\n  var newY = utils_1.numberBetween(gridOffset.y + deltaY, 0, gridSize.height - canvasSize.height);\n\n  if (newX === gridOffset.x && newY === gridOffset.y) {\n    // We won't be moving, so return false\n    return false;\n  }\n\n  gridState.gridOffsetRaw({\n    x: newX,\n    y: newY\n  }); // We did move, so return true\n\n  return true;\n};\n\nexports.scrollToCell = function (cellCoord, gridState) {\n  var newOffset = gridGeometry_1.GridGeometry.calculateGridOffsetForTargetCell(gridState.gridOffset(), gridState.canvasSize(), gridState.frozenColsWidth(), gridState.frozenRowsHeight(), cellCoord, gridState.columnBoundaries(), gridState.rowHeight(), gridState.borderWidth(), gridState.data().length, gridState.verticalGutterBounds(), gridState.horizontalGutterBounds());\n  gridState.gridOffsetRaw(newOffset);\n};\n\nexports.scrollToRow = function (rowIndex, gridState) {\n  var newOffset = gridGeometry_1.GridGeometry.calculateGridOffsetForTargetRow(gridState.gridOffset(), gridState.canvasSize(), gridState.frozenRowsHeight(), rowIndex, gridState.rowHeight(), gridState.borderWidth(), gridState.data().length, gridState.horizontalGutterBounds());\n  gridState.gridOffsetRaw(newOffset);\n};\n\nexports.scrollToColumn = function (colIndex, gridState) {\n  var newOffset = gridGeometry_1.GridGeometry.calculateGridOffsetForTargetColumn(gridState.gridOffset(), gridState.canvasSize(), gridState.frozenColsWidth(), colIndex, gridState.columnBoundaries(), gridState.verticalGutterBounds());\n  gridState.gridOffsetRaw(newOffset);\n};","\"use strict\";\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar cursorState_1 = require(\"../cursorState\");\n\nvar cursorState = __importStar(require(\"../cursorState\"));\n/*******************************************************************\n * Start or update methods.\n * Either creates a new selection, or extends an existing selection\n *******************************************************************/\n\n\nexports.startOrUpdateSelection = function (event, props, gridState, gridCoords) {\n  if (event.shiftKey && cursorState_1.hasSelectionState(gridState.cursorState())) {\n    exports.updateSelection(props, gridState, gridCoords);\n  } else {\n    exports.startSelection(props, gridState, gridCoords);\n  }\n};\n\nexports.selectOrUpdateRow = function (event, props, gridState, gridCoords) {\n  if (event.shiftKey && cursorState_1.hasSelectionState(gridState.cursorState())) {\n    exports.updateSelectionRow(props, gridState, gridCoords);\n  } else {\n    exports.selectRow(props, gridState, gridCoords);\n  }\n};\n\nexports.selectOrUpdateCol = function (event, props, gridState, gridCoords) {\n  if (event.shiftKey && cursorState_1.hasSelectionState(gridState.cursorState())) {\n    exports.updateSelectionCol(props, gridState, gridCoords);\n  } else {\n    exports.selectCol(props, gridState, gridCoords);\n  }\n};\n/******************************\n * Create selection methods\n * Start a new selection range\n ******************************/\n\n\nexports.startSelection = function (props, gridState, gridCoords) {\n  var truncatedCoords = truncateCoord(gridCoords, props);\n  var newCursorState = cursorState.startDrag(truncatedCoords);\n  startSelectionWithCursorState(props, gridState, newCursorState);\n};\n\nexports.selectAll = function (props, gridState) {\n  var newCursorState = cursorState.startRangeCorner({\n    x: props.frozenCols,\n    y: props.frozenRows\n  }, {\n    x: props.columns.length - 1,\n    y: props.data.length - 1\n  });\n  startSelectionWithCursorState(props, gridState, newCursorState);\n};\n\nexports.selectRow = function (props, gridState, coord) {\n  var truncatedCoords = truncateCoord(coord, props);\n  var newCursorState = cursorState.startRangeRow({\n    x: props.frozenCols,\n    y: truncatedCoords.y\n  }, {\n    x: props.columns.length - 1,\n    y: truncatedCoords.y\n  });\n  startSelectionWithCursorState(props, gridState, newCursorState);\n};\n\nexports.selectCol = function (props, gridState, coord) {\n  var truncatedCoords = truncateCoord(coord, props);\n  var newCursorState = cursorState.startRangeColumn({\n    x: truncatedCoords.x,\n    y: props.frozenRows\n  }, {\n    x: truncatedCoords.x,\n    y: props.data.length - 1\n  });\n  startSelectionWithCursorState(props, gridState, newCursorState);\n};\n\nvar startSelectionWithCursorState = function startSelectionWithCursorState(props, gridState, newCursorState) {\n  if (props.onSelectionChangeStart) {\n    props.onSelectionChangeStart(newCursorState.selection.selectedRange);\n  }\n\n  gridState.cursorState(newCursorState);\n};\n/**************************************\n * Extend existing selection methods\n * Do nothing if no existing selection\n **************************************/\n\n\nexports.updateSelection = function (props, gridState, gridCoords) {\n  var oldCursorState = gridState.cursorState();\n\n  if (!cursorState_1.hasSelectionCellState(oldCursorState)) {\n    return;\n  }\n\n  var truncatedCoords = truncateCoord(gridCoords, props);\n  var newCursorState = cursorState.updateDrag(oldCursorState, truncatedCoords);\n  updateCursorStateIfDifferent(props, gridState, oldCursorState, newCursorState);\n};\n\nexports.updateSelectionRow = function (props, gridState, coord) {\n  var oldCursorState = gridState.cursorState();\n\n  if (!cursorState_1.hasSelectionRowState(oldCursorState)) {\n    return;\n  }\n\n  var truncatedCoords = truncateCoord(coord, props);\n  var newCursorState = cursorState.updateRangeRow(oldCursorState, truncatedCoords);\n  updateCursorStateIfDifferent(props, gridState, oldCursorState, newCursorState);\n};\n\nexports.updateSelectionCol = function (props, gridState, coord) {\n  var oldCursorState = gridState.cursorState();\n\n  if (!cursorState.hasSelectionColumnState(oldCursorState)) {\n    return;\n  }\n\n  var truncatedCoords = truncateCoord(coord, props);\n  var newCursorState = cursorState.updateRangeColumn(oldCursorState, truncatedCoords);\n  updateCursorStateIfDifferent(props, gridState, oldCursorState, newCursorState);\n};\n\nvar updateCursorStateIfDifferent = function updateCursorStateIfDifferent(props, gridState, oldCursorState, newCursorState) {\n  if (props.onSelectionChangeUpdate) {\n    var rangeChanged = cursorState.isSelectRangeDifferent(oldCursorState.selection.selectedRange, newCursorState.selection.selectedRange);\n\n    if (rangeChanged) {\n      props.onSelectionChangeUpdate(newCursorState.selection.selectedRange);\n    }\n  }\n\n  gridState.cursorState(newCursorState);\n};\n/*****************************\n * Complete selection methods\n *****************************/\n\n\nexports.endSelection = function (props, gridState) {\n  var oldCursorState = gridState.cursorState();\n\n  if (!cursorState_1.hasSelectionState(oldCursorState)) {\n    return;\n  }\n\n  var newCursorState = cursorState.endSelection(oldCursorState);\n\n  if (props.onSelectionChangeEnd) {\n    props.onSelectionChangeEnd(newCursorState.selection.selectedRange);\n  }\n\n  gridState.cursorState(newCursorState);\n};\n/***************\n * Util methods\n ***************/\n\n\nvar truncateCoord = function truncateCoord(coord, props) {\n  return {\n    x: Math.min(Math.max(coord.x, props.frozenCols), props.columns.length - 1),\n    y: Math.min(Math.max(coord.y, props.frozenRows), props.data.length - 1)\n  };\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.cellHasTextFunction = function (cell) {\n  return !!cell.getText;\n};\n\nexports.getCellText = function (cell) {\n  return exports.cellHasTextFunction(cell) ? cell.getText(cell.data) : cell.text;\n};\n\nexports.cellIsEditable = function (cell) {\n  return !!cell.editor;\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar scrolling_1 = require(\"./scrolling\");\n\nvar scrollBySelectionDragTimerId = null;\n\nexports.clearScrollByDragTimer = function () {\n  if (scrollBySelectionDragTimerId) {\n    clearInterval(scrollBySelectionDragTimerId);\n    scrollBySelectionDragTimerId = null;\n  }\n};\n\nexports.startScrollBySelectionDragIfNeeded = function (gridState, componentPixelCoord, updateSelection, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var rootSize = gridState.rootSize();\n\n  if (!rootSize) {\n    return;\n  } // Clear any old scroll timer - the mouse pos has changed, so we'll set up a new timer if needed\n\n\n  exports.clearScrollByDragTimer();\n  var deltaX = 0;\n\n  if (options.suppressX !== true) {\n    if (componentPixelCoord.x < 10) {\n      deltaX = -15;\n    } else if (componentPixelCoord.x < 20) {\n      deltaX = -10;\n    } else if (componentPixelCoord.x < 40) {\n      deltaX = -5;\n    } else if (componentPixelCoord.x < 50) {\n      deltaX = -1;\n    } else if (componentPixelCoord.x > rootSize.width - 10) {\n      deltaX = 15;\n    } else if (componentPixelCoord.x > rootSize.width - 20) {\n      deltaX = 10;\n    } else if (componentPixelCoord.x > rootSize.width - 40) {\n      deltaX = 5;\n    } else if (componentPixelCoord.x > rootSize.width - 50) {\n      deltaX = 1;\n    }\n  }\n\n  var deltaY = 0;\n\n  if (options.suppressY !== true) {\n    if (componentPixelCoord.y < 10) {\n      deltaY = -15;\n    } else if (componentPixelCoord.y < 20) {\n      deltaY = -10;\n    } else if (componentPixelCoord.y < 40) {\n      deltaY = -5;\n    } else if (componentPixelCoord.y < 50) {\n      deltaY = -1;\n    } else if (componentPixelCoord.y > rootSize.height - 10) {\n      deltaY = 15;\n    } else if (componentPixelCoord.y > rootSize.height - 20) {\n      deltaY = 10;\n    } else if (componentPixelCoord.y > rootSize.height - 40) {\n      deltaY = 5;\n    } else if (componentPixelCoord.y > rootSize.height - 50) {\n      deltaY = 1;\n    }\n  }\n\n  if (deltaX !== 0 || deltaY !== 0) {\n    var updateOffsetByDeltaAndUpdateSelection = function updateOffsetByDeltaAndUpdateSelection() {\n      scrolling_1.updateOffsetByDelta(deltaX, deltaY, gridState);\n      updateSelection();\n    };\n\n    scrollBySelectionDragTimerId = setInterval(updateOffsetByDeltaAndUpdateSelection, 10);\n    scrolling_1.updateOffsetByDelta(deltaX, deltaY, gridState);\n  }\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar types_1 = require(\"./types\");\n\nexports.borderColour = 'lightgrey';\n\nvar CommonCanvasRenderer =\n/** @class */\nfunction () {\n  function CommonCanvasRenderer(canvas, dpr, alpha) {\n    var _this = this;\n\n    this.queuedRender = null;\n\n    this.setCanvas = function (canvas) {\n      _this.canvas = canvas;\n\n      var context = _this.canvas.getContext('2d', {\n        alpha: _this.alpha\n      });\n\n      if (!context) {\n        throw new Error('Could not create canvas contex');\n      }\n\n      _this.context = context;\n    };\n\n    this.drawCellBackgroundDefault = function (context, cellBounds) {\n      context.fillStyle = 'white';\n      context.fillRect(cellBounds.left, cellBounds.top, cellBounds.width, cellBounds.height);\n    };\n\n    this.drawCellTextDefault = function (context, cellBounds, cell) {\n      context.fillStyle = 'black';\n      context.textBaseline = 'middle';\n      var verticalCentre = cellBounds.top + cellBounds.height / 2;\n      var text = types_1.getCellText(cell);\n      context.fillText(text, cellBounds.left + 2, verticalCentre, cellBounds.width - 4);\n    };\n\n    this.alpha = alpha;\n    this.dpr = dpr; // Below is same as setCanvas, copied here to appease compiler\n\n    this.canvas = canvas;\n    var context = this.canvas.getContext('2d', {\n      alpha: this.alpha\n    });\n\n    if (!context) {\n      throw new Error('Could not create canvas contex');\n    }\n\n    this.context = context;\n  }\n\n  CommonCanvasRenderer.prototype.drawScaled = function (draw) {\n    var _this = this;\n\n    if (this.queuedRender !== null) {\n      return;\n    }\n\n    this.queuedRender = window.requestAnimationFrame(function () {\n      _this.context.scale(_this.dpr, _this.dpr);\n\n      try {\n        draw();\n      } finally {\n        _this.context.scale(1 / _this.dpr, 1 / _this.dpr);\n\n        _this.queuedRender = null;\n      }\n    });\n  };\n\n  CommonCanvasRenderer.prototype.drawCell = function (cell, cellBounds, metadata) {\n    var renderBackground = cell.renderBackground || this.drawCellBackgroundDefault;\n    var renderText = cell.renderText || this.drawCellTextDefault;\n    renderBackground(this.context, cellBounds, cell, metadata);\n    renderText(this.context, cellBounds, cell, metadata);\n  };\n\n  return CommonCanvasRenderer;\n}();\n\nexports.CommonCanvasRenderer = CommonCanvasRenderer;","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar commonCanvasRenderer_1 = require(\"./commonCanvasRenderer\");\n\nvar cursorState = __importStar(require(\"./cursorState\"));\n\nvar ScrollGeometry = __importStar(require(\"./scrollbarGeometry\"));\n\nvar defaultPosProps = {\n  gridOffset: {\n    x: 0,\n    y: 0\n  },\n  visibleRect: {\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    height: 0,\n    width: 0\n  }\n};\nvar defaultScrollbarProps = {\n  horizontalScrollbarPos: null,\n  verticalScrollbarPos: null,\n  hoveredScrollbar: null\n};\nvar defaultScrollbarStyle = 'rgba(0, 0, 0, 0.4)';\nvar hoveredScrollbarStyle = 'rgba(0, 0, 0, 0.55)';\n\nvar HighlightCanvasRenderer =\n/** @class */\nfunction (_super) {\n  __extends(HighlightCanvasRenderer, _super);\n\n  function HighlightCanvasRenderer(canvas, basicProps, dpr) {\n    var _this = _super.call(this, canvas, dpr, true) || this;\n\n    _this.posProps = defaultPosProps;\n    _this.scrollProps = defaultScrollbarProps;\n    _this.selectionProps = {\n      cursorState: cursorState.createDefault()\n    };\n\n    _this.draw = function () {\n      var context = _this.context; // Clear the higlight layer\n\n      context.clearRect(0, 0, _this.canvas.width, _this.canvas.height); // Translate the canvas context so that it's covering the visibleRect\n      // (so when we translate it back, what we've drawn is within the bounds of the canvas element)\n\n      context.translate(-_this.posProps.gridOffset.x, -_this.posProps.gridOffset.y);\n      context.lineCap = 'butt';\n      context.fillStyle = 'rgba(33, 117, 228, 0.25)';\n      context.strokeStyle = '#2276e4'; // Draw edit cursor cell outline\n\n      if (_this.selectionProps.cursorState.editCursorCell) {\n        context.lineWidth = 2;\n\n        var rect = _this.gridCellCoordToGridPixelCoord(_this.selectionProps.cursorState.editCursorCell);\n\n        context.strokeRect(rect.left, rect.top, rect.width, rect.height);\n        context.lineWidth = 1;\n      } // Draw selected cell highlights\n\n\n      if (_this.selectionProps.cursorState.selection && isSelectionMoreThanOneCell(_this.selectionProps.cursorState.selection)) {\n        var tl = _this.gridCellCoordToGridPixelCoord(_this.selectionProps.cursorState.selection.selectedRange.topLeft);\n\n        var br = _this.gridCellCoordToGridPixelCoord(_this.selectionProps.cursorState.selection.selectedRange.bottomRight);\n\n        context.fillRect(tl.left, tl.top, br.right - tl.left, br.bottom - tl.top);\n        context.strokeRect(tl.left, tl.top, br.right - tl.left, br.bottom - tl.top);\n      } // Translate back, to bring our drawn area into the bounds of the canvas element\n\n\n      context.translate(_this.posProps.gridOffset.x, _this.posProps.gridOffset.y); // Draw scrollbar gutters\n\n      var vBounds = _this.basicProps.verticalGutterBounds;\n      var hBounds = _this.basicProps.horizontalGutterBounds;\n\n      if (vBounds || hBounds) {\n        _this.context.fillStyle = '#eee';\n\n        if (vBounds) {\n          _this.context.fillRect(vBounds.left, vBounds.top, vBounds.width, vBounds.height);\n        }\n\n        if (hBounds) {\n          _this.context.fillRect(hBounds.left, hBounds.top, hBounds.width, hBounds.height);\n        }\n\n        _this.context.strokeStyle = 'lightgrey';\n        _this.context.lineWidth = 1;\n\n        _this.context.beginPath();\n\n        if (vBounds) {\n          _this.context.moveTo(vBounds.left, 0);\n\n          _this.context.lineTo(vBounds.left, vBounds.height - (hBounds ? hBounds.height : 0));\n\n          _this.context.moveTo(vBounds.right, 0);\n\n          _this.context.lineTo(vBounds.right, vBounds.height);\n        }\n\n        if (hBounds) {\n          _this.context.moveTo(0, hBounds.top);\n\n          _this.context.lineTo(hBounds.width - (vBounds ? vBounds.width : 0), hBounds.top);\n\n          _this.context.moveTo(0, hBounds.bottom);\n\n          _this.context.lineTo(hBounds.width, hBounds.bottom);\n        }\n\n        _this.context.stroke();\n      } // Set up for drawing scrollbars\n\n\n      context.lineCap = 'round'; // Draw horizontal scrollbar (if needed)\n\n      if (_this.scrollProps.horizontalScrollbarPos) {\n        if (_this.scrollProps.hoveredScrollbar === 'x') {\n          context.strokeStyle = hoveredScrollbarStyle;\n          context.lineWidth = ScrollGeometry.barWidth + 3;\n        } else {\n          context.strokeStyle = defaultScrollbarStyle;\n          context.lineWidth = ScrollGeometry.barWidth;\n        }\n\n        var scrollPos = _this.scrollProps.horizontalScrollbarPos;\n        context.beginPath();\n        context.moveTo(scrollPos.extent.start, scrollPos.transverse);\n        context.lineTo(scrollPos.extent.end, scrollPos.transverse);\n        context.stroke();\n      } // Draw vertical scrollbar (if needed)\n\n\n      if (_this.scrollProps.verticalScrollbarPos) {\n        if (_this.scrollProps.hoveredScrollbar === 'y') {\n          context.strokeStyle = hoveredScrollbarStyle;\n          context.lineWidth = ScrollGeometry.barWidth + 3;\n        } else {\n          context.strokeStyle = defaultScrollbarStyle;\n          context.lineWidth = ScrollGeometry.barWidth;\n        }\n\n        var scrollPos = _this.scrollProps.verticalScrollbarPos;\n        context.beginPath();\n        context.moveTo(scrollPos.transverse, scrollPos.extent.start);\n        context.lineTo(scrollPos.transverse, scrollPos.extent.end);\n        context.stroke();\n      }\n    };\n\n    _this.gridCellCoordToGridPixelCoord = function (_a) {\n      var x = _a.x,\n          y = _a.y;\n      return {\n        top: y * (_this.basicProps.rowHeight + _this.basicProps.borderWidth),\n        bottom: (y + 1) * (_this.basicProps.rowHeight + +_this.basicProps.borderWidth) - _this.basicProps.borderWidth,\n        height: _this.basicProps.rowHeight,\n        left: _this.basicProps.columnBoundaries[x].left,\n        right: _this.basicProps.columnBoundaries[x].right,\n        width: _this.basicProps.columnBoundaries[x].right - _this.basicProps.columnBoundaries[x].left\n      };\n    };\n\n    _this.basicProps = basicProps;\n    return _this;\n  }\n\n  HighlightCanvasRenderer.prototype.updateProps = function (canvas, basicProps, posProps, scrollProps, selectProps) {\n    if (this.canvas !== canvas) {\n      this.setCanvas(canvas);\n    }\n\n    this.basicProps = basicProps;\n    this.posProps = posProps;\n    this.scrollProps = scrollProps, this.selectionProps = selectProps;\n    this.drawScaled(this.draw);\n  };\n\n  return HighlightCanvasRenderer;\n}(commonCanvasRenderer_1.CommonCanvasRenderer);\n\nexports.HighlightCanvasRenderer = HighlightCanvasRenderer;\n\nfunction isSelectionMoreThanOneCell(selection) {\n  var tl = selection.selectedRange.topLeft;\n  var br = selection.selectedRange.bottomRight;\n  return tl.x !== br.x || tl.y !== br.y;\n}\n\nfunction shouldSelectionClear(prev, next) {\n  return prev.columns !== next.columns || prev.data.length !== next.data.length;\n}\n\nexports.shouldSelectionClear = shouldSelectionClear;","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar instigator_1 = require(\"instigator\");\n\nvar React = __importStar(require(\"react\"));\n\nvar cursorState = __importStar(require(\"./cursorState\"));\n\nvar gridMouseEvents_1 = require(\"./eventHandlers/gridMouseEvents\");\n\nvar keyboardEvents_1 = require(\"./eventHandlers/keyboardEvents\");\n\nvar scrollbarMouseEvents_1 = require(\"./eventHandlers/scrollbarMouseEvents\");\n\nvar scrolling_1 = require(\"./eventHandlers/scrolling\");\n\nvar FrozenCanvas_1 = require(\"./FrozenCanvas\");\n\nvar gridGeometry_1 = require(\"./gridGeometry\");\n\nvar gridState_1 = require(\"./gridState\");\n\nvar HighlightCanvas_1 = require(\"./HighlightCanvas\");\n\nvar highlightCanvasRenderer_1 = require(\"./highlightCanvasRenderer\");\n\nvar InlineEditor_1 = require(\"./InlineEditor\");\n\nvar MainCanvas_1 = require(\"./MainCanvas\");\n\nvar types_1 = require(\"./types\");\n\nvar ReactCanvasGrid =\n/** @class */\nfunction (_super) {\n  __extends(ReactCanvasGrid, _super);\n\n  function ReactCanvasGrid(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.rootRef = React.createRef();\n\n    _this.onWheel = function (e) {\n      // Browsers may use a 'delta mode' when wheeling, requesting multi-pixel movement\n      // See https://developer.mozilla.org/en-US/docs/Web/API/WheelEvent/deltaMode\n      var scaleFactors = {\n        0: 1,\n        1: 16\n      };\n      var scaleFactor = scaleFactors[e.deltaMode || 0];\n      var willUpdate = scrolling_1.updateOffsetByDelta(e.deltaX * scaleFactor, e.deltaY * scaleFactor, _this.gridState);\n\n      if (willUpdate) {\n        // The grid is going to move, so we want to prevent any other scrolling from happening\n        e.preventDefault();\n      }\n    };\n\n    _this.onMouseDown = function (event) {\n      var gridSize = _this.gridState.gridSize();\n\n      var coord = gridGeometry_1.GridGeometry.calculateComponentPixel(event, _this.rootRef.current);\n\n      if (coord.x >= gridSize.width || coord.y >= gridSize.height) {\n        // The click happened within the component but outside the grid, so ignore it\n        return;\n      }\n\n      if (scrollbarMouseEvents_1.mouseDownOnScrollbar(coord, _this.gridState)) {\n        return;\n      }\n\n      gridMouseEvents_1.mouseDownOnGrid(event, coord, _this.rootRef, _this.props, _this.gridState, _this.state.editingCell);\n    };\n\n    _this.onMouseMove = function (event) {\n      var coord = gridGeometry_1.GridGeometry.calculateComponentPixel(event, _this.rootRef.current);\n\n      var gridSize = _this.gridState.gridSize();\n\n      if (coord.x >= gridSize.width || coord.y >= gridSize.height) {\n        // The drag has gone beyond the edge of the grid (even if still in the component), so ignore it\n        return;\n      }\n\n      if (scrollbarMouseEvents_1.mouseDragOnScrollbar(coord, _this.gridState)) {\n        return;\n      } else if (gridMouseEvents_1.mouseDragOnGrid(event, _this.rootRef, _this.props, _this.gridState, _this.state.editingCell)) {\n        return;\n      } else {\n        scrollbarMouseEvents_1.mouseHoverOnScrollbar(coord, _this.gridState);\n      }\n    };\n\n    _this.onMouseUp = function (event) {\n      instigator_1.batch(function () {\n        var coord = gridGeometry_1.GridGeometry.calculateComponentPixel(event, _this.rootRef.current);\n\n        if (scrollbarMouseEvents_1.mouseUpOnScrollbar()) {\n          scrollbarMouseEvents_1.mouseHoverOnScrollbar(coord, _this.gridState);\n          return;\n        }\n\n        gridMouseEvents_1.mouseUpOnGrid(_this.props, _this.gridState, _this.state.editingCell);\n      });\n    };\n\n    _this.onDoubleClick = function (event) {\n      var cellCoords = gridGeometry_1.GridGeometry.calculateGridCellCoordsFromGridState(event, _this.rootRef.current, _this.gridState);\n\n      _this.startEditingCell(cellCoords);\n    };\n\n    _this.onKeyDown = function (event) {\n      keyboardEvents_1.keyDownOnGrid(event, _this.props, _this.gridState);\n    };\n\n    _this.startEditingCell = function (cellCoords) {\n      var cellBounds = gridGeometry_1.GridGeometry.calculateCellBounds(cellCoords.x, cellCoords.y, _this.props.rowHeight, _this.props.borderWidth, _this.gridState.columnBoundaries(), _this.props.columns);\n      var col = _this.props.columns[cellCoords.x];\n      var cell = _this.props.data[cellCoords.y][col.fieldName];\n\n      if (!types_1.cellIsEditable(cell)) {\n        return;\n      }\n\n      _this.setState({\n        editingCell: __assign({\n          cell: cell,\n          colIndex: cellCoords.x,\n          rowIndex: cellCoords.y\n        }, cellBounds, {\n          fieldName: col.fieldName\n        })\n      });\n    };\n\n    _this.cancelEditingCell = function () {\n      _this.setState({\n        editingCell: null\n      }, _this.focusRoot);\n    };\n\n    _this.stopEditingCell = function (newData) {\n      if (_this.state.editingCell === null) {\n        return;\n      }\n\n      if (_this.props.onCellDataChanged) {\n        _this.props.onCellDataChanged({\n          cell: _this.state.editingCell.cell,\n          colIndex: _this.state.editingCell.colIndex,\n          rowIndex: _this.state.editingCell.rowIndex,\n          fieldName: _this.state.editingCell.fieldName,\n          newData: newData\n        });\n      }\n\n      _this.setState({\n        editingCell: null\n      }, _this.focusRoot);\n    };\n\n    _this.focusRoot = function () {\n      if (_this.rootRef.current) {\n        _this.rootRef.current.focus({\n          preventScroll: true\n        });\n      }\n    };\n\n    _this.gridState = new gridState_1.GridState(props.columns, props.data, props.rowHeight, props.borderWidth, props.frozenRows, props.frozenCols);\n    _this.state = {\n      rootSize: null,\n      gridOffset: _this.gridState.gridOffset(),\n      editingCell: null\n    };\n    return _this;\n  }\n\n  ReactCanvasGrid.prototype.componentDidMount = function () {\n    var _this = this;\n\n    if (!this.rootRef.current) {\n      throw new Error('root element ref not set in componentDidMount, so cannot determine canvas size');\n    }\n\n    var rootRect = this.rootRef.current.getBoundingClientRect();\n    this.rootRef.current.addEventListener('wheel', this.onWheel);\n    window.addEventListener('mousemove', this.onMouseMove);\n    window.addEventListener('mouseup', this.onMouseUp); // Set the rootSize, causing a re-render, at which point the canvases will be properly sized.\n    // Once the state has been set and everything has re-rendered, we can set the rootSize, causing\n    // the renderers to redraw.\n\n    this.setState({\n      rootSize: {\n        width: rootRect.width,\n        height: rootRect.height\n      }\n    }, function () {\n      _this.gridState.rootSize({\n        width: rootRect.width,\n        height: rootRect.height\n      });\n    }); // Keep the gridState gridOffset and the React state gridOffset in sync\n\n    instigator_1.consumer([this.gridState.gridOffset], function (gridOffset) {\n      return _this.setState({\n        gridOffset: gridOffset\n      });\n    });\n  };\n\n  ReactCanvasGrid.prototype.componentDidUpdate = function (prevProps) {\n    var _this = this;\n\n    if (!this.rootRef.current) {\n      throw new Error('root element ref not set in componentDidMount, so cannot determine canvas size');\n    }\n\n    var rootRect = this.rootRef.current.getBoundingClientRect();\n    instigator_1.batch(function () {\n      _this.gridState.columns(_this.props.columns);\n\n      _this.gridState.data(_this.props.data);\n\n      _this.gridState.rowHeight(_this.props.rowHeight);\n\n      _this.gridState.borderWidth(_this.props.borderWidth);\n\n      _this.gridState.frozenRows(_this.props.frozenRows);\n\n      _this.gridState.frozenCols(_this.props.frozenCols);\n\n      _this.gridState.rootSize({\n        width: rootRect.width,\n        height: rootRect.height\n      });\n\n      if (highlightCanvasRenderer_1.shouldSelectionClear(prevProps, _this.props)) {\n        _this.gridState.cursorState(cursorState.createDefault());\n\n        if (_this.props.onSelectionCleared) {\n          _this.props.onSelectionCleared();\n        }\n      }\n\n      var gridSize = _this.gridState.gridSize();\n\n      var canvasSize = _this.gridState.canvasSize();\n\n      var truncatedOffset = gridGeometry_1.GridGeometry.truncateGridOffset(_this.gridState.gridOffset(), gridSize, canvasSize);\n\n      if (truncatedOffset) {\n        _this.gridState.gridOffsetRaw(truncatedOffset);\n      }\n\n      if (_this.props.focusedColIndex !== null && _this.props.focusedColIndex !== prevProps.focusedColIndex) {\n        var focusedOffset = gridGeometry_1.GridGeometry.calculateGridOffsetForTargetColumn(_this.gridState.gridOffset(), canvasSize, _this.gridState.frozenColsWidth(), _this.props.focusedColIndex, _this.gridState.columnBoundaries(), _this.gridState.verticalGutterBounds());\n\n        _this.gridState.gridOffsetRaw(focusedOffset);\n      }\n    });\n  };\n\n  ReactCanvasGrid.prototype.componentWillUnmount = function () {\n    if (this.rootRef.current) {\n      this.rootRef.current.removeEventListener('wheel', this.onWheel);\n    }\n\n    window.removeEventListener('mousemove', this.onMouseMove);\n    window.removeEventListener('mouseup', this.onMouseUp);\n  };\n\n  ReactCanvasGrid.prototype.render = function () {\n    // Since we're rendering, the props have just changed. The values in gridState won't update until\n    // componentDidMount is run, however, so we can't use them, and have to calculate fresh values\n    // here in render and throw them away. Props changes should be rare, and unlikely to be extremely\n    // performance sensitive, so this probably won't cause noticeable problems.\n    var columnBoundaries = gridGeometry_1.GridGeometry.calculateColumnBoundaries(this.props.columns, this.props.borderWidth);\n    var gridSize = gridGeometry_1.GridGeometry.calculateGridSize(this.props.data, columnBoundaries, this.props.rowHeight, this.props.borderWidth);\n    var gridPlusGutterSize = gridGeometry_1.GridGeometry.calculateGridPlusGutterSize(gridSize, this.state.rootSize);\n    var canvasSize = gridGeometry_1.GridGeometry.calculateCanvasSize(gridPlusGutterSize, this.state.rootSize);\n    var frozenColsWidth = gridGeometry_1.GridGeometry.calculateFrozenColsWidth(columnBoundaries, this.props.frozenCols, this.props.borderWidth);\n    var frozenRowsHeight = gridGeometry_1.GridGeometry.calculateFrozenRowsHeight(this.props.rowHeight, this.props.borderWidth, this.props.frozenRows);\n    return React.createElement(\"div\", {\n      ref: this.rootRef,\n      className: \"react-canvas-grid\",\n      onMouseDown: this.onMouseDown,\n      onDoubleClick: this.onDoubleClick,\n      onKeyDown: this.onKeyDown,\n      tabIndex: 1,\n      style: {\n        position: 'relative',\n        width: this.props.cssWidth,\n        height: this.props.cssHeight,\n        overflow: 'hidden',\n        outline: 'none'\n      }\n    }, React.createElement(MainCanvas_1.MainCanvas, {\n      width: canvasSize.width,\n      height: canvasSize.height,\n      frozenColsWidth: frozenColsWidth,\n      frozenRowsHeight: frozenRowsHeight,\n      gridState: this.gridState\n    }), React.createElement(HighlightCanvas_1.HighlightCanvas, {\n      width: canvasSize.width,\n      height: canvasSize.height,\n      gridState: this.gridState\n    }), this.state.editingCell && React.createElement(InlineEditor_1.InlineTextEditor, {\n      cell: this.state.editingCell.cell,\n      left: this.state.editingCell.left,\n      top: this.state.editingCell.top,\n      width: this.state.editingCell.width,\n      height: this.state.editingCell.height,\n      gridOffset: this.state.gridOffset,\n      onSubmit: this.stopEditingCell,\n      onCancel: this.cancelEditingCell\n    }), React.createElement(FrozenCanvas_1.FrozenCanvas, {\n      width: canvasSize.width,\n      height: canvasSize.height,\n      frozenColsWidth: frozenColsWidth,\n      frozenRowsHeight: frozenRowsHeight,\n      gridState: this.gridState\n    }));\n  };\n\n  ReactCanvasGrid.defaultProps = {\n    cssWidth: '100%',\n    cssHeight: '100%',\n    borderWidth: 1,\n    frozenRows: 0,\n    frozenCols: 0,\n    focusedColIndex: null\n  };\n  return ReactCanvasGrid;\n}(React.PureComponent);\n\nexports.ReactCanvasGrid = ReactCanvasGrid;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar cursorState_1 = require(\"../cursorState\");\n\nvar gridGeometry_1 = require(\"../gridGeometry\");\n\nvar frozenCellMouseEvents_1 = require(\"./frozenCellMouseEvents\");\n\nvar mouseEvents_1 = require(\"./mouseEvents\");\n\nvar scrollingTimer_1 = require(\"./scrollingTimer\");\n\nvar selection_1 = require(\"./selection\");\n\nexports.mouseDownOnGrid = function (event, componentPixelCoord, rootRef, props, gridState, editingCell) {\n  if (!mouseEvents_1.isLeftButton(event)) {\n    return;\n  }\n\n  if (editingCell !== null) {\n    // We're editing a cell, so ignore clicks on grid\n    return;\n  }\n\n  if (frozenCellMouseEvents_1.leftClickOnFrozenCell(event, componentPixelCoord, rootRef, props, gridState)) {\n    return;\n  }\n\n  var gridCoords = gridGeometry_1.GridGeometry.calculateGridCellCoordsFromGridState(event, rootRef.current, gridState);\n  selection_1.startOrUpdateSelection(event, props, gridState, gridCoords);\n};\n\nexports.mouseDragOnGrid = function (event, rootRef, props, gridState, editingCell) {\n  if (!mouseEvents_1.isLeftButton(event)) {\n    return false;\n  }\n\n  if (editingCell !== null) {\n    // We're editing a cell, so ignore grid drags\n    return false;\n  }\n\n  var currentCursorState = gridState.cursorState();\n\n  if (!cursorState_1.hasSelectionState(currentCursorState) || !currentCursorState.isSelectionInProgress) {\n    return false;\n  }\n\n  var componentPixelCoord = gridGeometry_1.GridGeometry.calculateComponentPixel(event, rootRef.current);\n\n  if (frozenCellMouseEvents_1.leftClickDragOnFrozenCell(currentCursorState, event, componentPixelCoord, rootRef, props, gridState)) {\n    return true;\n  }\n\n  var clientX = event.clientX,\n      clientY = event.clientY;\n\n  var recalculateAndUpdateSelection = function recalculateAndUpdateSelection() {\n    var gridCoords = gridGeometry_1.GridGeometry.calculateGridCellCoordsFromGridState({\n      clientX: clientX,\n      clientY: clientY\n    }, rootRef.current, gridState);\n    selection_1.updateSelection(props, gridState, gridCoords);\n  };\n\n  scrollingTimer_1.startScrollBySelectionDragIfNeeded(gridState, componentPixelCoord, recalculateAndUpdateSelection);\n  recalculateAndUpdateSelection();\n  return true;\n};\n\nexports.mouseUpOnGrid = function (props, gridState, editingCell) {\n  scrollingTimer_1.clearScrollByDragTimer();\n\n  if (editingCell !== null) {\n    // We're editing a cell, so ignore grid clicks\n    return;\n  }\n\n  var currentCursorState = gridState.cursorState();\n\n  if (!cursorState_1.hasSelectionState(currentCursorState) || !currentCursorState.isSelectionInProgress) {\n    return false;\n  }\n\n  selection_1.endSelection(props, gridState);\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar cursorState_1 = require(\"../cursorState\");\n\nvar gridGeometry_1 = require(\"../gridGeometry\");\n\nvar scrollingTimer_1 = require(\"./scrollingTimer\");\n\nvar selection_1 = require(\"./selection\");\n\nexports.leftClickOnFrozenCell = function (event, componentPixelCoord, rootRef, props, gridState) {\n  var clickInFrozenCols = componentPixelCoord.x < gridState.frozenColsWidth();\n  var clickInFrozenRows = componentPixelCoord.y < gridState.frozenRowsHeight();\n\n  if (!clickInFrozenCols && !clickInFrozenRows) {\n    return false;\n  }\n\n  if (clickInFrozenCols && clickInFrozenRows) {\n    selection_1.selectAll(props, gridState);\n  } else if (clickInFrozenCols) {\n    var coord = gridGeometry_1.GridGeometry.calculateGridCellCoordsFromGridState({\n      clientX: 0,\n      clientY: event.clientY\n    }, rootRef.current, gridState);\n    selection_1.selectOrUpdateRow(event, props, gridState, coord);\n  } else if (clickInFrozenRows) {\n    var coord = gridGeometry_1.GridGeometry.calculateGridCellCoordsFromGridState({\n      clientX: event.clientX,\n      clientY: 0\n    }, rootRef.current, gridState);\n    selection_1.selectOrUpdateCol(event, props, gridState, coord);\n  }\n\n  return true;\n};\n\nexports.leftClickDragOnFrozenCell = function (currentCursorState, event, componentPixelCoord, rootRef, props, gridState) {\n  if (!cursorState_1.hasSelectionFrozenState(currentCursorState)) {\n    return false;\n  }\n\n  var clickInFrozenCols = componentPixelCoord.x < gridState.frozenColsWidth();\n  var clickInFrozenRows = componentPixelCoord.y < gridState.frozenRowsHeight();\n\n  if (!clickInFrozenCols && !clickInFrozenRows) {\n    return false;\n  }\n\n  var clientX = event.clientX,\n      clientY = event.clientY;\n\n  var recalculateAndUpdateSelection = function recalculateAndUpdateSelection() {\n    if (clickInFrozenCols && clickInFrozenRows) {// Can't drag onto corner to select all, so ignore\n    } else if (clickInFrozenCols) {\n      var coord = gridGeometry_1.GridGeometry.calculateGridCellCoordsFromGridState({\n        clientX: 0,\n        clientY: clientY\n      }, rootRef.current, gridState);\n      selection_1.updateSelectionRow(props, gridState, coord);\n    } else if (clickInFrozenRows) {\n      var coord = gridGeometry_1.GridGeometry.calculateGridCellCoordsFromGridState({\n        clientX: clientX,\n        clientY: 0\n      }, rootRef.current, gridState);\n      selection_1.updateSelectionCol(props, gridState, coord);\n    }\n  };\n\n  if (cursorState_1.hasSelectionRowState(currentCursorState)) {\n    scrollingTimer_1.startScrollBySelectionDragIfNeeded(gridState, componentPixelCoord, recalculateAndUpdateSelection, {\n      suppressX: true\n    });\n  } else if (cursorState_1.hasSelectionColumnState(currentCursorState)) {\n    scrollingTimer_1.startScrollBySelectionDragIfNeeded(gridState, componentPixelCoord, recalculateAndUpdateSelection, {\n      suppressY: true\n    });\n  }\n\n  recalculateAndUpdateSelection();\n  return true;\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction numberBetween(num, min, max) {\n  return Math.max(Math.min(num, max), min);\n}\n\nexports.numberBetween = numberBetween;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction isLeftButton(event) {\n  // tslint:disable-next-line: no-bitwise\n  return (event.buttons & 1) === 1;\n}\n\nexports.isLeftButton = isLeftButton;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar cursorState_1 = require(\"../cursorState\");\n\nvar scrolling_1 = require(\"./scrolling\");\n\nvar selection_1 = require(\"./selection\");\n\nexports.keyDownOnGrid = function (event, props, gridState) {\n  var cursor = gridState.cursorState();\n\n  if (cursorState_1.hasSelectionState(cursor)) {\n    var cursorCell = event.shiftKey ? cursor.selection.selectionEndCell : cursor.editCursorCell;\n\n    if (cursorState_1.hasSelectionColumnState(cursor)) {\n      var newCoord = void 0;\n\n      if (event.key === 'ArrowRight') {\n        newCoord = {\n          x: cursorCell.x + 1,\n          y: cursorCell.y\n        };\n      } else if (event.key === 'ArrowLeft') {\n        newCoord = {\n          x: cursorCell.x - 1,\n          y: cursorCell.y\n        };\n      } else if (event.key === 'ArrowUp' || event.key === 'ArrowDown') {\n        newCoord = cursorCell;\n      } else {\n        return;\n      }\n\n      selection_1.selectOrUpdateCol(event, props, gridState, newCoord);\n      scrolling_1.scrollToColumn(newCoord.x, gridState);\n      selection_1.endSelection(props, gridState);\n    } else if (cursorState_1.hasSelectionRowState(cursor)) {\n      var newCoord = void 0;\n\n      if (event.key === 'ArrowRight' || event.key === 'ArrowLeft') {\n        newCoord = cursorCell;\n      } else if (event.key === 'ArrowUp') {\n        newCoord = {\n          x: cursorCell.x,\n          y: cursorCell.y - 1\n        };\n      } else if (event.key === 'ArrowDown') {\n        newCoord = {\n          x: cursorCell.x,\n          y: cursorCell.y + 1\n        };\n      } else {\n        return;\n      }\n\n      selection_1.selectOrUpdateRow(event, props, gridState, newCoord);\n      scrolling_1.scrollToRow(newCoord.y, gridState);\n      selection_1.endSelection(props, gridState);\n    } else if (cursorState_1.hasSelectionCellState(cursor)) {\n      var newCoord = void 0;\n\n      if (event.key === 'ArrowRight') {\n        newCoord = {\n          x: cursorCell.x + 1,\n          y: cursorCell.y\n        };\n      } else if (event.key === 'ArrowLeft') {\n        newCoord = {\n          x: cursorCell.x - 1,\n          y: cursorCell.y\n        };\n      } else if (event.key === 'ArrowUp') {\n        newCoord = {\n          x: cursorCell.x,\n          y: cursorCell.y - 1\n        };\n      } else if (event.key === 'ArrowDown') {\n        newCoord = {\n          x: cursorCell.x,\n          y: cursorCell.y + 1\n        };\n      } else {\n        return;\n      }\n\n      selection_1.startOrUpdateSelection(event, props, gridState, newCoord);\n      scrolling_1.scrollToCell(newCoord, gridState);\n      selection_1.endSelection(props, gridState);\n    }\n  }\n};","\"use strict\";\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar gridGeometry_1 = require(\"../gridGeometry\");\n\nvar ScrollbarGeometry = __importStar(require(\"../scrollbarGeometry\"));\n\nvar draggedScrollbar = null;\n\nexports.mouseDownOnScrollbar = function (coord, gridState) {\n  var hitScrollbar = ScrollbarGeometry.getHitScrollBar(coord, gridState.horizontalScrollbarPos(), gridState.verticalScrollbarPos());\n\n  if (hitScrollbar) {\n    draggedScrollbar = {\n      bar: hitScrollbar,\n      origScrollbarStart: hitScrollbar === 'x' ? gridState.horizontalScrollbarPos().extent.start : gridState.verticalScrollbarPos().extent.start,\n      origClick: hitScrollbar === 'x' ? coord.x : coord.y\n    };\n    return true;\n  } else {\n    return false;\n  }\n};\n\nexports.mouseDragOnScrollbar = function (coord, gridState) {\n  if (!draggedScrollbar) {\n    return false;\n  }\n\n  var values = draggedScrollbar.bar === 'x' ? {\n    frozenLen: gridState.frozenColsWidth(),\n    canvasLen: gridState.canvasSize().width,\n    gridLen: gridState.gridSize().width,\n    barLen: gridState.horizontalScrollbarLength(),\n    clickCoord: coord.x\n  } : {\n    frozenLen: gridState.frozenRowsHeight(),\n    canvasLen: gridState.canvasSize().height,\n    gridLen: gridState.gridSize().height,\n    barLen: gridState.verticalScrollbarLength(),\n    clickCoord: coord.y\n  };\n  var dragDistance = values.clickCoord - draggedScrollbar.origClick;\n  var desiredStart = draggedScrollbar.origScrollbarStart + dragDistance;\n  var desiredFraction = ScrollbarGeometry.calculateFractionFromStartPos(desiredStart, values.frozenLen, values.canvasLen, values.barLen);\n  var newOffset = gridGeometry_1.GridGeometry.calculateGridOffsetFromFraction(desiredFraction, values.gridLen, values.canvasLen);\n\n  if (draggedScrollbar.bar === 'x') {\n    gridState.gridOffsetRaw({\n      x: newOffset,\n      y: gridState.gridOffset().y\n    });\n  } else {\n    gridState.gridOffsetRaw({\n      x: gridState.gridOffset().x,\n      y: newOffset\n    });\n  }\n\n  return true;\n};\n\nexports.mouseHoverOnScrollbar = function (coord, gridState) {\n  var hoveredScrollbar = ScrollbarGeometry.getHitScrollBar(coord, gridState.horizontalScrollbarPos(), gridState.verticalScrollbarPos());\n  gridState.hoveredScrollbar(hoveredScrollbar);\n};\n\nexports.mouseUpOnScrollbar = function () {\n  if (draggedScrollbar) {\n    draggedScrollbar = null;\n    return true;\n  } else {\n    return false;\n  }\n};","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = __importStar(require(\"react\"));\n\nvar FrozenColsCanvas_1 = require(\"./FrozenColsCanvas\");\n\nvar FrozenCornerCanvas_1 = require(\"./FrozenCornerCanvas\");\n\nvar FrozenRowsCanvas_1 = require(\"./FrozenRowsCanvas\");\n\nvar FrozenCanvas =\n/** @class */\nfunction (_super) {\n  __extends(FrozenCanvas, _super);\n\n  function FrozenCanvas() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  FrozenCanvas.prototype.render = function () {\n    return React.createElement(React.Fragment, null, this.props.frozenRowsHeight > 0 && this.props.frozenColsWidth > 0 && React.createElement(FrozenCornerCanvas_1.FrozenCornerCanvas, __assign({}, this.props)), this.props.frozenRowsHeight > 0 && React.createElement(FrozenRowsCanvas_1.FrozenRowsCanvas, __assign({}, this.props)), this.props.frozenColsWidth > 0 && React.createElement(FrozenColsCanvas_1.FrozenColsCanvas, __assign({}, this.props)));\n  };\n\n  return FrozenCanvas;\n}(React.Component);\n\nexports.FrozenCanvas = FrozenCanvas;","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar instigator_1 = require(\"instigator\");\n\nvar React = __importStar(require(\"react\"));\n\nvar GridCanvas_1 = require(\"./GridCanvas\");\n\nvar FrozenColsCanvas =\n/** @class */\nfunction (_super) {\n  __extends(FrozenColsCanvas, _super);\n\n  function FrozenColsCanvas(props) {\n    var _this = _super.call(this, props) || this;\n\n    var colsVisibleRect = instigator_1.transformer([props.gridState.visibleRect, props.gridState.frozenRowsHeight, props.gridState.horizontalGutterBounds], function (visibleRect, frozenRowsHeight, horizontalGutterBounds) {\n      var scrollGutterHeight = horizontalGutterBounds ? horizontalGutterBounds.height : 0;\n      return __assign({}, visibleRect, {\n        left: 0,\n        right: visibleRect.width,\n        top: visibleRect.top + frozenRowsHeight,\n        bottom: visibleRect.bottom - scrollGutterHeight,\n        height: visibleRect.height - frozenRowsHeight - scrollGutterHeight\n      });\n    });\n    _this.colsPosProps = instigator_1.transformer([colsVisibleRect], function (visibleRect) {\n      return {\n        gridOffset: {\n          x: visibleRect.left,\n          y: visibleRect.top\n        },\n        visibleRect: visibleRect\n      };\n    });\n    return _this;\n  }\n\n  FrozenColsCanvas.prototype.render = function () {\n    var horizontalGutterBounds = this.props.gridState.horizontalGutterBounds();\n    var scrollGutterHeight = horizontalGutterBounds ? horizontalGutterBounds.height : 0;\n\n    var props = __assign({}, this.props, {\n      top: this.props.frozenRowsHeight,\n      left: 0,\n      height: this.props.height - this.props.frozenRowsHeight - scrollGutterHeight,\n      width: this.props.frozenColsWidth,\n      posProps: this.colsPosProps\n    });\n\n    return React.createElement(GridCanvas_1.GridCanvas, __assign({}, props));\n  };\n\n  return FrozenColsCanvas;\n}(React.Component);\n\nexports.FrozenColsCanvas = FrozenColsCanvas;","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar shallow_equals_1 = __importDefault(require(\"shallow-equals\"));\n\nvar commonCanvasRenderer_1 = require(\"./commonCanvasRenderer\");\n\nvar defaultPosProps = {\n  gridOffset: {\n    x: 0,\n    y: 0\n  },\n  visibleRect: {\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    height: 0,\n    width: 0\n  }\n};\n\nvar GridCanvasRenderer =\n/** @class */\nfunction (_super) {\n  __extends(GridCanvasRenderer, _super);\n\n  function GridCanvasRenderer(canvas, canvasSize, basicProps, dpr) {\n    var _this = _super.call(this, canvas, dpr, false) || this;\n\n    _this.posProps = defaultPosProps;\n    _this.prevDraw = null;\n\n    _this.updateProps = function (canvas, canvasSize, basicProps, posProps) {\n      if (_this.canvas !== canvas) {\n        _this.setCanvas(canvas);\n      }\n\n      if (!shallow_equals_1.default(_this.canvasSize, canvasSize) || !shallow_equals_1.default(_this.basicProps, basicProps)) {\n        _this.prevDraw = null;\n      }\n\n      _this.canvasSize = canvasSize;\n      _this.basicProps = basicProps;\n      _this.posProps = posProps;\n\n      _this.drawScaled(_this.draw);\n    };\n\n    _this.draw = function () {\n      var prevDraw = _this.prevDraw;\n      var basicProps = _this.basicProps;\n      var posProps = _this.posProps;\n\n      if (prevDraw) {\n        // Translate according to difference from previous draw\n        var xDiff = prevDraw.gridOffset.x - posProps.gridOffset.x;\n        var yDiff = prevDraw.gridOffset.y - posProps.gridOffset.y;\n\n        _this.shiftExistingCanvas(xDiff, yDiff);\n\n        _this.drawNewBorderBackground(xDiff, yDiff, _this.canvasSize.width, _this.canvasSize.height);\n      } else {\n        _this.drawWholeBorderBackground(_this.canvasSize.width, _this.canvasSize.height);\n      } // Translate the canvas context so that it's covering the visibleRect\n\n\n      _this.translateToGridOffset(posProps.gridOffset); // Draw cells\n\n\n      var colIndex = 0;\n      var minRowIndex = Math.floor(posProps.visibleRect.top / (basicProps.rowHeight + basicProps.borderWidth));\n      var maxRowIndex = Math.min(Math.ceil(posProps.visibleRect.bottom / (basicProps.rowHeight + basicProps.borderWidth)), basicProps.gridInnerSize.height / (basicProps.rowHeight + basicProps.borderWidth));\n\n      for (var _i = 0, _a = basicProps.colBoundaries; _i < _a.length; _i++) {\n        var _b = _a[_i],\n            cellLeft = _b.left,\n            cellRight = _b.right;\n\n        if (cellRight < posProps.visibleRect.left) {\n          // Cell is off screen to left, so skip this column\n          colIndex++;\n          continue;\n        }\n\n        if (cellLeft > posProps.visibleRect.right) {\n          // Cell is off screen to right, so skip this and all future columns\n          break;\n        }\n\n        var col = basicProps.columns[colIndex];\n\n        for (var rowIndex = minRowIndex; rowIndex < maxRowIndex; rowIndex++) {\n          var row = basicProps.data[rowIndex];\n          var cell = row[col.fieldName];\n          var cellBounds = {\n            left: cellLeft,\n            top: rowIndex * (basicProps.rowHeight + basicProps.borderWidth),\n            right: cellLeft + col.width,\n            bottom: rowIndex * (basicProps.rowHeight + basicProps.borderWidth) + basicProps.rowHeight,\n            width: col.width,\n            height: basicProps.rowHeight\n          };\n\n          if (prevDraw && Math.max(cellLeft, posProps.visibleRect.left) >= prevDraw.rect.left && Math.min(cellRight, posProps.visibleRect.right) <= prevDraw.rect.right && Math.max(cellBounds.top, posProps.visibleRect.top) >= prevDraw.rect.top && Math.min(cellBounds.bottom, posProps.visibleRect.bottom) <= prevDraw.rect.bottom) {\n            // Visible portion of cell is entirely contained within previously drawn region, so we can skip\n            continue;\n          }\n\n          _this.drawCell(cell, cellBounds, {\n            column: col,\n            rowIndex: rowIndex,\n            colIndex: colIndex\n          });\n        }\n\n        colIndex++;\n      } // Translate back, to bring our drawn area into the bounds of the canvas element\n\n\n      _this.translateToOrigin(posProps.gridOffset); // Remember what area is now drawn\n\n\n      _this.prevDraw = {\n        gridOffset: posProps.gridOffset,\n        rect: {\n          left: Math.max(posProps.gridOffset.x, posProps.visibleRect.left),\n          top: Math.max(posProps.gridOffset.y, posProps.visibleRect.top),\n          right: Math.min(posProps.gridOffset.x + _this.canvasSize.width, posProps.visibleRect.right),\n          bottom: Math.min(posProps.gridOffset.y + _this.canvasSize.height, posProps.visibleRect.bottom)\n        }\n      };\n    };\n\n    _this.canvasSize = canvasSize;\n    _this.basicProps = basicProps;\n    return _this;\n  }\n\n  GridCanvasRenderer.prototype.translateToGridOffset = function (gridOffset) {\n    this.context.translate(-gridOffset.x, -gridOffset.y);\n  };\n\n  GridCanvasRenderer.prototype.translateToOrigin = function (gridOffset) {\n    this.context.translate(gridOffset.x, gridOffset.y);\n  };\n  /*\n   * Fill the entire canvas with the border colour\n   */\n\n\n  GridCanvasRenderer.prototype.drawWholeBorderBackground = function (propsWidth, propsHeight) {\n    // Draw base in border colour; cells will draw over this, leaving only the borders\n    this.context.fillStyle = commonCanvasRenderer_1.borderColour;\n    this.context.fillRect(0, 0, propsWidth, propsHeight);\n  };\n  /*\n   * Copy the current image on the canvas back onto the canvas, shifted by the given delta\n   */\n\n\n  GridCanvasRenderer.prototype.shiftExistingCanvas = function (xDiff, yDiff) {\n    this.context.drawImage(this.canvas, 0, 0, this.canvas.width * this.dpr, this.canvas.height * this.dpr, xDiff, yDiff, this.canvas.width, this.canvas.height);\n  };\n  /*\n   * Fill with the border colour along any areas of the canvas that are 'new', i.e. need repainting\n   * because they represent areas of the grid that have just become visible after a scroll\n   */\n\n\n  GridCanvasRenderer.prototype.drawNewBorderBackground = function (xDiff, yDiff, propsWidth, propsHeight) {\n    // Draw base in border colour in new areas; cells will draw over this, leaving only the borders\n    // (Note, we might fill a corner twice if scrolling diagnally, but the perf cost seems minimal)\n    this.context.fillStyle = commonCanvasRenderer_1.borderColour;\n\n    if (yDiff < 0) {\n      // Moved down - draw bottom\n      var top_1 = propsHeight + yDiff;\n      var height = -yDiff;\n      this.context.fillRect(0, top_1, propsWidth, height);\n    } else if (yDiff > 0) {\n      // Moved up - draw top\n      var top_2 = 0;\n      var height = yDiff;\n      this.context.fillRect(0, top_2, propsWidth, height);\n    }\n\n    if (xDiff < 0) {\n      // Moved right - draw right\n      var left = propsWidth + xDiff;\n      var width = -xDiff;\n      this.context.fillRect(left, 0, width, propsHeight);\n    } else if (xDiff > 0) {\n      // Moved left - draw left\n      var left = 0;\n      var width = xDiff;\n      this.context.fillRect(left, 0, width, propsHeight);\n    }\n  };\n\n  return GridCanvasRenderer;\n}(commonCanvasRenderer_1.CommonCanvasRenderer);\n\nexports.GridCanvasRenderer = GridCanvasRenderer;","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar instigator_1 = require(\"instigator\");\n\nvar React = __importStar(require(\"react\"));\n\nvar GridCanvas_1 = require(\"./GridCanvas\");\n\nvar FrozenCornerCanvas =\n/** @class */\nfunction (_super) {\n  __extends(FrozenCornerCanvas, _super);\n\n  function FrozenCornerCanvas(props) {\n    var _this = _super.call(this, props) || this;\n\n    var cornerVisibleRect = instigator_1.transformer([props.gridState.visibleRect], function (visibleRect) {\n      return __assign({}, visibleRect, {\n        top: 0,\n        left: 0,\n        right: visibleRect.width,\n        bottom: visibleRect.height\n      });\n    });\n    _this.cornerPosProps = instigator_1.transformer([cornerVisibleRect], function (visibleRect) {\n      return {\n        gridOffset: {\n          x: visibleRect.left,\n          y: visibleRect.top\n        },\n        visibleRect: visibleRect\n      };\n    });\n    return _this;\n  }\n\n  FrozenCornerCanvas.prototype.render = function () {\n    var props = __assign({}, this.props, {\n      top: 0,\n      left: 0,\n      height: this.props.frozenRowsHeight,\n      width: this.props.frozenColsWidth,\n      posProps: this.cornerPosProps\n    });\n\n    return React.createElement(GridCanvas_1.GridCanvas, __assign({}, props));\n  };\n\n  return FrozenCornerCanvas;\n}(React.Component);\n\nexports.FrozenCornerCanvas = FrozenCornerCanvas;","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar instigator_1 = require(\"instigator\");\n\nvar React = __importStar(require(\"react\"));\n\nvar GridCanvas_1 = require(\"./GridCanvas\");\n\nvar FrozenRowsCanvas =\n/** @class */\nfunction (_super) {\n  __extends(FrozenRowsCanvas, _super);\n\n  function FrozenRowsCanvas(props) {\n    var _this = _super.call(this, props) || this;\n\n    var rowsVisibleRect = instigator_1.transformer([props.gridState.visibleRect, props.gridState.frozenColsWidth, props.gridState.verticalGutterBounds], function (visibleRect, frozenColsWidth, verticalGutterBounds) {\n      var scrollGutterWidth = verticalGutterBounds ? verticalGutterBounds.width : 0;\n      return __assign({}, visibleRect, {\n        top: 0,\n        bottom: visibleRect.height,\n        left: visibleRect.left + frozenColsWidth,\n        right: visibleRect.right - scrollGutterWidth,\n        width: visibleRect.width - frozenColsWidth - scrollGutterWidth\n      });\n    });\n    _this.rowsPosProps = instigator_1.transformer([rowsVisibleRect], function (visibleRect) {\n      return {\n        gridOffset: {\n          x: visibleRect.left,\n          y: visibleRect.top\n        },\n        visibleRect: visibleRect\n      };\n    });\n    return _this;\n  }\n\n  FrozenRowsCanvas.prototype.render = function () {\n    var verticalGutterBounds = this.props.gridState.verticalGutterBounds();\n    var scrollGutterWidth = verticalGutterBounds ? verticalGutterBounds.width : 0;\n\n    var props = __assign({}, this.props, {\n      top: 0,\n      left: this.props.frozenColsWidth,\n      height: this.props.frozenRowsHeight,\n      width: this.props.width - this.props.frozenColsWidth - scrollGutterWidth,\n      posProps: this.rowsPosProps\n    });\n\n    return React.createElement(GridCanvas_1.GridCanvas, __assign({}, props));\n  };\n\n  return FrozenRowsCanvas;\n}(React.Component);\n\nexports.FrozenRowsCanvas = FrozenRowsCanvas;","\"use strict\";\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar instigator_1 = require(\"instigator\");\n\nvar cursorState = __importStar(require(\"./cursorState\"));\n\nvar gridGeometry_1 = require(\"./gridGeometry\");\n\nvar ScrollbarGeometry = __importStar(require(\"./scrollbarGeometry\"));\n\nvar GridState =\n/** @class */\nfunction () {\n  function GridState(columns, data, rowHeight, borderWidth, frozenRows, frozenCols) {\n    this.columns = instigator_1.activeSource(columns);\n    this.data = instigator_1.activeSource(data);\n    this.rowHeight = instigator_1.activeSource(rowHeight);\n    this.borderWidth = instigator_1.activeSource(borderWidth);\n    this.frozenRows = instigator_1.activeSource(frozenRows);\n    this.frozenCols = instigator_1.activeSource(frozenCols);\n    this.dpr = instigator_1.activeSource(window.devicePixelRatio);\n    this.rootSize = instigator_1.activeSource(null);\n    this.gridOffsetRaw = instigator_1.activeSource({\n      x: 0,\n      y: 0\n    });\n    this.cursorState = instigator_1.activeSource(cursorState.createDefault());\n    this.hoveredScrollbar = instigator_1.activeSource(null);\n    this.gridOffset = instigator_1.transformer([this.gridOffsetRaw, this.dpr], gridGeometry_1.GridGeometry.quantiseGridOffset);\n    this.columnBoundaries = instigator_1.transformer([this.columns, this.borderWidth], gridGeometry_1.GridGeometry.calculateColumnBoundaries);\n    this.gridInnerSize = instigator_1.transformer([this.data, this.columnBoundaries, this.rowHeight, this.borderWidth], gridGeometry_1.GridGeometry.calculateGridSize);\n    this.gridSize = instigator_1.transformer([this.gridInnerSize, this.rootSize], gridGeometry_1.GridGeometry.calculateGridPlusGutterSize);\n    this.canvasSize = instigator_1.transformer([this.gridSize, this.rootSize], gridGeometry_1.GridGeometry.calculateCanvasSize);\n    this.visibleRect = instigator_1.transformer([this.gridOffset, this.canvasSize], gridGeometry_1.GridGeometry.calculateVisibleRect);\n    this.frozenColsWidth = instigator_1.transformer([this.columnBoundaries, this.frozenCols, this.borderWidth], gridGeometry_1.GridGeometry.calculateFrozenColsWidth);\n    this.frozenRowsHeight = instigator_1.transformer([this.rowHeight, this.borderWidth, this.frozenRows], gridGeometry_1.GridGeometry.calculateFrozenRowsHeight);\n    this.horizontalScrollbarLength = instigator_1.transformer([this.canvasSize, this.gridSize, this.frozenColsWidth], ScrollbarGeometry.getHorizontalScrollbarLength);\n    this.verticalScrollbarLength = instigator_1.transformer([this.canvasSize, this.gridSize, this.frozenRowsHeight], ScrollbarGeometry.getVerticalScrollbarLength);\n    this.horizontalScrollbarExtent = instigator_1.transformer([this.gridOffset, this.canvasSize, this.gridSize, this.horizontalScrollbarLength, this.frozenColsWidth], ScrollbarGeometry.getHorizontalScrollbarExtent);\n    this.verticalScrollbarExtent = instigator_1.transformer([this.gridOffset, this.canvasSize, this.gridSize, this.verticalScrollbarLength, this.frozenRowsHeight], ScrollbarGeometry.getVerticalScrollbarExtent);\n    this.horizontalScrollbarPos = instigator_1.transformer([this.horizontalScrollbarExtent, this.canvasSize, this.gridSize], ScrollbarGeometry.getHorizontalScrollbarPos);\n    this.verticalScrollbarPos = instigator_1.transformer([this.verticalScrollbarExtent, this.canvasSize, this.gridSize], ScrollbarGeometry.getVerticalScrollbarPos);\n    this.horizontalGutterBounds = instigator_1.transformer([this.canvasSize, this.gridInnerSize], ScrollbarGeometry.getHorizontalGutterBounds);\n    this.verticalGutterBounds = instigator_1.transformer([this.canvasSize, this.gridInnerSize], ScrollbarGeometry.getVerticalGutterBounds);\n  }\n\n  return GridState;\n}();\n\nexports.GridState = GridState;","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar instigator_1 = require(\"instigator\");\n\nvar React = __importStar(require(\"react\"));\n\nvar highlightCanvasRenderer_1 = require(\"./highlightCanvasRenderer\");\n\nvar HighlightCanvas =\n/** @class */\nfunction (_super) {\n  __extends(HighlightCanvas, _super);\n\n  function HighlightCanvas(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.canvasRef = React.createRef();\n    _this.renderer = null;\n    _this.renderCallback = null;\n    return _this;\n  }\n\n  HighlightCanvas.prototype.render = function () {\n    return React.createElement(\"canvas\", {\n      ref: this.canvasRef,\n      width: this.props.width * this.props.gridState.dpr(),\n      height: this.props.height * this.props.gridState.dpr(),\n      style: {\n        position: 'absolute',\n        width: this.props.width + \"px\",\n        height: this.props.height + \"px\",\n        top: 0,\n        left: 0\n      }\n    });\n  };\n\n  HighlightCanvas.prototype.componentDidMount = function () {\n    var _this = this;\n\n    if (!this.canvasRef.current) {\n      throw new Error('canvasRef is null in componentDidMount - cannot create renderer');\n    }\n\n    var gridState = this.props.gridState;\n    var basicProps = instigator_1.transformer([gridState.data, gridState.columns, gridState.canvasSize, gridState.gridSize, gridState.gridInnerSize, gridState.frozenColsWidth, gridState.frozenRowsHeight, gridState.rowHeight, gridState.columnBoundaries, gridState.borderWidth, gridState.horizontalGutterBounds, gridState.verticalGutterBounds], function (data, columns, canvasSize, gridSize, gridInnerSize, frozenColsWidth, frozenRowsHeight, rowHeight, columnBoundaries, borderWidth, horizontalGutterBounds, verticalGutterBounds) {\n      return {\n        data: data,\n        columns: columns,\n        canvasSize: canvasSize,\n        gridSize: gridSize,\n        gridInnerSize: gridInnerSize,\n        frozenColsWidth: frozenColsWidth,\n        frozenRowsHeight: frozenRowsHeight,\n        rowHeight: rowHeight,\n        columnBoundaries: columnBoundaries,\n        borderWidth: borderWidth,\n        horizontalGutterBounds: horizontalGutterBounds,\n        verticalGutterBounds: verticalGutterBounds\n      };\n    });\n    var scrollProps = instigator_1.transformer([gridState.horizontalScrollbarPos, gridState.verticalScrollbarPos, gridState.hoveredScrollbar], function (horizontalScrollbarPos, verticalScrollbarPos, hoveredScrollbar) {\n      return {\n        horizontalScrollbarPos: horizontalScrollbarPos,\n        verticalScrollbarPos: verticalScrollbarPos,\n        hoveredScrollbar: hoveredScrollbar\n      };\n    });\n    var posProps = instigator_1.transformer([gridState.gridOffset, gridState.visibleRect], function (gridOffset, visibleRect) {\n      return {\n        gridOffset: gridOffset,\n        visibleRect: visibleRect\n      };\n    });\n    var selectionProps = instigator_1.transformer([gridState.cursorState], function (cursorState) {\n      return {\n        cursorState: cursorState\n      };\n    });\n    this.renderer = new highlightCanvasRenderer_1.HighlightCanvasRenderer(this.canvasRef.current, basicProps(), gridState.dpr());\n    this.renderCallback = instigator_1.consumer([basicProps, posProps, scrollProps, selectionProps], function (newBasicProps, newPosProps, newScrollProps, newSelectionProps) {\n      if (_this.renderer) {\n        if (!_this.canvasRef.current) {\n          throw new Error('canvasRef is null in componentDidMount - cannot create renderer');\n        }\n\n        _this.renderer.updateProps(_this.canvasRef.current, newBasicProps, newPosProps, newScrollProps, newSelectionProps);\n      }\n    });\n  };\n\n  HighlightCanvas.prototype.componentWillUnmount = function () {\n    if (this.renderCallback) {\n      this.renderCallback.deregister();\n    }\n  };\n\n  return HighlightCanvas;\n}(React.Component);\n\nexports.HighlightCanvas = HighlightCanvas;","\"use strict\";\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = __importStar(require(\"react\"));\n\nexports.InlineTextEditor = function (props) {\n  var defaultText = props.cell.editor.serialise(props.cell.data);\n\n  var submit = function submit(e) {\n    var inputValue = e.currentTarget.value;\n    var newData = props.cell.editor.deserialise(inputValue, props.cell.data);\n    props.onSubmit(newData);\n  };\n\n  var handleKeyPress = function handleKeyPress(e) {\n    if (e.key === 'Enter') {\n      submit(e);\n    }\n  };\n\n  var handleKeyUp = function handleKeyUp(e) {\n    if (e.keyCode === 27) {\n      props.onCancel();\n    }\n  };\n\n  return React.createElement(\"input\", {\n    type: \"text\",\n    style: {\n      position: 'absolute',\n      boxSizing: 'border-box',\n      top: props.top - props.gridOffset.y + \"px\",\n      left: props.left - props.gridOffset.x + \"px\",\n      width: props.width + \"px\",\n      height: props.height + \"px\",\n      border: '0'\n    },\n    autoFocus: true,\n    defaultValue: defaultText,\n    onBlur: submit,\n    onKeyPress: handleKeyPress,\n    onKeyUp: handleKeyUp\n  });\n};","\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar instigator_1 = require(\"instigator\");\n\nvar React = __importStar(require(\"react\"));\n\nvar GridCanvas_1 = require(\"./GridCanvas\");\n\nvar MainCanvas =\n/** @class */\nfunction (_super) {\n  __extends(MainCanvas, _super);\n\n  function MainCanvas(props) {\n    var _this = _super.call(this, props) || this;\n\n    var mainVisibleRect = instigator_1.transformer([props.gridState.visibleRect, props.gridState.frozenRowsHeight, props.gridState.frozenColsWidth], function (visibleRect, frozenRowsHeight, frozenColsWidth) {\n      return __assign({}, visibleRect, {\n        top: visibleRect.top + frozenRowsHeight,\n        left: visibleRect.left + frozenColsWidth,\n        height: visibleRect.height - frozenRowsHeight,\n        width: visibleRect.width - frozenColsWidth\n      });\n    });\n    _this.posProps = instigator_1.transformer([mainVisibleRect], function (visibleRect) {\n      return {\n        gridOffset: {\n          x: visibleRect.left,\n          y: visibleRect.top\n        },\n        visibleRect: visibleRect\n      };\n    });\n    return _this;\n  }\n\n  MainCanvas.prototype.render = function () {\n    var props = __assign({}, this.props, {\n      top: this.props.frozenRowsHeight,\n      left: this.props.frozenColsWidth,\n      height: this.props.height - this.props.frozenRowsHeight,\n      width: this.props.width - this.props.frozenColsWidth,\n      posProps: this.posProps\n    });\n\n    return React.createElement(GridCanvas_1.GridCanvas, __assign({}, props));\n  };\n\n  return MainCanvas;\n}(React.Component);\n\nexports.MainCanvas = MainCanvas;","import * as React from 'react';\nimport './FixedSizeHolder.css';\n\nexport const FixedSizeHolder = (props: {children?: React.ReactNode}) => {\n    return (\n        <div className=\"fixed-size-holder\">\n            {props.children}\n        </div>\n    );\n};\n","import * as React from 'react';\nimport './PaddedPage.css';\n\nconst PaddedPage = (props: { children?: React.ReactNode }) => {\n    return (\n        <div className=\"padded-page\">\n            {props.children}\n        </div>\n    );\n};\n\nexport default PaddedPage;\n","import { CellDef, ColumnDef, DataRow } from '../../../src/types';\n\nexport function createFakeDataAndColumns<T>(\n    numRows: number,\n    numCols: number,\n    dataGen: (x: number, y: number) => T,\n    options: Partial<CellDef<T>> = {},\n) {\n    return {\n        columns: createFakeColumns(numCols),\n        rows: createFakeData(numRows, numCols, dataGen, options),\n    };\n}\n\nexport function createFakeColumns(numCols: number) {\n    const cols: ColumnDef[] = [];\n    for (let i = 0; i < numCols; i++) {\n        cols.push({\n            fieldName: `col-${i}`,\n            width: 50,\n        });\n    }\n    return cols;\n}\n\nexport function createFakeData<T>(\n    numRows: number,\n    numCols: number,\n    dataGen: (x: number, y: number) => T,\n    options: Partial<CellDef<T>> = {},\n) {\n    const rows: Array<DataRow<T>> = [];\n    for (let i = 0; i < numRows; i++) {\n        const row: DataRow<T> = {};\n        for (let j = 0; j < numCols; j++) {\n            row[`col-${j}`] = {\n                getText: () => `${i + 1}x${j + 1}`,\n                data: dataGen(j, i),\n                ...options,\n            };\n        }\n        rows.push(row);\n    }\n    return rows;\n}\n","import * as React from 'react';\nimport { ReactCanvasGrid } from 'react-canvas-grid';\nimport { FixedSizeHolder } from '../components/FixedSizeHolder';\nimport PaddedPage from '../components/PaddedPage';\nimport { createFakeDataAndColumns } from '../data/dataAndColumns';\n\nconst renderBackgroundLightGreen = (context: CanvasRenderingContext2D, cellBounds: ClientRect) => {\n    context.fillStyle = 'lightgreen';\n    context.fillRect(cellBounds.left, cellBounds.top, cellBounds.width, cellBounds.height);\n};\n\nexport const CustomBackgroundGrid = () => {\n    const options = { renderBackground: renderBackgroundLightGreen };\n    const { columns, rows: data } = createFakeDataAndColumns(100, 20, () => {/* no op */}, options);\n\n    return (\n        <PaddedPage>\n            <h1>Custom Background Renderer</h1>\n            <p>\n                When specifying a cell definition, you can provide a <code>renderBackground</code> function\n                to customise drawing the cell's background.\n            </p>\n            <p>\n                Here, all cells use the same background renderer in order to draw the background as\n                light green.\n            </p>\n            <FixedSizeHolder>\n                <ReactCanvasGrid<void>\n                    columns={columns}\n                    data={data}\n                    rowHeight={20}\n                />\n            </FixedSizeHolder>\n        </PaddedPage>\n    );\n};\n","import * as React from 'react';\nimport { CellDef, cellHasTextFunction, ReactCanvasGrid } from 'react-canvas-grid';\nimport { FixedSizeHolder } from '../components/FixedSizeHolder';\nimport PaddedPage from '../components/PaddedPage';\nimport { createFakeDataAndColumns } from '../data/dataAndColumns';\n\nconst renderTextRed = (context: CanvasRenderingContext2D, cellBounds: ClientRect, cell: CellDef<void>) => {\n    context.fillStyle = 'red';\n    const text = cellHasTextFunction(cell) ? cell.getText(cell.data) : cell.text;\n    context.fillText(text, cellBounds.left + 2, cellBounds.top + 15, cellBounds.width - 4);\n};\n\nexport const CustomTextGrid = () => {\n    const options = { renderText: renderTextRed };\n    const { columns, rows: data } = createFakeDataAndColumns(100, 20, () => {/* no op */}, options);\n\n    return (\n        <PaddedPage>\n            <h1>Custom Text Renderer</h1>\n            <p>\n                When specifying a cell definition, you can provide a <code>renderText</code> function\n                to customise drawing the cell's text.\n            </p>\n            <p>\n                Here, all cells use the same text renderer in order to draw the text as red.\n            </p>\n            <FixedSizeHolder>\n                <ReactCanvasGrid<void>\n                    columns={columns}\n                    data={data}\n                    rowHeight={20}\n                />\n            </FixedSizeHolder>\n        </PaddedPage>\n    );\n};\n","import * as React from 'react';\nimport './ControlsForm.css';\n\nexport const ControlsForm = (props: { children?: React.ReactNode }) => {\n    return (\n        <form className=\"controls\">\n            {props.children}\n        </form>\n    );\n};\n\nexport const InlineGroup = (props: { children?: React.ReactNode }) => {\n    return (\n        <span className=\"inline-controls-group\">\n            {props.children}\n        </span>\n    );\n};\n\nexport const NumberInput = (props: Partial<React.InputHTMLAttributes<HTMLInputElement>>) =>\n    <input type=\"number\" {...props} />;\n","import * as React from 'react';\nimport { ColumnDef, DataRow, ReactCanvasGrid } from 'react-canvas-grid';\nimport { ControlsForm, InlineGroup, NumberInput } from '../components/ControlsForm';\nimport { FixedSizeHolder } from '../components/FixedSizeHolder';\nimport PaddedPage from '../components/PaddedPage';\nimport { createFakeDataAndColumns } from '../data/dataAndColumns';\n\ninterface DynamicDataGridState {\n    columns: ColumnDef[];\n    data: Array<DataRow<void>>;\n    numCols: number;\n    numRows: number;\n}\n\nexport class DynamicDataGrid extends React.Component<{}, DynamicDataGridState> {\n    private changeColsDebounceTimeout: number | null = null;\n    private changeRowsDebounceTimeout: number | null = null;\n\n    constructor(props: {}) {\n        super(props);\n\n        this.state = getDefaultState();\n    }\n\n    public render() {\n        return (\n            <PaddedPage>\n                <h1>Dynamic Data</h1>\n                <p>\n                    Updates to the <code>columns</code> and <code>data</code> props cause the grid to\n                    re-render with new values.\n                </p>\n                <p>\n                    The selected cells are cleared if <code>columns</code> changes or the number of rows\n                    (in <code>data</code>) changes. The selection is not cleared, however, if <code>columns</code>\n                    &#160;stays the same and <code>data</code> is replaced with an array of the same length (even if the\n                    contents within the array is different). I.e. if the <em>structure</em> of the grid has changed\n                    then the selection is cleared, but if only the <em>contents</em> change then the selection is\n                    retained.\n                </p>\n                <p>\n                    The scroll position is maintained as long as it is valid in the newly rendered grid. If not\n                    (because there are fewer columns or rows) the scroll position is truncated.\n                </p>\n\n                <ControlsForm>\n                    <div>\n                        <InlineGroup>\n                            <label>Number of rows: </label>\n                            <NumberInput\n                                id=\"num-rows\"\n                                onChange={this.changeNumRows}\n                                defaultValue={this.state.numRows as any}\n                            />\n                        </InlineGroup>\n                        <InlineGroup>\n                            <label>Number of columns: </label>\n                            <NumberInput\n                                id=\"num-cols\"\n                                onChange={this.changeNumCols}\n                                defaultValue={this.state.numCols as any}\n                            />\n                        </InlineGroup>\n                    </div>\n                    <div>\n                        <InlineGroup>\n                            <button id=\"first-col-to-end\" onClick={this.moveFirstColumnToEnd}>\n                                Move first column to end\n                            </button>\n                        </InlineGroup>\n                        <InlineGroup>\n                            <button id=\"modify-top-left\" onClick={this.modifyTopLeftCell}>\n                                Modify top left cell\n                            </button>\n                        </InlineGroup>\n                        <InlineGroup>\n                            <button id=\"reset\" onClick={this.reset}>Reset</button>\n                        </InlineGroup>\n                    </div>\n                </ControlsForm>\n\n                <FixedSizeHolder>\n                    <ReactCanvasGrid<void>\n                        columns={this.state.columns}\n                        data={this.state.data}\n                        rowHeight={20}\n                    />\n                </FixedSizeHolder>\n            </PaddedPage>\n        );\n    }\n\n    private changeNumRows = (event: React.ChangeEvent<HTMLInputElement>) => {\n        if (this.changeRowsDebounceTimeout) {\n            clearTimeout(this.changeRowsDebounceTimeout);\n        }\n        const numRows = event.target.valueAsNumber;\n        this.changeRowsDebounceTimeout = setTimeout(this.changeNumRowsDebounced, 80, numRows);\n    }\n\n    private changeNumRowsDebounced = (numRows: number) => {\n        this.changeRowsDebounceTimeout = null;\n        const { columns, rows: data } = createFakeDataAndColumns(numRows, this.state.numCols, () => {/* no op */});\n\n        this.setState({ columns, data, numRows });\n    }\n\n    private changeNumCols = (event: React.ChangeEvent<HTMLInputElement>) => {\n        if (this.changeColsDebounceTimeout) {\n            clearTimeout(this.changeColsDebounceTimeout);\n        }\n        const numCols = event.target.valueAsNumber;\n        this.changeColsDebounceTimeout = setTimeout(this.changeNumColsDebounced, 80, numCols);\n    }\n\n    private changeNumColsDebounced = (numCols: number) => {\n        this.changeColsDebounceTimeout = null;\n        const { columns, rows: data } = createFakeDataAndColumns(this.state.numRows, numCols, () => {/* no op */});\n\n        this.setState({ columns, data, numCols });\n    }\n\n    private moveFirstColumnToEnd = (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) =>  {\n        this.setState({\n            columns: [...this.state.columns.slice(1), this.state.columns[0]],\n        });\n        event.preventDefault();\n    }\n\n    private modifyTopLeftCell = (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) =>  {\n        const firstColName = this.state.columns[0].fieldName;\n        this.setState({\n            data: [\n                {\n                    ...this.state.data[0],\n                    [firstColName]: {\n                        ...this.state.data[0][firstColName],\n                        getText: () => 'Modified',\n                    },\n                },\n                ...this.state.data.slice(1),\n            ],\n        });\n        event.preventDefault();\n    }\n\n    private reset = (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n        this.setState(getDefaultState());\n        event.preventDefault();\n    }\n}\n\nconst getDefaultState = () => {\n    const { columns, rows: data } = createFakeDataAndColumns(20, 100, () => {/* no op */});\n\n    return {\n        columns,\n        data,\n        numCols: 100,\n        numRows: 20,\n    };\n};\n","import * as React from 'react';\nimport { CellDataChangeEvent, CellDef, DataRow, ReactCanvasGrid } from 'react-canvas-grid';\nimport { FixedSizeHolder } from '../components/FixedSizeHolder';\nimport PaddedPage from '../components/PaddedPage';\nimport { createFakeColumns, createFakeData } from '../data/dataAndColumns';\n\ntype NumPair = [number, number];\n\ninterface EditableDataGridState {\n    data: Array<DataRow<NumPair>>;\n}\n\nexport class EditableDataGrid extends React.Component<{}, EditableDataGridState> {\n    constructor(props: {}) {\n        super(props);\n\n        const options: Partial<CellDef<NumPair>> = {\n            editor: {\n                serialise: ([a, b]: NumPair) => `${a},${b}`,\n                deserialise: (text: string, prev: NumPair) => {\n                    const match = text.match(/(\\d+),(\\d+)/);\n                    if (match) {\n                        return [parseInt(match[1], 10), parseInt(match[2], 10)];\n                    } else {\n                        return prev;\n                    }\n                },\n            },\n            getText: ([a, b]: NumPair) => `${a}x${b}`,\n        };\n\n        this.state = {\n            data: createFakeData(100, 200, (x, y) => [x, y] as NumPair, options),\n        };\n    }\n\n    public render() {\n        const columns = createFakeColumns(20);\n\n        return (\n            <PaddedPage>\n                <h1>Editable Data</h1>\n                <p>\n                    A cell is editable if its definition includes an <code>editor</code> property.\n                    If the grid also has a <code>onCellDataChanged</code> prop, that can persist\n                    changes made to data to be shown on the grid.\n                </p>\n                <p>\n                    The <code>editor</code> provides two functions, <code>serialise</code> and\n                    &#160;<code>deserialise</code>, that translate between the <code>data</code> stored\n                    on the cell definition and the text displayed in the editor <code>input</code>.\n                </p>\n                <p>\n                    Displaying the inline editor is not enough, however, as react-canvas-grid does not\n                    manage the data; instead, when data changes, it will call the function provided as\n                    the <code>onCellDataChanged</code> prop. This function can then update the contents\n                    of the <code>data</code> prop, causing the grid to render the changes.\n                </p>\n                <p>\n                    Note that the text displayed in the editor need not be the same as the text\n                    displayed in the cell itself (as defined by <code>text</code> or <code>getText</code>).\n                    In this example, the editor text is of the form <code>A,B</code> (i.e. comma separated),\n                    but cells are displayed as <code>AxB</code> (i.e. with an x).\n                </p>\n                <p>\n                    To edit a cell, double click it. Invalid values will be ignored.\n                </p>\n                <FixedSizeHolder>\n                    <ReactCanvasGrid<NumPair>\n                        columns={columns}\n                        data={this.state.data}\n                        rowHeight={20}\n                        onCellDataChanged={this.onCellDataChanged}\n                    />\n                </FixedSizeHolder>\n            </PaddedPage>\n        );\n    }\n\n    private onCellDataChanged = (event: CellDataChangeEvent<NumPair>) => {\n        this.setState({\n            data: this.state.data.map((row, i) => {\n                if (i === event.rowIndex) {\n                    return {\n                        ...row,\n                        [event.fieldName]: {\n                            ...row[event.fieldName],\n                            data: event.newData,\n                        },\n                    };\n                } else {\n                    return row;\n                }\n            }),\n        });\n    }\n}\n","import * as React from 'react';\nimport './EventLog.css';\n\ninterface EventLogProps {\n    log: string;\n}\n\nexport class EventLog extends React.PureComponent<EventLogProps> {\n    private logRef: React.RefObject<HTMLTextAreaElement>;\n\n    constructor(props: EventLogProps) {\n        super(props);\n        this.logRef = React.createRef();\n    }\n\n    public render() {\n        return (<textarea ref={this.logRef} className=\"event-log\" value={this.props.log} readOnly />);\n    }\n\n    public componentDidUpdate() {\n        if (this.logRef.current) {\n            this.logRef.current.scrollTop = this.logRef.current.scrollHeight;\n        }\n    }\n}\n","import * as React from 'react';\nimport { CellDataChangeEvent, CellDef, ReactCanvasGrid } from 'react-canvas-grid';\nimport { Link } from 'react-router-dom';\nimport { EventLog } from '../components/EventLog';\nimport { FixedSizeHolder } from '../components/FixedSizeHolder';\nimport PaddedPage from '../components/PaddedPage';\nimport { createFakeDataAndColumns } from '../data/dataAndColumns';\n\ninterface EditEventsState {\n    eventLog: string;\n}\n\nconst options: Partial<CellDef<string>> = {\n    editor: {\n        serialise: (value: string) => value,\n        deserialise: (text: string, _: string) => text,\n    },\n    getText: (value: string) => value,\n};\nconst { columns, rows: data } = createFakeDataAndColumns(100, 20, (x, y) => `${x},${y}`, options);\n\nexport class EditEventsGrid extends React.Component<{}, EditEventsState> {\n    constructor(props: {}) {\n        super(props);\n        this.state = {\n            eventLog: '',\n        };\n    }\n\n    public render() {\n        return (\n            <PaddedPage>\n                <h1>Edit Events</h1>\n                <p>\n                    The callback <code>onCellDataChanged</code> allow consumers of react-canvas-grid to\n                    respond to the user making changes to the data. Typically, this is used to update the\n                    data passed to the grid in the <code>data</code> prop. Without doing so, the grid's\n                    data will not be changed. See the <Link to=\"/editable\">Editable Data</Link> example\n                    for further detail. This example does not update the data, but merely logs event.\n                </p>\n                <p>\n                    Note that the callback is fired when the user hits enter on the inline editor, or when\n                    the inline editor loses focus, regardless of whether the data has been changed. The\n                    inline editor can be dismissed with the escape key, regardless of whether the data has\n                    been changed.\n                </p>\n                <FixedSizeHolder>\n                    <ReactCanvasGrid<string>\n                        columns={columns}\n                        data={data}\n                        rowHeight={20}\n                        onCellDataChanged={this.onCellDataChanged}\n                    />\n                </FixedSizeHolder>\n                <EventLog log={this.state.eventLog} />\n            </PaddedPage>\n        );\n    }\n\n    private onCellDataChanged = (event: CellDataChangeEvent<string>) => {\n        const { colIndex, rowIndex, fieldName, newData } = event;\n\n        this.setState({\n            eventLog: this.state.eventLog +\n                `changed: row ${rowIndex} of column \"${fieldName}\" (index ${colIndex}) to ${newData}\\n`,\n        });\n    }\n}\n","import React, { Component } from 'react';\nimport {\n  CellDataChangeEvent, CellDef, ColumnDef, DataRow, getCellText, ReactCanvasGrid, SelectRange,\n} from 'react-canvas-grid';\nimport './Everything.css';\n\nconst numColsLarge = 250;\nconst numColsSmall = 3;\nconst numRows = 250;\n\nconst labels = [\n  {text: 'Lorem', colour: 'red'},\n  {text: 'Ipsum', colour: 'orange'},\n  {text: 'Dolor', colour: 'lightblue'},\n  {text: 'Sit', colour: 'lightgreen'},\n  {text: 'Amet', colour: 'lightpink'},\n];\n\ntype HighlightPosition = 'topleft' | 'bottomright' | 'full' | 'none';\nconst highlights: HighlightPosition[] = [\n  'topleft',\n  'bottomright',\n  'full',\n  'none', 'none', 'none', 'none', 'none', 'none', // Hacky way to make 'none' more likely\n];\n\nconst renderHeaderBackground = (context: CanvasRenderingContext2D, cellBounds: ClientRect) => {\n  context.fillStyle = '#eee';\n  context.fillRect(cellBounds.left, cellBounds.top, cellBounds.width, cellBounds.height);\n};\n\nconst renderCellBackground = (\n  context: CanvasRenderingContext2D,\n  cellBounds: ClientRect,\n  cell: CustomBgCellDef,\n) => {\n  if (cell.data.highlight !== 'full') {\n    context.fillStyle = cell.data.bgColour;\n    context.fillRect(cellBounds.left, cellBounds.top, cellBounds.width, cellBounds.height);\n  }\n\n  if (cell.data.highlight !== 'none') {\n    context.fillStyle = 'yellow';\n    if (cell.data.highlight === 'full') {\n      context.fillRect(cellBounds.left, cellBounds.top, cellBounds.width, cellBounds.height);\n    } else if (cell.data.highlight === 'topleft') {\n      context.beginPath();\n      context.moveTo(cellBounds.left, cellBounds.top);\n      context.lineTo(cellBounds.left, cellBounds.bottom);\n      context.lineTo(cellBounds.right, cellBounds.top);\n      context.closePath();\n      context.fill();\n    } else if (cell.data.highlight === 'bottomright') {\n      context.beginPath();\n      context.moveTo(cellBounds.left, cellBounds.bottom);\n      context.lineTo(cellBounds.right, cellBounds.bottom);\n      context.lineTo(cellBounds.right, cellBounds.top);\n      context.closePath();\n      context.fill();\n    }\n  }\n};\n\ninterface CustomCellData {\n  bgColour: string;\n  text: string;\n  shouldReverseText: boolean;\n  highlight: HighlightPosition;\n}\n\ntype CustomBgCellDef = CellDef<CustomCellData>;\n\ntype AllCellDataTypes = CustomCellData | null;\n\nfunction getCustomCellText(data: CustomCellData) {\n  if (data.shouldReverseText) {\n    return data.text.split('').reverse().join('');\n  } else {\n    return data.text;\n  }\n}\n\nfunction serailiseCustomData(data: CustomCellData): string {\n  return (data.shouldReverseText ? '!' : '') + data.text;\n}\n\nfunction deserialiseCustomData(value: string, oldData: CustomCellData): CustomCellData {\n  const reversed = value.startsWith('!');\n  const text = reversed ? value.slice(1) : value;\n  return {\n    ...oldData,\n    shouldReverseText: reversed,\n    text,\n  };\n}\n\nfunction createCols(numCols: number) {\n  const colDefs: ColumnDef[] = [\n    {\n      fieldName: 'date',\n      width: 80,\n    },\n  ];\n  for (let i = 0; i < numCols; i++) {\n    colDefs.push({\n      fieldName: i.toString(),\n      width: 100,\n    });\n  }\n  return colDefs;\n}\n\nfunction createData(numCols: number) {\n  const data: Array<DataRow<AllCellDataTypes>> = [];\n\n  for (let i = 0; i < numRows; i++) {\n    const row: DataRow<AllCellDataTypes> = {\n      date: {\n        text: (i + 1).toString(),\n        data: null,\n        renderBackground: renderHeaderBackground,\n      },\n    };\n    for (let j = 0; j < numCols; j++) {\n      const label = labels[Math.floor(Math.random() * labels.length)];\n      const highlight = highlights[Math.floor(Math.random() * highlights.length)];\n      if (i === 0) {\n        const cell: CustomBgCellDef = {\n          getText: getCustomCellText,\n          data: { bgColour: label.colour, highlight, text: label.text, shouldReverseText: Math.random() < 0.5 },\n          renderBackground: renderHeaderBackground,\n        };\n        row[j.toString()] = cell as CellDef<AllCellDataTypes>;\n      } else {\n        const cell: CustomBgCellDef = {\n          getText: getCustomCellText,\n          data: { bgColour: label.colour, highlight, text: label.text, shouldReverseText: Math.random() < 0.5 },\n          renderBackground: renderCellBackground,\n          editor: {\n            serialise: serailiseCustomData,\n            deserialise: deserialiseCustomData,\n          },\n        };\n        row[j.toString()] = cell as CellDef<AllCellDataTypes>;\n      }\n    }\n    data.push(row);\n  }\n  return data;\n}\n\ninterface EverythingState {\n  colDefs: ColumnDef[];\n  data: Array<DataRow<AllCellDataTypes>>;\n  selectedRange: SelectRange | null;\n  isDragging: boolean;\n  focusedCol: number | null;\n  lastKeyPress: string | null;\n}\n\nexport class Everything extends Component<{}, EverythingState> {\n  constructor(props: {}) {\n    super(props);\n    this.state = {\n      colDefs: createCols(numColsLarge),\n      data: createData(numColsLarge),\n      selectedRange: null,\n      isDragging: false,\n      focusedCol: null,\n      lastKeyPress: null,\n    };\n  }\n\n  public render() {\n    const colHeaders = this.state.colDefs.map((cd) => {\n      const headerRow = this.state.data[0];\n      const headerCell = headerRow[cd.fieldName];\n      const text = getCellText(headerCell);\n      return text;\n    });\n    return (\n      <React.Fragment>\n        <div className=\"App\">\n          <header className=\"App-header\">\n            <p>\n              Page header\n            </p>\n            <div>\n              {this.state.isDragging ? 'Dragging' : ''}\n              &nbsp;\n              {this.state.selectedRange ? JSON.stringify(this.state.selectedRange) : ''}\n            </div>\n            <div>{this.state.lastKeyPress}</div>\n            <button onClick={this.replaceDataLarge}>Replace data (Large)</button>\n            <button onClick={this.replaceDataSmall}>Replace data (Small)</button>\n            <button onClick={this.updateCell}>Update cell</button>\n            <label>Focus column:</label>\n            <select onChange={this.focusColumn} defaultValue={'none'}>\n              <option value={'none'}>None</option>\n              {colHeaders.map((text, i) => (\n                <option key={i} value={i}>{i} ({text})</option>\n              ))}\n            </select>\n          </header>\n          <div style={{height: '600px', width: '800px', overflow: 'scroll'}}>\n            <div style={{height: '80px', backgroundColor: 'blue'}}>\n              <span>Body header</span>\n            </div>\n            <div\n              style={{paddingLeft: '100px', paddingRight: '100px', backgroundColor: 'purple'}}\n              onKeyPress={this.onKeyPressed}\n            >\n              <ReactCanvasGrid<AllCellDataTypes>\n                cssHeight={'800px'}\n                cssWidth={'800px'}\n                columns={this.state.colDefs}\n                data={this.state.data}\n                rowHeight={20}\n                frozenRows={1}\n                frozenCols={1}\n                onSelectionChangeStart={this.selectionChanged}\n                onSelectionChangeUpdate={this.selectionChanged}\n                onSelectionChangeEnd={this.selectionFinished}\n                onSelectionCleared={this.selectionCleared}\n                onCellDataChanged={this.onCellDataChanged}\n                focusedColIndex={this.state.focusedCol}\n              />\n            </div>\n            <div style={{height: '80px', backgroundColor: 'red'}}>\n              <span>Body footer</span>\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n\n  private selectionChanged = (selectedRange: SelectRange | null) => {\n    this.setState({ selectedRange, isDragging: true });\n  }\n\n  private selectionFinished = (selectedRange: SelectRange | null) => {\n    this.setState({ selectedRange, isDragging: false });\n  }\n\n  private selectionCleared = () => {\n    this.setState({ selectedRange: null, isDragging: false });\n  }\n\n  private focusColumn = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    if (event.target.value === 'none') {\n      this.setState({ focusedCol: null });\n    } else {\n      this.setState({ focusedCol: parseInt(event.target.value, 10) });\n    }\n  }\n\n  private replaceDataLarge = () => {\n    this.setState({\n      colDefs: createCols(numColsLarge),\n      data: createData(numColsLarge),\n    });\n  }\n\n  private replaceDataSmall = () => {\n    this.setState({\n      colDefs: createCols(numColsSmall),\n      data: createData(numColsSmall),\n    });\n  }\n\n  private updateCell = () => {\n    this.setState({\n      data: this.state.data.map((row, i) => {\n        if (i === 0) {\n          const label = labels[Math.floor(Math.random() * labels.length)];\n          const highlight = highlights[Math.floor(Math.random() * highlights.length)];\n          return {\n            ...row,\n            0: {\n              ...row[0],\n              data: {\n                ...row[0].data,\n                bgColour: label.colour,\n                highlight,\n                text: label.text,\n                shouldReverseText: Math.random() < 0.5,\n              },\n            },\n          };\n        } else {\n          return row;\n        }\n      }),\n    });\n  }\n\n  private onCellDataChanged = (event: CellDataChangeEvent<AllCellDataTypes>) => {\n    this.setState({\n      data: this.state.data.map((row, i) => {\n        if (i === event.rowIndex) {\n          return {\n            ...row,\n            [event.fieldName]: {\n              ...row[event.fieldName],\n              data: event.newData,\n            },\n          };\n        } else {\n          return row;\n        }\n      }),\n    });\n  }\n\n  private onKeyPressed = (event: React.KeyboardEvent<HTMLDivElement>) => {\n    this.setState({\n      lastKeyPress: event.key,\n    });\n  }\n}\n","import * as React from 'react';\nimport { ReactCanvasGrid } from 'react-canvas-grid';\nimport { ControlsForm } from '../components/ControlsForm';\nimport { FixedSizeHolder } from '../components/FixedSizeHolder';\nimport PaddedPage from '../components/PaddedPage';\nimport { createFakeDataAndColumns } from '../data/dataAndColumns';\n\ninterface FocusColumnGridState {\n    focusedCol: number | null;\n    freezeCols: boolean;\n}\n\nexport class FocusColumnGrid extends React.Component<{}, FocusColumnGridState> {\n    constructor(props: {}) {\n        super(props);\n\n        this.state = {\n            focusedCol: null,\n            freezeCols: false,\n        };\n    }\n\n    public render() {\n        const { columns, rows: data } = createFakeDataAndColumns(20, 100, () => {/* no op */});\n\n        return (\n            <PaddedPage>\n                <h1>Focused Columns</h1>\n                <p>\n                    Updates to the <code>focusedColIndex</code> cause the grid to automatically scroll\n                    to ensure the indicated column is displayed. The scrolling behaviour is aware of\n                    frozen columns.\n                </p>\n                <p>\n                    This can be useful for building a 'search' feature.\n                </p>\n\n                <ControlsForm>\n                    <div>\n                        <label>Select a column to focus: </label>\n                        <select onChange={this.focusColumn} defaultValue={'none'}>\n                            <option value={'none'}>None</option>\n                            {columns.map((_, i) => (\n                                <option key={i} value={i}>{i + 1}</option>\n                            ))}\n                        </select>\n                    </div>\n                    <div>\n                        <label htmlFor=\"toggle-frozen-cols\">Select to freeze columns 1 &amp; 2: </label>\n                        <input id=\"toggle-frozen-cols\" type=\"checkbox\" onChange={this.toggleFrozenCols} />\n                    </div>\n                </ControlsForm>\n\n                <FixedSizeHolder>\n                    <ReactCanvasGrid<void>\n                        columns={columns}\n                        data={data}\n                        rowHeight={20}\n                        focusedColIndex={this.state.focusedCol}\n                        frozenCols={this.state.freezeCols ? 2 : 0}\n                    />\n                </FixedSizeHolder>\n            </PaddedPage>\n        );\n    }\n\n    private focusColumn = (event: React.ChangeEvent<HTMLSelectElement>) => {\n      if (event.target.value === 'none') {\n        this.setState({ focusedCol: null });\n      } else {\n        this.setState({ focusedCol: parseInt(event.target.value, 10) });\n      }\n    }\n\n    private toggleFrozenCols = () => {\n        this.setState({ freezeCols: !this.state.freezeCols });\n    }\n}\n","import * as React from 'react';\nimport { CellDef, ReactCanvasGrid } from 'react-canvas-grid';\nimport { Link } from 'react-router-dom';\nimport { EventLog } from '../components/EventLog';\nimport { FixedSizeHolder } from '../components/FixedSizeHolder';\nimport PaddedPage from '../components/PaddedPage';\nimport { createFakeDataAndColumns } from '../data/dataAndColumns';\n\ninterface KeyboardEventsState {\n    eventLog: string;\n}\n\nconst options: Partial<CellDef<string>> = {\n    editor: {\n        serialise: (value: string) => value,\n        deserialise: (text: string, _: string) => text,\n    },\n    getText: (value: string) => value,\n};\nconst { columns, rows: data } = createFakeDataAndColumns(100, 20, (x, y) => `${x},${y}`, options);\n\nexport class KeyboardEventsGrid extends React.Component<{}, KeyboardEventsState> {\n    constructor(props: {}) {\n        super(props);\n        this.state = {\n            eventLog: '',\n        };\n    }\n\n    public render() {\n        return (\n            <PaddedPage>\n                <h1>Keyboard Events</h1>\n                <p>\n                    Keyboard events bubble up, so can be captured the parent element of the grid (when\n                    the grid has focus).\n                </p>\n                <p>\n                    Note that keyboard events will also bubble up when the user interacts with the\n                    inline editor, which you may wish to ignore. To do so, you may wish to observe\n                    the grid's edit events.\n                </p>\n                <p>\n                    Also note that the editing functionality provided in this example is incomplete;\n                    changes are not persisted. To see a more complete example, see\n                    the <Link to=\"/editable\">Editable Data</Link> example.\n                </p>\n                <FixedSizeHolder>\n                    <div onKeyUp={this.onKeyUp} style={{ height: '100%' }}>\n                        <ReactCanvasGrid<string>\n                            columns={columns}\n                            data={data}\n                            rowHeight={20}\n                        />\n                    </div>\n                </FixedSizeHolder>\n                <EventLog log={this.state.eventLog} />\n            </PaddedPage>\n        );\n    }\n\n    private onKeyUp = (event: React.KeyboardEvent<HTMLDivElement>) => {\n        this.setState({\n            eventLog: this.state.eventLog + `key up: ${event.key}\\n`,\n        });\n    }\n}\n","import * as React from 'react';\nimport { ReactCanvasGrid, SelectRange } from 'react-canvas-grid';\nimport { EventLog } from '../components/EventLog';\nimport { FixedSizeHolder } from '../components/FixedSizeHolder';\nimport PaddedPage from '../components/PaddedPage';\nimport { createFakeDataAndColumns } from '../data/dataAndColumns';\n\ninterface SelectionEventsState {\n    eventLog: string;\n}\n\nconst { columns, rows: data } = createFakeDataAndColumns(100, 20, () => {/* no op */});\n\nexport class SelectionEventsGrid extends React.Component<{}, SelectionEventsState> {\n    constructor(props: {}) {\n        super(props);\n        this.state = {\n            eventLog: '',\n        };\n    }\n\n    public render() {\n        return (\n            <PaddedPage>\n                <h1>Selection Events</h1>\n                <p>\n                    The three callbacks <code>onSelectionChange[Start|Update|End]</code> allow consumers\n                    of react-canvas-grid to take action in response to the user changing the selected area.\n                    This can be useful for keeping track of the selection, in order to act upon the data.\n                </p>\n                <p>\n                    Note that clicking / dragging on frozen headers allows the user to select entire rows / columns.\n                </p>\n                <FixedSizeHolder>\n                    <ReactCanvasGrid<void>\n                        columns={columns}\n                        data={data}\n                        rowHeight={20}\n                        frozenRows={1}\n                        frozenCols={1}\n                        onSelectionChangeStart={this.start}\n                        onSelectionChangeUpdate={this.update}\n                        onSelectionChangeEnd={this.end}\n                    />\n                </FixedSizeHolder>\n                <EventLog log={this.state.eventLog} />\n            </PaddedPage>\n        );\n    }\n\n    private start = (range: SelectRange | null) => {\n        this.appendToLog('start', range);\n    }\n\n    private update = (range: SelectRange | null) => {\n        this.appendToLog('update', range);\n    }\n\n    private end = (range: SelectRange | null) => {\n        this.appendToLog('end', range);\n    }\n\n    private appendToLog = (eventType: 'start' | 'update' | 'end', range: SelectRange | null) => {\n        const paddedType = eventType === 'start' ?  ' start' :\n                           eventType === 'update' ? 'update' :\n                                                    '   end';\n        const newRange = range ?\n            `(${range.topLeft.x},${range.topLeft.y}) -> (${range.bottomRight.x},${range.bottomRight.y})` :\n            'none';\n        this.setState((prevState) => {\n            return { ...prevState, eventLog: prevState.eventLog + `${paddedType}: ${newRange}\\n` };\n        });\n    }\n}\n","import * as React from 'react';\nimport { CustomBackgroundGrid } from './CustomBackground';\nimport { CustomTextGrid } from './CustomText';\nimport { DynamicDataGrid } from './DynamicData';\nimport { EditableDataGrid } from './Editable';\nimport { EditEventsGrid } from './EditEvents';\nimport { Everything } from './Everything';\nimport { FocusColumnGrid } from './FocusColumn';\nimport { FrozenCellsGrid } from './FrozenCells';\nimport { KeyboardEventsGrid } from './KeyboardEvents';\nimport { SelectionEventsGrid } from './SelectionEvents';\nimport { SimpleGrid } from './Simple';\nimport { SmallGrid } from './SmallGrid';\n\ninterface ExampleMeta {\n    pathFragment: string;\n    name: string;\n    description: React.ReactNode;\n    component: React.ComponentType<any>;\n}\n\nconst exampleMeta: ExampleMeta[] = [\n    {\n        pathFragment: '/full-example',\n        name: 'Full Example',\n        description: 'A kitchen-sink example, with as many features demonstrated at once as possible.',\n        component: Everything,\n    },\n    {\n        pathFragment: '/small',\n        name: 'Small Grid',\n        description: 'A basic grid setup with minimal data.',\n        component: SmallGrid,\n    },\n    {\n        pathFragment: '/simple',\n        name: 'Simple Grid',\n        description: 'A basic grid setup with enough data to need to scroll',\n        component: SimpleGrid,\n    },\n    {\n        pathFragment: '/editable',\n        name: 'Editable Data',\n        description: 'A grid with cells backed by data, made editable through a text box',\n        component: EditableDataGrid,\n    },\n    {\n        pathFragment: '/frozen',\n        name: 'Frozen Rows & Columns',\n        description: 'A grid with rows and columns that do not scroll',\n        component: FrozenCellsGrid,\n    },\n    {\n        pathFragment: '/focused-column',\n        name: 'Column Focusing',\n        description: 'Automatically scroll to a selected column',\n        component: FocusColumnGrid,\n    },\n    {\n        pathFragment: '/dynamic-data',\n        name: 'Dynamic Data',\n        description: 'Update the columns and rows provided to the grid component',\n        component: DynamicDataGrid,\n    },\n    {\n        pathFragment: '/custom-bg',\n        name: 'Custom Background Renderer',\n        description: 'Draw cells with custom backgrounds',\n        component: CustomBackgroundGrid,\n    },\n    {\n        pathFragment: '/custom-text',\n        name: 'Custom Text Renderer',\n        description: 'Draw cells with custom text',\n        component: CustomTextGrid,\n    },\n    {\n        pathFragment: '/selection-events',\n        name: 'Selection Events',\n        description: 'Respond to users changing the selected area',\n        component: SelectionEventsGrid,\n    },\n    {\n        pathFragment: '/keyboard-events',\n        name: 'Keyboard Events',\n        description: 'Respond to use of the keyboard when the grid is focused',\n        component: KeyboardEventsGrid,\n    },\n    {\n        pathFragment: '/edit-events',\n        name: 'Edit Events',\n        description: 'Respond to users changing the grid\\'s data',\n        component: EditEventsGrid,\n    },\n];\n\nexport default exampleMeta;\n","import * as React from 'react';\nimport { ReactCanvasGrid } from 'react-canvas-grid';\nimport PaddedPage from '../components/PaddedPage';\n\nexport const SmallGrid = () => {\n    return (\n        <PaddedPage>\n            <h1>Small Grid</h1>\n            <p>\n                This is a minimal usage of react-canvas-grid: a small, read-only grid of\n                static values.\n            </p>\n            <ReactCanvasGrid<void>\n                cssHeight={'45px'}\n                columns={[ { fieldName: 'field-one', width: 50 }, { fieldName: 'field-two', width: 50 } ]}\n                data={[{\n                    'field-one': { data: undefined, text: '1A' },\n                    'field-two': { data: undefined, text: '1B' },\n                },\n                {\n                    'field-one': { data: undefined, text: '2A' },\n                    'field-two': { data: undefined, text: '2B' },\n                }]}\n                rowHeight={20}\n            />\n        </PaddedPage>\n    );\n};\n","import * as React from 'react';\nimport { ReactCanvasGrid } from 'react-canvas-grid';\nimport { FixedSizeHolder } from '../components/FixedSizeHolder';\nimport PaddedPage from '../components/PaddedPage';\nimport { createFakeDataAndColumns } from '../data/dataAndColumns';\n\nexport const SimpleGrid = () => {\n    const { columns, rows: data } = createFakeDataAndColumns(100, 20, () => {/* no op */});\n\n    return (\n        <PaddedPage>\n            <h1>Simple Grid</h1>\n            <p>\n                This is a basic usage of react-canvas-grid: a read-only grid of static values, held\n                within a <code>div</code> of fixed size.\n            </p>\n            <p>\n                Note that because the <code>cssHeight</code> and <code>cssWidth</code> props of&#160;\n                <code>ReactCanvasGrid</code> default to <code>100%</code>, the grid is constrained\n                to the size of its parent. Since the data in the grid requires a larger area than\n                that, the grid becomes scrollable.\n            </p>\n            <FixedSizeHolder>\n                <ReactCanvasGrid<void>\n                    columns={columns}\n                    data={data}\n                    rowHeight={20}\n                />\n            </FixedSizeHolder>\n        </PaddedPage>\n    );\n};\n","import * as React from 'react';\nimport { ReactCanvasGrid } from 'react-canvas-grid';\nimport { FixedSizeHolder } from '../components/FixedSizeHolder';\nimport PaddedPage from '../components/PaddedPage';\nimport { createFakeDataAndColumns } from '../data/dataAndColumns';\n\nexport const FrozenCellsGrid = () => {\n    const { columns, rows: data } = createFakeDataAndColumns(100, 20, () => {/* no op */});\n\n    return (\n        <PaddedPage>\n            <h1>Frozen Rows &amp; Columns</h1>\n            <p>\n                By setting the <code>frozenRows</code> and <code>frozenCols</code> props, rows\n                and columns of cells can be 'frozen' - i.e. fixed in place, even as the rest of\n                the grid scrolls.\n            </p>\n            <p>\n                This can be useful for creating column or row headers.\n            </p>\n            <FixedSizeHolder>\n                <ReactCanvasGrid<void>\n                    columns={columns}\n                    data={data}\n                    rowHeight={20}\n                    frozenRows={1}\n                    frozenCols={1}\n                />\n            </FixedSizeHolder>\n        </PaddedPage>\n    );\n};\n","import * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport exampleMeta from './exampleMeta';\n\nexport const Index = () => {\n    return (\n        <React.Fragment>\n            <h1>Examples</h1>\n            <ul>\n                {exampleMeta.map((meta) => (\n                    <li key={meta.pathFragment}>\n                        <h3><Link to={meta.pathFragment}>{meta.name}</Link></h3>\n                        <p>{meta.description}</p>\n                    </li>\n                ))}\n            </ul>\n        </React.Fragment>\n    );\n};\n","import React, { Component } from 'react';\nimport { HashRouter, NavLink, Route } from 'react-router-dom';\nimport './App.css';\nimport exampleMeta from './examples/exampleMeta';\nimport { Index } from './examples/Index';\n\nclass App extends Component<{}, {}> {\n  public render() {\n    return (\n      <HashRouter>\n        <div className=\"app-container\">\n          <main>\n            <Route exact path=\"/\" component={Index} />\n            {exampleMeta.map((meta) => (\n              <Route key={meta.pathFragment} path={meta.pathFragment} component={meta.component} />\n            ))}\n          </main>\n          <nav>\n            <ul>\n              {exampleMeta.map((meta) => (\n                <li key={meta.pathFragment}>\n                  <NavLink to={meta.pathFragment} activeClassName=\"selected\">{meta.name}</NavLink>\n                </li>\n              ))}\n            </ul>\n          </nav>\n        </div>\n      </HashRouter>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}
(this["webpackJsonpreact-canvas-grid-examples"]=this["webpackJsonpreact-canvas-grid-examples"]||[]).push([[0],[,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(51);t.ReactCanvasGrid=r.ReactCanvasGrid;var o=n(30);t.getCellText=o.getCellText,t.cellHasTextFunction=o.cellHasTextFunction,t.cellIsEditable=o.cellIsEditable;var i=n(72);t.repeatSelectionIntoFill=i.repeatSelectionIntoFill},,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(24),i=function(){function e(){}return e.calculateColumnBoundaries=function(e,t){var n=0;return e.map((function(e){var r={left:n,right:n+e.width};return n+=e.width+t,r}))},e.calculateGridSize=function(e,t,n,r){var o=e.length,i=o*n+(o-1)*r;return{width:t.length>0?t[t.length-1].right:0,height:i}},e.calculateGridPlusGutterSize=function(e,t){return null===t?e:{width:e.width+(e.height>t.height?o.barWidth+2*o.barMarginToEdge:0),height:e.height+(e.width>t.width?o.barWidth+2*o.barMarginToEdge:0)}},e.calculateCanvasSize=function(e,t){return null===t?{width:0,height:0}:{width:Math.min(t.width,e.width),height:Math.min(t.height,e.height)}},e.calculateFrozenRowsHeight=function(e,t,n){return(e+t)*n},e.calculateFrozenColsWidth=function(e,t,n){var r=t-1;return r<0?0:e[r].right+n},e.calculateGridCellCoordsFromGridState=function(t,n,r){return e.calculateGridCellCoords(t,r.columnBoundaries(),r.borderWidth(),r.rowHeight(),r.gridOffset(),r.data().length-1,n)},e.calculateGridCellCoords=function(t,n,r,o,i,l,a){if(!a)throw new Error("Cannot convert mouse event coords to grid coords because rootRef is not set");return e.gridPixelToGridCell(e.windowPixelToGridPixel({x:t.clientX,y:t.clientY},i,a),n,r,o,l)},e.calculateGridPixelCoords=function(t,n,r){if(!r)throw new Error("Cannot convert mouse event coords to grid coords because rootRef is not set");return e.windowPixelToGridPixel({x:t.clientX,y:t.clientY},n,r)},e.calculateCellBounds=function(e,t,n,r,o){var i=o[e].left,l=o[e].right;return{left:i,top:t*(n+r),right:l,bottom:t*(n+r)+n,width:l-i,height:n}},e.calculateGridOffsetFromFraction=function(e,t,n){return Math.floor((t-n)*e)},e.truncateGridOffset=function(e,t,n){var r=t.width-n.width,o=t.height-n.height;return e.x>r||e.y>o?{x:Math.min(r,e.x),y:Math.min(o,e.y)}:null},e.quantiseGridOffset=function(e,t){return{x:Math.floor(e.x*t)/t,y:Math.floor(e.y*t)/t}},e.calculateGridOffsetForTargetColumn=function(t,n,o,i,l,a){return r({},t,{x:e.calculateGridOffsetXForTargetColumn(t.x,n,o,i,l,a)})},e.calculateGridOffsetForTargetRow=function(t,n,o,i,l,a,s,c){return r({},t,{y:e.calculateGridOffsetYForTargetRow(t.y,n,o,i,l,a,s,c)})},e.calculateGridOffsetForTargetCell=function(t,n,r,o,i,l,a,s,c,u,d){return{x:e.calculateGridOffsetXForTargetColumn(t.x,n,r,i.x,l,u),y:e.calculateGridOffsetYForTargetRow(t.y,n,o,i.y,a,s,c,d)}},e.calculateGridOffsetXForTargetColumn=function(e,t,n,r,o,i){if(r<0||r>=o.length)return e;var l=i?i.width:0,a=o[r],s=e+n,c=e+t.width-l;return a.left<s&&a.right>c?e:a.left<s?Math.max(a.left-n,0):a.right>c?a.right-t.width+l:e},e.calculateGridOffsetYForTargetRow=function(e,t,n,r,o,i,l,a){if(r<0||r>=(o+i)*l)return e;var s=a?a.height:0,c=(o+i)*r,u=c+o,d=e+n,h=e+t.height-s;return c<d&&u>h?e:c<d?Math.max(c-n,0):u>h?u-t.height+s:e},e.calculateVisibleRect=function(e,t){return{top:e.y,bottom:e.y+t.height,height:t.height,left:e.x,right:e.x+t.width,width:t.width}},e.isWindowPixelWithinComponent=function(e,t){if(!t)throw new Error("Cannot convert window coords to component coords because rootRef is not set");var n=t.getBoundingClientRect();return e.clientX>=n.left&&e.clientX<=n.right&&e.clientY>=n.top&&e.clientY<=n.bottom},e.calculateComponentPixel=function(t,n){return e.windowPixelToComponentPixel({x:t.clientX,y:t.clientY},n)},e.windowPixelToComponentPixel=function(e,t){var n=e.x,r=e.y;if(!t)throw new Error("Cannot convert window coords to component coords because rootRef is not set");var o=t.getBoundingClientRect();return{x:n-o.left,y:r-o.top}},e.windowPixelToGridPixel=function(e,t,n){var r=e.x,o=e.y,i=n.getBoundingClientRect();return{x:r+t.x-i.left,y:o+t.y-i.top}},e.gridPixelToGridCell=function(e,t,n,r,o){for(var i=e.x,l=e.y,a=t.length-1,s=0;s<t.length;s++)if(t[s].right>i){a=s;break}return{y:Math.min(o,Math.floor((l+n)/(r+n))),x:a}},e}();t.GridGeometry=i},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.isSelectionInProgress=e};t.BaseSelectionState=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(57),o=n(25),i=n(58),l=n(59);t.createSelectionStateForMouseDown=function(e,t){switch(t.region){case"cells":return new o.CellsSelection(e,{left:e.x,right:e.x,top:e.y,bottom:e.y},e,!0);case"frozen-cols":return new l.RowsSelection(e,e.y,e.y,!0,e.y);case"frozen-rows":return new i.ColsSelection(e,e.x,e.x,!0,e.x);case"frozen-corner":return new r.AllGridSelection(!0);default:throw new Error("Unsupported click meta region: "+t.region)}}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.barWidth=7,t.barMarginToEdge=2,t.barCapMargin=4;function r(e,n,r){var o=e-r-t.barWidth-2*t.barCapMargin-t.barMarginToEdge,i=e/n,l=Math.round(o*i);return Math.max(l,10)}function o(e,n,r,o,i){var l=e/(r-n),a=n-i-o-t.barWidth-2*t.barCapMargin-t.barMarginToEdge,s=Math.round(a*l)+i+t.barCapMargin;return{start:s,end:s+o}}function i(e){return e-t.barWidth/2-t.barMarginToEdge}t.getHorizontalScrollbarLength=function(e,t,n){return r(e.width,t.width,n)},t.getVerticalScrollbarLength=function(e,t,n){return r(e.height,t.height,n)},t.calculateLength=r,t.getHorizontalScrollbarExtent=function(e,t,n,r,i){return o(e.x,t.width,n.width,r,i)},t.getVerticalScrollbarExtent=function(e,t,n,r,i){return o(e.y,t.height,n.height,r,i)},t.calculateExtent=o,t.getHorizontalScrollbarPos=function(e,t,n){return n.width>t.width?{extent:e,transverse:i(t.height)}:null},t.getVerticalScrollbarPos=function(e,t,n){return n.height>t.height?{extent:e,transverse:i(t.width)}:null},t.getVerticalGutterBounds=function(e,n){return n.height>e.height?{top:0,left:e.width-(t.barWidth+2*t.barMarginToEdge),height:e.height,width:t.barWidth+2*t.barMarginToEdge,bottom:e.height,right:e.width}:null},t.getHorizontalGutterBounds=function(e,n){return n.width>e.width?{left:0,top:e.height-(t.barWidth+2*t.barMarginToEdge),width:e.width,height:t.barWidth+2*t.barMarginToEdge,right:e.width,bottom:e.height}:null},t.calculateFractionFromStartPos=function(e,n,r,o){var i=r-n-o-t.barWidth-2*t.barCapMargin-t.barMarginToEdge;return Math.min(Math.max((e-n-t.barCapMargin)/i,0),1)},t.getHitScrollBar=function(e,n,r){var o=Math.floor(t.barWidth/2);if(n){var i=n.transverse-o,l=n.transverse+o,a=n.extent;if(e.x>=a.start&&e.x<=a.end&&e.y>=i&&e.y<=l)return"x"}if(r){var s=r.transverse-o,c=r.transverse+o,u=r.extent;if(e.y>=u.start&&e.y<=u.end&&e.x>=s&&e.x<=c)return"y"}return null}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(29),l=n(56),a=n(19),s=n(20);function c(e){return new u(e,{left:e.x,right:e.x,top:e.y,bottom:e.y},e,!1)}var u=function(e){function t(n,r,a,u,g){void 0===g&&(g=null);var m=e.call(this,u)||this;return m.arrowUp=function(e){return c(d({x:m.editCursorCell.x,y:m.editCursorCell.y-1},e))},m.arrowDown=function(e){return c(d({x:m.editCursorCell.x,y:m.editCursorCell.y+1},e))},m.arrowLeft=function(e){return c(d({x:m.editCursorCell.x-1,y:m.editCursorCell.y},e))},m.arrowRight=function(e){return c(d({x:m.editCursorCell.x+1,y:m.editCursorCell.y},e))},m.shiftArrowUp=function(e){if(m.editCursorCell.y===m.selection.bottom){var n=f(m.selection.top-1,e),r=o({},m.selection,{top:n}),i={x:m.focusCell.x,y:n};return new t(m.editCursorCell,r,i,!1)}n=f(m.selection.bottom-1,e),r=o({},m.selection,{bottom:n}),i={x:m.focusCell.x,y:n};return new t(m.editCursorCell,r,i,!1)},m.shiftArrowDown=function(e){if(m.editCursorCell.y===m.selection.top){var n=f(m.selection.bottom+1,e),r=o({},m.selection,{bottom:n}),i={x:m.focusCell.x,y:n};return new t(m.editCursorCell,r,i,!1)}n=f(m.selection.top+1,e),r=o({},m.selection,{top:n}),i={x:m.focusCell.x,y:n};return new t(m.editCursorCell,r,i,!1)},m.shiftArrowLeft=function(e){if(m.editCursorCell.x===m.selection.right){var n=h(m.selection.left-1,e),r=o({},m.selection,{left:n}),i={y:m.focusCell.y,x:n};return new t(m.editCursorCell,r,i,!1)}n=h(m.selection.right-1,e),r=o({},m.selection,{right:n}),i={y:m.focusCell.y,x:n};return new t(m.editCursorCell,r,i,!1)},m.shiftArrowRight=function(e){if(m.editCursorCell.x===m.selection.left){var n=h(m.selection.right+1,e),r=o({},m.selection,{right:n}),i={y:m.focusCell.y,x:n};return new t(m.editCursorCell,r,i,!1)}n=h(m.selection.left+1,e),r=o({},m.selection,{left:n}),i={y:m.focusCell.y,x:n};return new t(m.editCursorCell,r,i,!1)},m.mouseDown=function(e,t){return s.createSelectionStateForMouseDown(e,t)},m.shiftMouseDown=function(e,n){if("cells"!==n.region)return m;var r=m.selectionBoundsTo(e);return new t(m.editCursorCell,r,e,!0)},m.mouseMove=function(e){if(null!==m.autofillDragCell){if(!i.equalCoord(e,m.autofillDragCell))return new t(m.editCursorCell,m.selection,e,!0,e)}else if(m.isSelectionInProgress){var n=m.selectionBoundsTo(e);if(!i.equalBounds(m.selection,n))return new t(m.editCursorCell,n,e,!0)}return m},m.mouseUp=function(){if(null!==m.autofillDragCell){var e=m.getAutofillRange();if(e){var n=p(m.selection,e);return new t(m.editCursorCell,n,m.focusCell,!1,null)}return new t(m.editCursorCell,m.selection,m.focusCell,!1,null)}return m.isSelectionInProgress?new t(m.editCursorCell,m.selection,m.focusCell,!1):m},m.mouseDownOnAutofillHandle=function(){return new t(m.editCursorCell,m.selection,m.focusCell,!0,m.editCursorCell)},m.getSelectionRange=function(){return{topLeft:{x:m.selection.left,y:m.selection.top},bottomRight:{x:m.selection.right,y:m.selection.bottom}}},m.getFocusGridOffset=function(e){return l.calculateGridOffsetForTargetCell(e,m.focusCell)},m.getCursorCell=function(){return m.editCursorCell},m.isAutofillDragging=function(){return null!==m.autofillDragCell},m.getAutofillRange=function(){if(null===m.autofillDragCell)return null;var e=m.getSelectionRange();return m.autofillDragCell.y>e.bottomRight.y?{topLeft:{x:e.topLeft.x,y:e.bottomRight.y+1},bottomRight:{x:e.bottomRight.x,y:m.autofillDragCell.y}}:m.autofillDragCell.y<e.topLeft.y?{topLeft:{x:e.topLeft.x,y:m.autofillDragCell.y},bottomRight:{x:e.bottomRight.x,y:e.topLeft.y-1}}:m.autofillDragCell.x>e.bottomRight.x?{topLeft:{x:e.bottomRight.x+1,y:e.topLeft.y},bottomRight:{x:m.autofillDragCell.x,y:e.bottomRight.y}}:m.autofillDragCell.x<e.topLeft.x?{topLeft:{x:m.autofillDragCell.x,y:e.topLeft.y},bottomRight:{x:e.topLeft.x-1,y:e.bottomRight.y}}:null},m.selectionBoundsTo=function(e){return{left:Math.min(m.editCursorCell.x,e.x),right:Math.max(m.editCursorCell.x,e.x),top:Math.min(m.editCursorCell.y,e.y),bottom:Math.max(m.editCursorCell.y,e.y)}},m.editCursorCell=n,m.selection=r,m.focusCell=a,m.autofillDragCell=g,m}return r(t,e),t}(a.BaseSelectionState);t.CellsSelection=u;var d=function(e,t){return{x:Math.min(Math.max(e.x,t.frozenCols),t.numCols-1),y:Math.min(Math.max(e.y,t.frozenRows),t.numRows-1)}},h=function(e,t){return Math.min(Math.max(e,t.frozenCols),t.numCols-1)},f=function(e,t){return Math.min(Math.max(e,t.frozenRows),t.numRows-1)},p=function(e,t){return{top:Math.min(e.top,t.topLeft.y),bottom:Math.max(e.bottom,t.bottomRight.y),left:Math.min(e.left,t.topLeft.x),right:Math.max(e.right,t.bottomRight.x)}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),i=n(20),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.arrowUp=function(e){return t},t.arrowDown=function(e){return t},t.arrowLeft=function(e){return t},t.arrowRight=function(e){return t},t.shiftArrowUp=function(e){return t},t.shiftArrowDown=function(e){return t},t.shiftArrowLeft=function(e){return t},t.shiftArrowRight=function(e){return t},t.mouseMove=function(){return t},t.mouseUp=function(){return t},t.mouseDown=function(e,t){return i.createSelectionStateForMouseDown(e,t)},t.shiftMouseDown=function(e,n){return t.mouseDown(e,n)},t.getSelectionRange=function(){return null},t.getCursorCell=function(){return null},t.getFocusGridOffset=function(e){return null},t}return r(t,e),t}(o.BaseSelectionState);t.NoSelection=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),l=o(n(14)),a=n(66),s=function(e){function t(t){var n=e.call(this,t)||this;return n.canvasRef=l.createRef(),n.renderer=null,n.renderCallback=null,n.canvasSizeSource=i.activeSource({width:t.width,height:t.height}),n}return r(t,e),t.prototype.render=function(){return l.createElement("canvas",{ref:this.canvasRef,width:this.props.width*this.props.dpr,height:this.props.height*this.props.dpr,style:{position:"absolute",top:this.props.top+"px",left:this.props.left+"px",width:this.props.width+"px",height:this.props.height+"px"}})},t.prototype.componentDidMount=function(){var e=this;if(!this.canvasRef.current)throw new Error("canvasRef is null in componentDidMount - cannot create renderer");var t=this.props.gridState,n=i.mergeTransformer({data:t.data,rowHeight:t.rowHeight,colBoundaries:t.columnBoundaries,columns:t.columns,gridInnerSize:t.gridInnerSize,borderWidth:t.borderWidth}),r={width:this.props.width,height:this.props.height};this.renderer=new a.GridCanvasRenderer(this.canvasRef.current,r,n(),t.dpr(),this.props.name);var o=i.consumer([n,this.props.posProps,this.canvasSizeSource],(function(t,n,r){if(e.renderer){if(!e.canvasRef.current)throw new Error("canvasRef is null in componentDidMount - cannot create renderer");e.renderer.updateProps(e.canvasRef.current,r,t,n)}}));o(),this.renderCallback=o},t.prototype.componentDidUpdate=function(){this.canvasSizeSource({width:this.props.width,height:this.props.height})},t.prototype.componentWillUnmount=function(){this.renderCallback&&this.renderCallback.deregister()},t}(l.PureComponent);t.GridCanvas=s},,function(e,t,n){"use strict";function r(e,t){return e.x===t.x&&e.y===t.y}Object.defineProperty(t,"__esModule",{value:!0}),t.numberBetween=function(e,t,n){return Math.max(Math.min(e,n),t)},t.equalCoord=r,t.equalSelectRange=function(e,t){return e===t||null!==e&&null!==t&&r(e.topLeft,t.topLeft)&&r(e.bottomRight,t.bottomRight)},t.equalBounds=function(e,t){return e===t||null!==e&&null!==t&&e.top===t.top&&e.bottom===t.bottom&&e.left===t.left&&e.right===t.right}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cellHasTextFunction=function(e){return!!e.getText},t.getCellText=function(e){return t.cellHasTextFunction(e)?e.getText(e.data):e.text},t.cellIsEditable=function(e){return!!e.editor}},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55),o=n(60),i=n(63),l=n(37);t.isLeftButton=function(e){return 1===(1&e.buttons)},t.handleWheel=function(e,t){var n={0:1,1:16}[e.deltaMode||0];l.updateOffsetByDelta(e.deltaX*n,e.deltaY*n,t)&&e.preventDefault()},t.handleMouseDown=function(e,t,n,l,a,s){i.mouseDownOnScrollbar(t,l)||r.mouseDownOnAutofillHandle(e,l,n)||o.mouseDownOnGrid(e,t,n,a,l,s)},t.handleMouseMove=function(e,t,n,l,a,s){i.mouseDragOnScrollbar(t,l)||o.mouseDragOnGrid(e,n,a,l,s)||r.mouseHoverOnAutofillHandle(e,l,n)||i.mouseHoverOnScrollbar(t,l)},t.handleMouseUp=function(e,t,n,r){i.mouseUpOnScrollbar()?i.mouseHoverOnScrollbar(e,t):o.mouseUpOnGrid(n,t,r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29);t.updateOffsetByDelta=function(e,t,n){if(!n.rootSize())return!1;var o=n.canvasSize(),i=n.gridSize(),l=n.gridOffset(),a=r.numberBetween(l.x+e,0,i.width-o.width),s=r.numberBetween(l.y+t,0,i.height-o.height);return(a!==l.x||s!==l.y)&&(n.gridOffsetRaw({x:a,y:s}),!0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(30);t.borderColour="lightgrey";var o=function(){function e(e,t,n){var o=this;this.queuedRender=null,this.setCanvas=function(e){o.canvas=e;var t=o.canvas.getContext("2d",{alpha:o.alpha});if(!t)throw new Error("Could not create canvas contex");o.context=t},this.drawCellBackgroundDefault=function(e,t){e.fillStyle="white",e.fillRect(t.left,t.top,t.width,t.height)},this.drawCellTextDefault=function(e,t,n){e.fillStyle="black",e.textBaseline="middle";var o=t.top+t.height/2,i=r.getCellText(n);e.fillText(i,t.left+2,o,t.width-4)},this.alpha=n,this.dpr=t,this.canvas=e;var i=this.canvas.getContext("2d",{alpha:this.alpha});if(!i)throw new Error("Could not create canvas contex");this.context=i}return e.prototype.drawScaled=function(e){var t=this;null===this.queuedRender&&(this.queuedRender=window.requestAnimationFrame((function(){t.context.scale(t.dpr,t.dpr);try{e()}finally{t.context.scale(1/t.dpr,1/t.dpr),t.queuedRender=null}})))},e.prototype.drawCell=function(e,t,n){var r=e.renderBackground||this.drawCellBackgroundDefault,o=e.renderText||this.drawCellTextDefault;r(this.context,t,e,n),o(this.context,t,e,n)},e}();t.CommonCanvasRenderer=o},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),l=r(n(23)),a=n(12),s=o(n(24)),c=n(26);t.refEquals=function(e,t){return e===t},t.shallowEqualsExceptFunctions=function(e,t){return"function"===typeof e&&"function"===typeof t?e===t:l.default(e,t)};var u=function(e,n,r,o,l,u,d){this.columns=i.activeSource(e),this.data=i.activeSource(n),this.rowHeight=i.activeSource(r),this.borderWidth=i.activeSource(o),this.frozenRows=i.activeSource(l),this.frozenCols=i.activeSource(u),this.shouldAllowAutofill=i.activeSource(d,t.refEquals),this.dpr=i.activeSource(window.devicePixelRatio),this.rootSize=i.activeSource(null),this.gridOffsetRaw=i.activeSource({x:0,y:0}),this.selectionState=i.activeSource(new c.NoSelection(!1)),this.hoveredScrollbar=i.activeSource(null),this.autofillHandleIsHovered=i.activeSource(!1),this.gridOffset=i.transformer([this.gridOffsetRaw,this.dpr],a.GridGeometry.quantiseGridOffset),this.columnBoundaries=i.transformer([this.columns,this.borderWidth],a.GridGeometry.calculateColumnBoundaries),this.gridInnerSize=i.transformer([this.data,this.columnBoundaries,this.rowHeight,this.borderWidth],a.GridGeometry.calculateGridSize),this.gridSize=i.transformer([this.gridInnerSize,this.rootSize],a.GridGeometry.calculateGridPlusGutterSize),this.cellBounds=i.transformer([this.data,this.columns,this.frozenRows,this.frozenCols],(function(e,t,n,r){return{numCols:t.length,numRows:e.length,frozenCols:r,frozenRows:n}})),this.canvasSize=i.transformer([this.gridSize,this.rootSize],a.GridGeometry.calculateCanvasSize),this.visibleRect=i.transformer([this.gridOffset,this.canvasSize],a.GridGeometry.calculateVisibleRect),this.frozenColsWidth=i.transformer([this.columnBoundaries,this.frozenCols,this.borderWidth],a.GridGeometry.calculateFrozenColsWidth),this.frozenRowsHeight=i.transformer([this.rowHeight,this.borderWidth,this.frozenRows],a.GridGeometry.calculateFrozenRowsHeight),this.horizontalScrollbarLength=i.transformer([this.canvasSize,this.gridSize,this.frozenColsWidth],s.getHorizontalScrollbarLength),this.verticalScrollbarLength=i.transformer([this.canvasSize,this.gridSize,this.frozenRowsHeight],s.getVerticalScrollbarLength),this.horizontalScrollbarExtent=i.transformer([this.gridOffset,this.canvasSize,this.gridSize,this.horizontalScrollbarLength,this.frozenColsWidth],s.getHorizontalScrollbarExtent),this.verticalScrollbarExtent=i.transformer([this.gridOffset,this.canvasSize,this.gridSize,this.verticalScrollbarLength,this.frozenRowsHeight],s.getVerticalScrollbarExtent),this.horizontalScrollbarPos=i.transformer([this.horizontalScrollbarExtent,this.canvasSize,this.gridSize],s.getHorizontalScrollbarPos),this.verticalScrollbarPos=i.transformer([this.verticalScrollbarExtent,this.canvasSize,this.gridSize],s.getVerticalScrollbarPos),this.horizontalGutterBounds=i.transformer([this.canvasSize,this.gridInnerSize],s.getHorizontalGutterBounds),this.verticalGutterBounds=i.transformer([this.canvasSize,this.gridInnerSize],s.getVerticalGutterBounds),this.cursorType=i.transformer([this.autofillHandleIsHovered],(function(e){return e?"crosshair":"default"}))};t.GridState=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var l=o(n(23)),a=n(38),s=n(12),c=i(n(24)),u=n(25),d=n(26),h={gridOffset:{x:0,y:0},visibleRect:{left:0,top:0,right:0,bottom:0,height:0,width:0}},f={horizontalScrollbarPos:null,verticalScrollbarPos:null},p={hoveredScrollbar:null,autofillHandleIsHovered:!1},g={veryLight:"hsla(0, 0%, 93%, 1)",light:"hsla(0, 0%, 83%, 1)"},m={veryTransparent:"hsla(0, 0%, 0%, 0.4)",transparent:"hsla(0, 0%, 0%, 0.55)"},v={mediumTransparent:"hsla(214, 78%, 51%, 0.25)",medium:"hsla(214, 78%, 51%, 1)",light:"hsla(214, 93%, 64%, 1)"},w={scrollbar:{defaultFill:m.veryTransparent,hoverFill:m.transparent},scrollGutters:{fill:g.veryLight,stroke:g.light},selectedCells:{fill:v.mediumTransparent,stroke:v.medium},autofillCells:{stroke:v.medium},autofillHandle:{defaultFill:v.medium,hoverFill:v.light}},C=function(e){function t(t,n,r){var o=e.call(this,t,r,!0)||this;return o.posProps=h,o.scrollProps=f,o.hoverProps=p,o.selectionProps={selectionState:new d.NoSelection(!1)},o.draw=function(){var e=o.context;e.clearRect(0,0,o.canvas.width,o.canvas.height),e.translate(-o.posProps.gridOffset.x,-o.posProps.gridOffset.y),e.lineCap="butt",e.fillStyle=w.selectedCells.fill,e.strokeStyle=w.selectedCells.stroke;var t=o.selectionProps.selectionState.getCursorCell(o.basicProps.cellBounds);if(t){e.lineWidth=2;var n=o.gridCellCoordToGridPixelCoord(t);e.strokeRect(n.left,n.top,n.width,n.height),e.lineWidth=1}var r=o.selectionProps.selectionState.getSelectionRange(o.basicProps.cellBounds);if(r&&function(e){var t=e.topLeft,n=e.bottomRight;return t.x!==n.x||t.y!==n.y}(r)){var i=o.gridCellCoordToGridPixelCoord(r.topLeft),l=o.gridCellCoordToGridPixelCoord(r.bottomRight);e.fillRect(i.left,i.top,l.right-i.left,l.bottom-i.top),e.strokeRect(i.left,i.top,l.right-i.left,l.bottom-i.top)}if(o.selectionProps.selectionState instanceof u.CellsSelection){if(r&&o.basicProps.shouldAllowAutofill(r)){e.fillStyle=o.hoverProps.autofillHandleIsHovered?w.autofillHandle.hoverFill:w.autofillHandle.defaultFill;n=o.gridCellCoordToGridPixelCoord(r.bottomRight);e.fillRect(n.right-3,n.bottom-3,6,6),e.strokeRect(n.right-3,n.bottom-3,6,6)}var a=o.selectionProps.selectionState.getAutofillRange();if(a){var s=o.gridCellCoordToGridPixelCoord(a.topLeft),d=o.gridCellCoordToGridPixelCoord(a.bottomRight);e.strokeStyle=w.autofillCells.stroke,e.setLineDash([5,7]),e.strokeRect(s.left,s.top,d.right-s.left,d.bottom-s.top),e.setLineDash([])}}e.translate(o.posProps.gridOffset.x,o.posProps.gridOffset.y);var h=o.basicProps.verticalGutterBounds,f=o.basicProps.horizontalGutterBounds;if((h||f)&&(o.context.fillStyle=w.scrollGutters.fill,h&&o.context.fillRect(h.left,h.top,h.width,h.height),f&&o.context.fillRect(f.left,f.top,f.width,f.height),o.context.strokeStyle=w.scrollGutters.stroke,o.context.lineWidth=1,o.context.beginPath(),h&&(o.context.moveTo(h.left,0),o.context.lineTo(h.left,h.height-(f?f.height:0)),o.context.moveTo(h.right,0),o.context.lineTo(h.right,h.height)),f&&(o.context.moveTo(0,f.top),o.context.lineTo(f.width-(h?h.width:0),f.top),o.context.moveTo(0,f.bottom),o.context.lineTo(f.width,f.bottom)),o.context.stroke()),e.lineCap="round",o.scrollProps.horizontalScrollbarPos){"x"===o.hoverProps.hoveredScrollbar?(e.strokeStyle=w.scrollbar.hoverFill,e.lineWidth=c.barWidth+3):(e.strokeStyle=w.scrollbar.defaultFill,e.lineWidth=c.barWidth);var p=o.scrollProps.horizontalScrollbarPos;e.beginPath(),e.moveTo(p.extent.start,p.transverse),e.lineTo(p.extent.end,p.transverse),e.stroke()}if(o.scrollProps.verticalScrollbarPos){"y"===o.hoverProps.hoveredScrollbar?(e.strokeStyle=w.scrollbar.hoverFill,e.lineWidth=c.barWidth+3):(e.strokeStyle=w.scrollbar.defaultFill,e.lineWidth=c.barWidth);p=o.scrollProps.verticalScrollbarPos;e.beginPath(),e.moveTo(p.transverse,p.extent.start),e.lineTo(p.transverse,p.extent.end),e.stroke()}},o.gridCellCoordToGridPixelCoord=function(e){var t=e.x,n=e.y;return s.GridGeometry.calculateCellBounds(t,n,o.basicProps.rowHeight,o.basicProps.borderWidth,o.basicProps.columnBoundaries)},o.basicProps=n,o}return r(t,e),t.prototype.updateProps=function(e,t,n,r,o,i){this.canvas!==e&&this.setCanvas(e),this.basicProps=t,this.posProps=n,this.scrollProps=r,this.hoverProps=o,this.selectionProps=i,this.drawScaled(this.draw)},t}(a.CommonCanvasRenderer);t.HighlightCanvasRenderer=C,t.shouldSelectionClear=function(e,t){return!l.default(e.columns,t.columns)||e.data.length!==t.data.length}},,,,,function(e,t,n){e.exports=n(83)},,,,,function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var l=n(15),a=i(n(14)),s=n(54),c=n(36),u=n(64),d=n(12),h=n(39),f=n(69),p=n(40),g=n(70),m=n(71),v=n(26),w=n(30),C=function(e){function t(t){var n=e.call(this,t)||this;return n.rootRef=a.createRef(),n.onWheel=function(e){c.handleWheel(e,n.gridState)},n.onMouseDown=function(e){var t=n.gridState.gridSize(),r=d.GridGeometry.calculateComponentPixel(e,n.rootRef.current);r.x>=t.width||r.y>=t.height||c.handleMouseDown(e,r,n.rootRef,n.gridState,n.props,n.state.editingCell)},n.onMouseMove=function(e){var t=d.GridGeometry.calculateComponentPixel(e,n.rootRef.current),r=n.gridState.gridSize();t.x>=r.width||t.y>=r.height||c.handleMouseMove(e,t,n.rootRef,n.gridState,n.props,n.state.editingCell)},n.onMouseUp=function(e){l.batch((function(){var t=d.GridGeometry.calculateComponentPixel(e,n.rootRef.current);c.handleMouseUp(t,n.gridState,n.props,n.state.editingCell)}))},n.onDoubleClick=function(e){var t=d.GridGeometry.calculateGridCellCoordsFromGridState(e,n.rootRef.current,n.gridState);n.startEditingCell(t)},n.onKeyDown=function(e){n.state.editingCell||s.keyDownOnGrid(e,n.props,n.gridState)},n.startEditingCell=function(e){var t=d.GridGeometry.calculateCellBounds(e.x,e.y,n.props.rowHeight,n.props.borderWidth,n.gridState.columnBoundaries()),r=n.props.columns[e.x],i=n.props.data[e.y][r.fieldName];w.cellIsEditable(i)&&n.setState({editingCell:o({cell:i,colIndex:e.x,rowIndex:e.y},t,{fieldName:r.fieldName})})},n.cancelEditingCell=function(){n.setState({editingCell:null},n.focusRoot)},n.stopEditingCell=function(e){null!==n.state.editingCell&&(n.props.onCellDataChanged&&n.props.onCellDataChanged({cell:n.state.editingCell.cell,colIndex:n.state.editingCell.colIndex,rowIndex:n.state.editingCell.rowIndex,fieldName:n.state.editingCell.fieldName,newData:e}),n.setState({editingCell:null},n.focusRoot))},n.focusRoot=function(){n.rootRef.current&&n.rootRef.current.focus({preventScroll:!0})},n.gridState=new h.GridState(t.columns,t.data,t.rowHeight,t.borderWidth,t.frozenRows,t.frozenCols,t.shouldAllowAutofill),n.state={rootSize:null,gridOffset:n.gridState.gridOffset(),editingCell:null,cursorType:"default",dpr:window.devicePixelRatio,horizontalGutterBounds:null,verticalGutterBounds:null},n}return r(t,e),t.prototype.componentDidMount=function(){var e=this;if(!this.rootRef.current)throw new Error("root element ref not set in componentDidMount, so cannot determine canvas size");var t=this.rootRef.current.getBoundingClientRect();this.rootRef.current.addEventListener("wheel",this.onWheel),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),this.setState({rootSize:{width:t.width,height:t.height}},(function(){e.gridState.rootSize({width:t.width,height:t.height})})),l.consumer([this.gridState.gridOffset],(function(t){return e.setState({gridOffset:t})})),l.consumer([this.gridState.cursorType],(function(t){return e.setState({cursorType:t})})),l.consumer([this.gridState.dpr],(function(t){return e.setState({dpr:t})})),l.consumer([this.gridState.horizontalGutterBounds],(function(t){return e.setState({horizontalGutterBounds:t})})),l.consumer([this.gridState.verticalGutterBounds],(function(t){return e.setState({verticalGutterBounds:t})}))},t.prototype.componentDidUpdate=function(e){var t=this;if(!this.rootRef.current)throw new Error("root element ref not set in componentDidMount, so cannot determine canvas size");var n=this.rootRef.current.getBoundingClientRect();l.batch((function(){t.gridState.columns(t.props.columns),t.gridState.data(t.props.data),t.gridState.rowHeight(t.props.rowHeight),t.gridState.borderWidth(t.props.borderWidth),t.gridState.frozenRows(t.props.frozenRows),t.gridState.frozenCols(t.props.frozenCols),t.gridState.rootSize({width:n.width,height:n.height}),t.gridState.shouldAllowAutofill(t.props.shouldAllowAutofill),p.shouldSelectionClear(e,t.props)&&(t.gridState.selectionState(new v.NoSelection(!1)),t.props.onSelectionCleared&&t.props.onSelectionCleared());var r=t.gridState.gridSize(),o=t.gridState.canvasSize(),i=d.GridGeometry.truncateGridOffset(t.gridState.gridOffset(),r,o);if(i&&t.gridState.gridOffsetRaw(i),null!==t.props.focusedColIndex&&t.props.focusedColIndex!==e.focusedColIndex){var l=d.GridGeometry.calculateGridOffsetForTargetColumn(t.gridState.gridOffset(),o,t.gridState.frozenColsWidth(),t.props.focusedColIndex,t.gridState.columnBoundaries(),t.gridState.verticalGutterBounds());t.gridState.gridOffsetRaw(l)}}))},t.prototype.componentWillUnmount=function(){this.rootRef.current&&this.rootRef.current.removeEventListener("wheel",this.onWheel),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp)},t.prototype.render=function(){var e=d.GridGeometry.calculateColumnBoundaries(this.props.columns,this.props.borderWidth),t=d.GridGeometry.calculateGridSize(this.props.data,e,this.props.rowHeight,this.props.borderWidth),n=d.GridGeometry.calculateGridPlusGutterSize(t,this.state.rootSize),r=d.GridGeometry.calculateCanvasSize(n,this.state.rootSize),o=d.GridGeometry.calculateFrozenColsWidth(e,this.props.frozenCols,this.props.borderWidth),i=d.GridGeometry.calculateFrozenRowsHeight(this.props.rowHeight,this.props.borderWidth,this.props.frozenRows);return a.createElement("div",{ref:this.rootRef,className:"react-canvas-grid",onMouseDown:this.onMouseDown,onDoubleClick:this.onDoubleClick,onKeyDown:this.onKeyDown,tabIndex:1,style:{position:"relative",width:this.props.cssWidth,height:this.props.cssHeight,overflow:"hidden",outline:"none",cursor:this.state.cursorType}},a.createElement(m.MainCanvas,{width:r.width,height:r.height,frozenColsWidth:o,frozenRowsHeight:i,dpr:this.state.dpr,gridState:this.gridState}),a.createElement(f.HighlightCanvas,{width:r.width,height:r.height,gridState:this.gridState}),this.state.editingCell&&a.createElement(g.InlineTextEditor,{cell:this.state.editingCell.cell,left:this.state.editingCell.left,top:this.state.editingCell.top,width:this.state.editingCell.width,height:this.state.editingCell.height,gridOffset:this.state.gridOffset,onSubmit:this.stopEditingCell,onCancel:this.cancelEditingCell}),a.createElement(u.FrozenCanvas,{width:r.width,height:r.height,frozenColsWidth:o,frozenRowsHeight:i,dpr:this.state.dpr,gridState:this.gridState,horizontalGutterBounds:this.state.horizontalGutterBounds,verticalGutterBounds:this.state.verticalGutterBounds}))},t.defaultProps={cssWidth:"100%",cssHeight:"100%",borderWidth:1,frozenRows:0,frozenCols:0,focusedColIndex:null,shouldAllowAutofill:function(){return!1}},t}(a.PureComponent);t.ReactCanvasGrid=C},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29);t.keyDownOnGrid=function(e,t,n){var o=n.selectionState(),i={ArrowRight:{shift:o.shiftArrowRight,noShift:o.arrowRight},ArrowLeft:{shift:o.shiftArrowLeft,noShift:o.arrowLeft},ArrowUp:{shift:o.shiftArrowUp,noShift:o.arrowUp},ArrowDown:{shift:o.shiftArrowDown,noShift:o.arrowDown}}[e.key];if(i){var l=i[e.shiftKey?"shift":"noShift"],a=n.cellBounds(),s=l(a),c=s.getSelectionRange(a),u=s.getFocusGridOffset(n),d=o.getSelectionRange(a);if(null!==c&&null!==u&&!r.equalSelectRange(d,c)){var h=e.shiftKey?t.onSelectionChangeUpdate:t.onSelectionChangeStart;h&&h(c),n.gridOffsetRaw(u),t.onSelectionChangeEnd&&t.onSelectionChangeEnd(c),n.selectionState(s),e.preventDefault()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),o=n(25);t.mouseDownOnAutofillHandle=function(e,t,n){var r=t.selectionState();if(!(r instanceof o.CellsSelection))return!1;var l=r.getSelectionRange();if(!t.shouldAllowAutofill()(l))return!1;if(i(r,e,t,n)){var a=r.mouseDownOnAutofillHandle();return t.selectionState(a),!0}return!1},t.mouseHoverOnAutofillHandle=function(e,t,n){var r=t.selectionState();if(r instanceof o.CellsSelection){var l=r.getSelectionRange();if(t.shouldAllowAutofill()(l))if(i(r,e,t,n))return t.autofillHandleIsHovered(!0),!0}return t.autofillHandleIsHovered(!1),!1};var i=function(e,t,n,o){var i=e.getSelectionRange(),l=r.GridGeometry.calculateCellBounds(i.bottomRight.x,i.bottomRight.y,n.rowHeight(),n.borderWidth(),n.columnBoundaries()),a=r.GridGeometry.calculateGridPixelCoords(t,n.gridOffset(),o.current),s=a.x-l.right,c=a.y-l.bottom;return Math.abs(s)<=3&&Math.abs(c)<=3}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12);t.calculateGridOffsetForTargetCell=function(e,t){return r.GridGeometry.calculateGridOffsetForTargetCell(e.gridOffset(),e.canvasSize(),e.frozenColsWidth(),e.frozenRowsHeight(),t,e.columnBoundaries(),e.rowHeight(),e.borderWidth(),e.data().length,e.verticalGutterBounds(),e.horizontalGutterBounds())}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),i=n(20),l=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.arrowUp=function(e){return n},n.arrowDown=function(e){return n},n.arrowLeft=function(e){return n},n.arrowRight=function(e){return n},n.shiftArrowUp=function(e){return n},n.shiftArrowDown=function(e){return n},n.shiftArrowLeft=function(e){return n},n.shiftArrowRight=function(e){return n},n.mouseMove=function(){return n},n.mouseUp=function(){return n.isSelectionInProgress?new t(!1):n},n.mouseDown=function(e,t){return i.createSelectionStateForMouseDown(e,t)},n.shiftMouseDown=function(e,t){return n.mouseDown(e,t)},n.getSelectionRange=function(e){return{topLeft:{x:e.frozenCols,y:e.frozenRows},bottomRight:{x:e.numCols-1,y:e.numRows-1}}},n.getCursorCell=function(e){return{x:e.frozenCols,y:e.frozenRows}},n.getFocusGridOffset=function(e){return null},n}return r(t,e),t}(o.BaseSelectionState);t.AllGridSelection=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),i=n(19),l=n(20),a=function(e){function t(n,r,i,a,c){var u=e.call(this,a)||this;return u.arrowUp=function(){return u},u.arrowDown=function(){return u},u.arrowLeft=function(e){var n={x:s(u.editCursorCell.x-1,e),y:u.editCursorCell.y};return new t(n,n.x,n.x,!1,n.x)},u.arrowRight=function(e){var n={x:s(u.editCursorCell.x+1,e),y:u.editCursorCell.y};return new t(n,n.x,n.x,!1,n.x)},u.shiftArrowUp=function(){return u},u.shiftArrowDown=function(){return u},u.shiftArrowLeft=function(e){var n=s(u.selectionCursorColIndex-1,e);return new t(u.editCursorCell,u.selectionStartColIndex,n,!1,n)},u.shiftArrowRight=function(e){var n=s(u.selectionCursorColIndex+1,e);return new t(u.editCursorCell,u.selectionStartColIndex,n,!1,n)},u.mouseDown=function(e,t){return l.createSelectionStateForMouseDown(e,t)},u.shiftMouseDown=function(e,n){return"frozen-rows"!==n.region?u:new t(u.editCursorCell,u.selectionStartColIndex,e.x,!0,e.x)},u.mouseMove=function(e){return u.isSelectionInProgress&&e.x!==u.selectionCursorColIndex?new t(u.editCursorCell,u.selectionStartColIndex,e.x,!0,e.x):u},u.mouseUp=function(){return u.isSelectionInProgress?new t(u.editCursorCell,u.selectionStartColIndex,u.selectionCursorColIndex,!1,u.selectionCursorColIndex):u},u.getSelectionRange=function(e){return{topLeft:{x:Math.min(u.selectionStartColIndex,u.selectionCursorColIndex),y:e.frozenRows},bottomRight:{x:Math.max(u.selectionStartColIndex,u.selectionCursorColIndex),y:e.numRows-1}}},u.getFocusGridOffset=function(e){return o.GridGeometry.calculateGridOffsetForTargetColumn(e.gridOffset(),e.canvasSize(),e.frozenColsWidth(),u.focusColIndex,e.columnBoundaries(),e.verticalGutterBounds())},u.getCursorCell=function(){return u.editCursorCell},u.editCursorCell=n,u.selectionStartColIndex=r,u.selectionCursorColIndex=i,u.focusColIndex=c,u}return r(t,e),t}(i.BaseSelectionState);t.ColsSelection=a;var s=function(e,t){return Math.min(Math.max(e,t.frozenCols),t.numCols-1)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),i=n(19),l=n(20),a=function(e){function t(n,r,i,a,c){var u=e.call(this,a)||this;return u.arrowUp=function(e){var n={x:u.editCursorCell.x,y:s(u.editCursorCell.y-1,e)};return new t(n,n.y,n.y,!1,n.y)},u.arrowDown=function(e){var n={x:u.editCursorCell.x,y:s(u.editCursorCell.y+1,e)};return new t(n,n.y,n.y,!1,n.y)},u.arrowLeft=function(){return u},u.arrowRight=function(){return u},u.shiftArrowUp=function(e){var n=s(u.selectionCursorRowIndex-1,e);return new t(u.editCursorCell,u.selectionStartRowIndex,n,!1,n)},u.shiftArrowDown=function(e){var n=s(u.selectionCursorRowIndex+1,e);return new t(u.editCursorCell,u.selectionStartRowIndex,n,!1,n)},u.shiftArrowLeft=function(){return u},u.shiftArrowRight=function(){return u},u.mouseDown=function(e,t){return l.createSelectionStateForMouseDown(e,t)},u.shiftMouseDown=function(e,n){return"frozen-cols"!==n.region?u:new t(u.editCursorCell,u.selectionStartRowIndex,e.y,!0,e.y)},u.mouseMove=function(e){return u.isSelectionInProgress&&e.y!==u.selectionCursorRowIndex?new t(u.editCursorCell,u.selectionStartRowIndex,e.y,!0,e.y):u},u.mouseUp=function(){return u.isSelectionInProgress?new t(u.editCursorCell,u.selectionStartRowIndex,u.selectionCursorRowIndex,!1,u.selectionCursorRowIndex):u},u.getSelectionRange=function(e){return{topLeft:{x:e.frozenCols,y:Math.min(u.selectionStartRowIndex,u.selectionCursorRowIndex)},bottomRight:{x:e.numCols-1,y:Math.max(u.selectionStartRowIndex,u.selectionCursorRowIndex)}}},u.getFocusGridOffset=function(e){return o.GridGeometry.calculateGridOffsetForTargetRow(e.gridOffset(),e.canvasSize(),e.frozenRowsHeight(),u.focusRowIndex,e.rowHeight(),e.borderWidth(),e.data().length,e.horizontalGutterBounds())},u.getCursorCell=function(){return u.editCursorCell},u.editCursorCell=n,u.selectionStartRowIndex=r,u.selectionCursorRowIndex=i,u.focusRowIndex=c,u}return r(t,e),t}(i.BaseSelectionState);t.RowsSelection=a;var s=function(e,t){return Math.min(Math.max(e,t.frozenRows),t.numRows-1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),o=n(25),i=n(26),l=n(61),a=n(36),s=n(62);t.mouseDownOnGrid=function(e,t,n,r,o,s){if(a.isLeftButton(e)&&null===s){var c=l.getMouseCellCoordAndRegion(e,t,n,r,o),u=c.truncatedCoord,d=c.region,h=o.selectionState(),f=e.shiftKey?h.shiftMouseDown:h.mouseDown,p=!e.shiftKey||h instanceof i.NoSelection?r.onSelectionChangeStart:r.onSelectionChangeUpdate,g=f(u,{region:d});h!==g&&(p&&p(g.getSelectionRange(o.cellBounds())),o.selectionState(g))}},t.mouseDragOnGrid=function(e,t,n,o,i){if(!a.isLeftButton(e))return!1;if(null!==i)return!1;var c=o.selectionState();if(!c.isSelectionInProgress)return!1;var u=r.GridGeometry.calculateComponentPixel(e,t.current),d=function(){var r=l.getMouseCellCoordAndRegion(e,u,t,n,o).truncatedCoord,i=c.mouseMove(r),a=i.getSelectionRange(o.cellBounds());c!==i&&null!==a&&(n.onSelectionChangeUpdate&&n.onSelectionChangeUpdate(a),o.selectionState(i))};return s.startScrollBySelectionDragIfNeeded(o,u,d),d(),!0},t.mouseUpOnGrid=function(e,t,n){if(s.clearScrollByDragTimer(),null===n){var r=t.selectionState();if(r.isSelectionInProgress){var i=r.mouseUp();if(r!==i&&(e.onSelectionChangeEnd&&e.onSelectionChangeEnd(i.getSelectionRange(t.cellBounds())),t.selectionState(i)),r instanceof o.CellsSelection&&r.isAutofillDragging()&&i instanceof o.CellsSelection&&!i.isAutofillDragging()){var l=r.getAutofillRange();l&&e.onAutofill&&e.onAutofill(r.getSelectionRange(),l)}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12);t.getMouseCellCoordAndRegion=function(e,t,n,i,l){var a=r.GridGeometry.calculateGridCellCoordsFromGridState(e,n.current,l),s=t.x<l.frozenColsWidth(),c=t.y<l.frozenRowsHeight(),u=s?c?"frozen-corner":"frozen-cols":c?"frozen-rows":"cells";switch(u){case"frozen-corner":a.x=0,a.y=0;break;case"frozen-rows":a.y=0;break;case"frozen-cols":a.x=0}return{truncatedCoord:o(a,i),region:u}};var o=function(e,t){return{x:Math.min(Math.max(e.x,t.frozenCols),t.columns.length-1),y:Math.min(Math.max(e.y,t.frozenRows),t.data.length-1)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(37),o=null;t.clearScrollByDragTimer=function(){o&&(clearInterval(o),o=null)},t.startScrollBySelectionDragIfNeeded=function(e,n,i,l){void 0===l&&(l={});var a=e.rootSize();if(a){t.clearScrollByDragTimer();var s=0;!0!==l.suppressX&&(n.x<10?s=-15:n.x<20?s=-10:n.x<40?s=-5:n.x<50?s=-1:n.x>a.width-10?s=15:n.x>a.width-20?s=10:n.x>a.width-40?s=5:n.x>a.width-50&&(s=1));var c=0;if(!0!==l.suppressY&&(n.y<10?c=-15:n.y<20?c=-10:n.y<40?c=-5:n.y<50?c=-1:n.y>a.height-10?c=15:n.y>a.height-20?c=10:n.y>a.height-40?c=5:n.y>a.height-50&&(c=1)),0!==s||0!==c){o=setInterval((function(){r.updateOffsetByDelta(s,c,e),i()}),10),r.updateOffsetByDelta(s,c,e)}}}},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),i=r(n(24)),l=null;t.mouseDownOnScrollbar=function(e,t){var n=i.getHitScrollBar(e,t.horizontalScrollbarPos(),t.verticalScrollbarPos());return!!n&&(l={bar:n,origScrollbarStart:"x"===n?t.horizontalScrollbarPos().extent.start:t.verticalScrollbarPos().extent.start,origClick:"x"===n?e.x:e.y},!0)},t.mouseDragOnScrollbar=function(e,t){if(!l)return!1;var n="x"===l.bar?{frozenLen:t.frozenColsWidth(),canvasLen:t.canvasSize().width,gridLen:t.gridSize().width,barLen:t.horizontalScrollbarLength(),clickCoord:e.x}:{frozenLen:t.frozenRowsHeight(),canvasLen:t.canvasSize().height,gridLen:t.gridSize().height,barLen:t.verticalScrollbarLength(),clickCoord:e.y},r=n.clickCoord-l.origClick,a=l.origScrollbarStart+r,s=i.calculateFractionFromStartPos(a,n.frozenLen,n.canvasLen,n.barLen),c=o.GridGeometry.calculateGridOffsetFromFraction(s,n.gridLen,n.canvasLen);return"x"===l.bar?t.gridOffsetRaw({x:c,y:t.gridOffset().y}):t.gridOffsetRaw({x:t.gridOffset().x,y:c}),!0},t.mouseHoverOnScrollbar=function(e,t){var n=i.getHitScrollBar(e,t.horizontalScrollbarPos(),t.verticalScrollbarPos());t.hoveredScrollbar(n)},t.mouseUpOnScrollbar=function(){return!!l&&(l=null,!0)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(14)),s=n(65),c=n(67),u=n(68),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.horizontalGutterBounds,n=e.verticalGutterBounds,r=i(e,["horizontalGutterBounds","verticalGutterBounds"]);return a.createElement(a.Fragment,null,this.props.frozenRowsHeight>0&&this.props.frozenColsWidth>0&&a.createElement(c.FrozenCornerCanvas,o({},r)),this.props.frozenRowsHeight>0&&a.createElement(u.FrozenRowsCanvas,o({},r,{verticalGutterBounds:n})),this.props.frozenColsWidth>0&&a.createElement(s.FrozenColsCanvas,o({},r,{horizontalGutterBounds:t})))},t}(a.PureComponent);t.FrozenCanvas=d},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var l=n(15),a=i(n(14)),s=n(27),c=function(e){function t(t){var n=e.call(this,t)||this,r=l.transformer([t.gridState.visibleRect,t.gridState.frozenRowsHeight,t.gridState.horizontalGutterBounds],(function(e,t,n){var r=n?n.height:0;return o({},e,{left:0,right:e.width,top:e.top+t,bottom:e.bottom-r,height:e.height-t-r})}));return n.colsPosProps=l.transformer([r],(function(e){return{gridOffset:{x:e.left,y:e.top},visibleRect:e}})),n}return r(t,e),t.prototype.render=function(){var e=this.props.horizontalGutterBounds,t=e?e.height:0,n=o({},this.props,{top:this.props.frozenRowsHeight,left:0,height:this.props.height-this.props.frozenRowsHeight-t,width:this.props.frozenColsWidth,posProps:this.colsPosProps});return a.createElement(s.GridCanvas,o({},n,{name:"cols"}))},t}(a.PureComponent);t.FrozenColsCanvas=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(23)),l=n(38),a={gridOffset:{x:0,y:0},visibleRect:{left:0,top:0,right:0,bottom:0,height:0,width:0}},s=function(e){function t(t,n,r,o,l){var s=e.call(this,t,o,!1)||this;return s.posProps=a,s.prevDraw=null,s.updateProps=function(e,t,n,r){s.canvas!==e&&s.setCanvas(e),i.default(s.canvasSize,t)&&i.default(s.basicProps,n)||(s.prevDraw=null),s.canvasSize=t,s.basicProps=n,s.posProps=r,s.drawScaled(s.draw)},s.draw=function(){var e=s.prevDraw,t=s.basicProps,n=s.posProps;if(e){var r=e.gridOffset.x-n.gridOffset.x,o=e.gridOffset.y-n.gridOffset.y;s.shiftExistingCanvas(r,o),s.drawNewBorderBackground(r,o,s.canvasSize.width,s.canvasSize.height)}else s.drawWholeBorderBackground(s.canvasSize.width,s.canvasSize.height);s.translateToGridOffset(n.gridOffset);for(var i=0,l=Math.floor(n.visibleRect.top/(t.rowHeight+t.borderWidth)),a=Math.min(Math.ceil(n.visibleRect.bottom/(t.rowHeight+t.borderWidth)),t.gridInnerSize.height/(t.rowHeight+t.borderWidth)),c=0,u=t.colBoundaries;c<u.length;c++){var d=u[c],h=d.left,f=d.right;if(f<n.visibleRect.left)i++;else{if(h>n.visibleRect.right)break;for(var p=t.columns[i],g=l;g<a;g++){var m=t.data[g][p.fieldName],v={left:h,top:g*(t.rowHeight+t.borderWidth),right:h+p.width,bottom:g*(t.rowHeight+t.borderWidth)+t.rowHeight,width:p.width,height:t.rowHeight};e&&Math.max(h,n.visibleRect.left)>=e.rect.left&&Math.min(f,n.visibleRect.right)<=e.rect.right&&Math.max(v.top,n.visibleRect.top)>=e.rect.top&&Math.min(v.bottom,n.visibleRect.bottom)<=e.rect.bottom||s.drawCell(m,v,{column:p,rowIndex:g,colIndex:i})}i++}}s.translateToOrigin(n.gridOffset),s.prevDraw={gridOffset:n.gridOffset,rect:{left:Math.max(n.gridOffset.x,n.visibleRect.left),top:Math.max(n.gridOffset.y,n.visibleRect.top),right:Math.min(n.gridOffset.x+s.canvasSize.width,n.visibleRect.right),bottom:Math.min(n.gridOffset.y+s.canvasSize.height,n.visibleRect.bottom)}}},s.canvasSize=n,s.basicProps=r,s.name=l,s}return r(t,e),t.prototype.translateToGridOffset=function(e){this.context.translate(-e.x,-e.y)},t.prototype.translateToOrigin=function(e){this.context.translate(e.x,e.y)},t.prototype.drawWholeBorderBackground=function(e,t){this.context.fillStyle=l.borderColour,this.context.fillRect(0,0,e,t)},t.prototype.shiftExistingCanvas=function(e,t){this.context.drawImage(this.canvas,0,0,this.canvas.width*this.dpr,this.canvas.height*this.dpr,e,t,this.canvas.width,this.canvas.height)},t.prototype.drawNewBorderBackground=function(e,t,n,r){if(this.context.fillStyle=l.borderColour,t<0){var o=r+t,i=-t;this.context.fillRect(0,o,n,i)}else if(t>0){i=t;this.context.fillRect(0,0,n,i)}if(e<0){var a=n+e,s=-e;this.context.fillRect(a,0,s,r)}else if(e>0){a=0,s=e;this.context.fillRect(a,0,s,r)}},t}(l.CommonCanvasRenderer);t.GridCanvasRenderer=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var l=n(15),a=i(n(14)),s=n(27),c=function(e){function t(t){var n=e.call(this,t)||this,r=l.transformer([t.gridState.visibleRect],(function(e){return o({},e,{top:0,left:0,right:e.width,bottom:e.height})}));return n.cornerPosProps=l.transformer([r],(function(e){return{gridOffset:{x:e.left,y:e.top},visibleRect:e}})),n}return r(t,e),t.prototype.render=function(){var e=o({},this.props,{top:0,left:0,height:this.props.frozenRowsHeight,width:this.props.frozenColsWidth,posProps:this.cornerPosProps});return a.createElement(s.GridCanvas,o({},e,{name:"corner"}))},t}(a.PureComponent);t.FrozenCornerCanvas=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var l=n(15),a=i(n(14)),s=n(27),c=function(e){function t(t){var n=e.call(this,t)||this,r=l.transformer([t.gridState.visibleRect,t.gridState.frozenColsWidth,t.gridState.verticalGutterBounds],(function(e,t,n){var r=n?n.width:0;return o({},e,{top:0,bottom:e.height,left:e.left+t,right:e.right-r,width:e.width-t-r})}));return n.rowsPosProps=l.transformer([r],(function(e){return{gridOffset:{x:e.left,y:e.top},visibleRect:e}})),n}return r(t,e),t.prototype.render=function(){var e=this.props.verticalGutterBounds,t=e?e.width:0,n=o({},this.props,{top:0,left:this.props.frozenColsWidth,height:this.props.frozenRowsHeight,width:this.props.width-this.props.frozenColsWidth-t,posProps:this.rowsPosProps});return a.createElement(s.GridCanvas,o({},n,{name:"rows"}))},t}(a.PureComponent);t.FrozenRowsCanvas=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),l=o(n(14)),a=n(39),s=n(40),c=function(e){function t(t){var n=e.call(this,t)||this;return n.canvasRef=l.createRef(),n.renderer=null,n.renderCallback=null,n}return r(t,e),t.prototype.render=function(){return l.createElement("canvas",{ref:this.canvasRef,width:this.props.width*this.props.gridState.dpr(),height:this.props.height*this.props.gridState.dpr(),style:{position:"absolute",width:this.props.width+"px",height:this.props.height+"px",top:0,left:0}})},t.prototype.componentDidMount=function(){var e=this;if(!this.canvasRef.current)throw new Error("canvasRef is null in componentDidMount - cannot create renderer");var t=this.props.gridState,n=i.mergeTransformer({rowHeight:t.rowHeight,columnBoundaries:t.columnBoundaries,borderWidth:t.borderWidth,horizontalGutterBounds:t.horizontalGutterBounds,verticalGutterBounds:t.verticalGutterBounds,cellBounds:t.cellBounds,shouldAllowAutofill:t.shouldAllowAutofill},a.shallowEqualsExceptFunctions),r=i.mergeTransformer({horizontalScrollbarPos:t.horizontalScrollbarPos,verticalScrollbarPos:t.verticalScrollbarPos}),o=i.mergeTransformer({hoveredScrollbar:t.hoveredScrollbar,autofillHandleIsHovered:t.autofillHandleIsHovered}),l=i.mergeTransformer({gridOffset:t.gridOffset,visibleRect:t.visibleRect}),c=i.mergeTransformer({selectionState:t.selectionState});this.renderer=new s.HighlightCanvasRenderer(this.canvasRef.current,n(),t.dpr()),this.renderCallback=i.consumer([n,l,r,o,c],(function(t,n,r,o,i){if(e.renderer){if(!e.canvasRef.current)throw new Error("canvasRef is null in componentDidMount - cannot create renderer");e.renderer.updateProps(e.canvasRef.current,t,n,r,o,i)}}))},t.prototype.componentWillUnmount=function(){this.renderCallback&&this.renderCallback.deregister()},t}(l.PureComponent);t.HighlightCanvas=c},function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(14));t.InlineTextEditor=function(e){var t=e.cell.editor.serialise(e.cell.data),n=function(t){var n=t.currentTarget.value,r=e.cell.editor.deserialise(n,e.cell.data);e.onSubmit(r)};return o.createElement("input",{type:"text",style:{position:"absolute",boxSizing:"border-box",top:e.top-e.gridOffset.y+"px",left:e.left-e.gridOffset.x+"px",width:e.width+"px",height:e.height+"px",border:"0"},autoFocus:!0,defaultValue:t,onBlur:n,onKeyPress:function(e){"Enter"===e.key&&n(e)},onKeyUp:function(t){27===t.keyCode&&e.onCancel()}})}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var l=n(15),a=i(n(14)),s=n(27),c=function(e){function t(t){var n=e.call(this,t)||this,r=l.transformer([t.gridState.visibleRect,t.gridState.frozenRowsHeight,t.gridState.frozenColsWidth],(function(e,t,n){return o({},e,{top:e.top+t,left:e.left+n,height:e.height-t,width:e.width-n})}));return n.posProps=l.transformer([r],(function(e){return{gridOffset:{x:e.left,y:e.top},visibleRect:e}})),n}return r(t,e),t.prototype.render=function(){var e=o({},this.props,{top:this.props.frozenRowsHeight,left:this.props.frozenColsWidth,height:this.props.height-this.props.frozenRowsHeight,width:this.props.width-this.props.frozenColsWidth,posProps:this.posProps});return a.createElement(s.GridCanvas,o({},e,{name:"main"}))},t}(a.PureComponent);t.MainCanvas=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.repeatSelectionIntoFill=function(e,t,n,r,o){var i=e.bottomRight.y-e.topLeft.y+1,l=e.bottomRight.x-e.topLeft.x+1;return n.map((function(a,s){return s>=t.topLeft.y&&s<=t.bottomRight.y?r.reduce((function(c,u,d){if(d>=t.topLeft.x&&d<=t.bottomRight.x){var h=(s-t.topLeft.y)%i+e.topLeft.y,f=(d-t.topLeft.x)%l+e.topLeft.x,p=r[f],g=n[h][p.fieldName],m=s,v=d,w=r[v],C=n[m][w.fieldName];c[u.fieldName]=o({srcRowIndex:h,srcColIndex:f,srcColDef:p,srcCellDef:g,destRowIndex:m,destColIndex:v,destColDef:w,destCellDef:C})}else c[u.fieldName]=a[u.fieldName];return c}),{}):a}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(42),l=n.n(i),a=n(3),s=n(4),c=n(6),u=n(5),d=n(7),h=n(13),f=n(17),p=(n(50),n(2)),g=n(22),m=n(1),v=(n(73),function(e){return r.createElement("form",{className:"controls"},e.children)}),w=function(e){return r.createElement("span",{className:"inline-controls-group"},e.children)},C=function(e){return r.createElement("input",Object.assign({type:"number"},e))},b=function(e){var t=e.values,n=e.selectedValue,o=e.onSelect;return r.createElement(r.Fragment,null,t.map((function(e){return r.createElement("label",{key:e.toString()},r.createElement("input",{type:"radio",value:e.toString(),checked:e===n,onChange:o}),e)})))},y=(n(74),function(e){return r.createElement("div",{className:"fixed-size-holder"},e.children)}),x=(n(75),function(e){return r.createElement("div",{className:"padded-page"},e.children)});function S(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{columns:O(t),rows:R(e,t,n,r)}}function O(e){for(var t=[],n=0;n<e;n++)t.push({fieldName:"col-".concat(n),width:50});return t}function R(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=[],i=function(e){for(var i={},l=function(t){i["col-".concat(t)]=Object(p.a)({getText:function(){return"".concat(e+1,"x").concat(t+1)},data:n(t,e)},r)},a=0;a<t;a++)l(a);o.push(i)},l=0;l<e;l++)i(l);return o}function E(e){return e=73244475*((e=73244475*(e>>16^e))>>16^e),e^=e>>16}function _(e,t){return E(e+200*t+1).toString(36).substr(0,3)}function z(e,t){return E(e+200*t+2e4+1).toString(36).substr(0,3)}var P=function(e){function t(e){var n;Object(a.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).showAllowAutofillMethods=void 0,n.onAutofill=function(e,t){var r=Object(m.repeatSelectionIntoFill)(e,t,n.state.data,n.state.columns,G);n.setState({data:r})},n.onAutofillModeSelect=function(e){var t=e.currentTarget.value;n.setState({autofillMode:t})};var r={getText:function(e){var t=Object(g.a)(e,2),n=t[0],r=t[1];return"".concat(n,"/").concat(r)}};return n.state={data:R(100,200,(function(e,t){return function(e,t){return[_(e,t),z(e,t)]}(e,t)}),r),columns:O(200),autofillMode:"multi"},n.showAllowAutofillMethods={none:function(e){return!1},single:function(e){return 1===(e.bottomRight.x-e.topLeft.x+1)*(e.bottomRight.y-e.topLeft.y+1)},multi:function(e){return!0}},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.createElement(x,null,r.createElement("h1",null,"Autofill"),r.createElement("p",null,"ReactCanvasGrid can 'autofill' values - i.e. copy the values from the current selection into a new area - when the autofill handle is dragged to define the new area. The callback ",r.createElement("code",null,"shouldAllowAutofill")," must be supplied to control when the autofill handle is shown, along with the ",r.createElement("code",null,"onAutofill")," callback to update the data."),r.createElement("p",null,"The ",r.createElement("code",null,"shouldAllowAutofill")," callback is passed the currently selected range, and must return a boolean (",r.createElement("code",null,"true")," to show allow autofill and show the autofill handle, ",r.createElement("code",null,"false")," to disallow and hide)."),r.createElement("p",null,"The ",r.createElement("code",null,"onAutofill")," is passed both the currently selected range and the range to be filled, and should update the ",r.createElement("code",null,"data")," prop. ReactCanvasGrid provides the ",r.createElement("code",null,"repeatSelectionIntoFill")," function as a convenience: it takes the selected range, range to be filled, current data, columns, and a 'factory' function; it returns a new copy of the data where the area to be filled has been overwritten with cells created by the 'factory' from the selected range."),r.createElement("p",null,"The factory method could simply clone the source cell, or it could follow more complex logic. In the below example, some cell data (the text after the slash) is treated as invariate by the factory function, and some cell data (the text before the slash) is treated as copyable."),r.createElement("p",null,"The factory method is passed a single ",r.createElement("code",null,"context")," object, which includes information on the source (from the selection) and destination (from the area to fill): ",r.createElement("code",null,"[src|dest]RowIndex"),", ",r.createElement("code",null,"[src|dest]ColIndex"),","," ",r.createElement("code",null,"[src|dest]ColDef"),", and ",r.createElement("code",null,"[src|dest]CellDef"),"."),r.createElement(v,null,r.createElement("div",null,r.createElement(w,null,r.createElement("span",null,"Allowed autofill mode: "),r.createElement(b,{values:["none","single","multi"],selectedValue:this.state.autofillMode,onSelect:this.onAutofillModeSelect})))),r.createElement(y,null,r.createElement(m.ReactCanvasGrid,{columns:this.state.columns,data:this.state.data,rowHeight:20,shouldAllowAutofill:this.showAllowAutofillMethods[this.state.autofillMode],onAutofill:this.onAutofill,frozenCols:1,frozenRows:1})))}}]),t}(r.Component);function G(e){return Object(p.a)({},e.destCellDef,{data:[e.srcCellDef.data[0],e.destCellDef.data[1]]})}var M=function(e,t){e.fillStyle="lightgreen",e.fillRect(t.left,t.top,t.width,t.height)},D=function(e,t,n){e.fillStyle="red";var r=Object(m.cellHasTextFunction)(n)?n.getText(n.data):n.text;e.fillText(r,t.left+2,t.top+15,t.width-4)},j=n(16),T=n(33),A=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).changeColsDebounceTimeout=null,n.changeRowsDebounceTimeout=null,n.changeNumRows=function(e){n.changeRowsDebounceTimeout&&clearTimeout(n.changeRowsDebounceTimeout);var t=e.target.valueAsNumber;n.setState({numRowsInputValue:t}),n.changeRowsDebounceTimeout=setTimeout(n.changeNumRowsDebounced,80,t)},n.changeNumRowsDebounced=function(e){n.changeRowsDebounceTimeout=null;var t=S(e,n.state.numCols,(function(){})),r=t.columns,o=t.rows;n.setState({columns:r,data:o,numRows:e})},n.changeNumCols=function(e){n.changeColsDebounceTimeout&&clearTimeout(n.changeColsDebounceTimeout);var t=e.target.valueAsNumber;n.setState({numColsInputValue:t}),n.changeColsDebounceTimeout=setTimeout(n.changeNumColsDebounced,80,t)},n.changeNumColsDebounced=function(e){n.changeColsDebounceTimeout=null;var t=S(n.state.numRows,e,(function(){})),r=t.columns,o=t.rows;n.setState({columns:r,data:o,numCols:e})},n.moveFirstColumnToEnd=function(e){n.setState({columns:[].concat(Object(T.a)(n.state.columns.slice(1)),[n.state.columns[0]])}),e.preventDefault()},n.modifyTopLeftCell=function(e){var t=n.state.columns[0].fieldName;n.setState({data:[Object(p.a)({},n.state.data[0],Object(j.a)({},t,Object(p.a)({},n.state.data[0][t],{getText:function(){return"Modified"}})))].concat(Object(T.a)(n.state.data.slice(1)))}),e.preventDefault()},n.reset=function(e){n.setState(B()),e.preventDefault()},n.toggleFrozen=function(){n.setState({freezeFirstRowAndCol:!n.state.freezeFirstRowAndCol})},n.toggleFilterCols=function(){n.setState({filterCols:!n.state.filterCols})},n.state=B(),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.columns.filter((function(t,n){return!e.state.filterCols||n<5}));return r.createElement(x,null,r.createElement("h1",null,"Dynamic Data"),r.createElement("p",null,"Updates to the ",r.createElement("code",null,"columns")," and ",r.createElement("code",null,"data")," props cause the grid to re-render with new values."),r.createElement("p",null,"The selected cells are cleared if ",r.createElement("code",null,"columns")," changes or the number of rows (in ",r.createElement("code",null,"data"),") changes. The selection is not cleared, however, if ",r.createElement("code",null,"columns"),"\xa0stays the same and ",r.createElement("code",null,"data")," is replaced with an array of the same length (even if the contents within the array is different). I.e. if the ",r.createElement("em",null,"structure")," of the grid has changed then the selection is cleared, but if only the ",r.createElement("em",null,"contents")," change then the selection is retained."),r.createElement("p",null,"The scroll position is maintained as long as it is valid in the newly rendered grid. If not (because there are fewer columns or rows) the scroll position is truncated."),r.createElement(v,null,r.createElement("div",null,r.createElement(w,null,r.createElement("label",null,"Number of rows: "),r.createElement(C,{id:"num-rows",onChange:this.changeNumRows,value:this.state.numRowsInputValue.toString()})),r.createElement(w,null,r.createElement("label",null,"Number of columns: "),r.createElement(C,{id:"num-cols",onChange:this.changeNumCols,value:this.state.numColsInputValue.toString()}))),r.createElement("div",null,r.createElement(w,null,r.createElement("button",{id:"first-col-to-end",onClick:this.moveFirstColumnToEnd},"Move first column to end")),r.createElement(w,null,r.createElement("button",{id:"modify-top-left",onClick:this.modifyTopLeftCell},"Modify top left cell")),r.createElement(w,null,r.createElement("button",{id:"reset",onClick:this.reset},"Reset"))),r.createElement("div",null,r.createElement(w,null,r.createElement("label",{htmlFor:"toggle-frozen-cols"},"Select to freeze row 1 & column 1: "),r.createElement("input",{id:"toggle-frozen-cols",type:"checkbox",onChange:this.toggleFrozen,checked:this.state.freezeFirstRowAndCol})),r.createElement(w,null,r.createElement("label",{htmlFor:"toggle-filter-cols"},"Select to hide columns over 5: "),r.createElement("input",{id:"toggle-filter-cols",type:"checkbox",onChange:this.toggleFilterCols,checked:this.state.filterCols})))),r.createElement(y,null,r.createElement(m.ReactCanvasGrid,{columns:t,data:this.state.data,rowHeight:20,frozenCols:this.state.freezeFirstRowAndCol?1:0,frozenRows:this.state.freezeFirstRowAndCol?1:0})))}}]),t}(r.Component),B=function(){var e=S(20,100,(function(){}));return{columns:e.columns,data:e.rows,numCols:100,numColsInputValue:100,numRows:20,numRowsInputValue:20,freezeFirstRowAndCol:!1,filterCols:!1}},F=function(e){function t(e){var n;Object(a.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onCellDataChanged=function(e){n.setState({data:n.state.data.map((function(t,n){return n===e.rowIndex?Object(p.a)({},t,Object(j.a)({},e.fieldName,Object(p.a)({},t[e.fieldName],{data:e.newData}))):t}))})};var r={editor:{serialise:function(e){var t=Object(g.a)(e,2),n=t[0],r=t[1];return"".concat(n,",").concat(r)},deserialise:function(e,t){var n=e.match(/(\d+),(\d+)/);return n?[parseInt(n[1],10),parseInt(n[2],10)]:t}},getText:function(e){var t=Object(g.a)(e,2),n=t[0],r=t[1];return"".concat(n,"x").concat(r)}};return n.state={data:R(100,200,(function(e,t){return[e,t]}),r)},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=O(20);return r.createElement(x,null,r.createElement("h1",null,"Editable Data"),r.createElement("p",null,"A cell is editable if its definition includes an ",r.createElement("code",null,"editor")," property. If the grid also has a ",r.createElement("code",null,"onCellDataChanged")," prop, that can persist changes made to data to be shown on the grid."),r.createElement("p",null,"The ",r.createElement("code",null,"editor")," provides two functions, ",r.createElement("code",null,"serialise")," and \xa0",r.createElement("code",null,"deserialise"),", that translate between the ",r.createElement("code",null,"data")," stored on the cell definition and the text displayed in the editor ",r.createElement("code",null,"input"),"."),r.createElement("p",null,"Displaying the inline editor is not enough, however, as react-canvas-grid does not manage the data; instead, when data changes, it will call the function provided as the ",r.createElement("code",null,"onCellDataChanged")," prop. This function can then update the contents of the ",r.createElement("code",null,"data")," prop, causing the grid to render the changes."),r.createElement("p",null,"Note that the text displayed in the editor need not be the same as the text displayed in the cell itself (as defined by ",r.createElement("code",null,"text")," or ",r.createElement("code",null,"getText"),"). In this example, the editor text is of the form ",r.createElement("code",null,"A,B")," (i.e. comma separated), but cells are displayed as ",r.createElement("code",null,"AxB")," (i.e. with an x)."),r.createElement("p",null,"To edit a cell, double click it. Invalid values will be ignored."),r.createElement(y,null,r.createElement(m.ReactCanvasGrid,{columns:e,data:this.state.data,rowHeight:20,onCellDataChanged:this.onCellDataChanged})))}}]),t}(r.Component),k=(n(76),function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).logRef=void 0,n.logRef=r.createRef(),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.createElement("textarea",{ref:this.logRef,className:"event-log",value:this.props.log,readOnly:!0})}},{key:"componentDidUpdate",value:function(){this.logRef.current&&(this.logRef.current.scrollTop=this.logRef.current.scrollHeight)}}]),t}(r.PureComponent)),I=S(100,20,(function(e,t){return"".concat(e,",").concat(t)}),{editor:{serialise:function(e){return e},deserialise:function(e,t){return e}},getText:function(e){return e}}),H=I.columns,L=I.rows,W=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onCellDataChanged=function(e){var t=e.colIndex,r=e.rowIndex,o=e.fieldName,i=e.newData;n.setState({eventLog:n.state.eventLog+"changed: row ".concat(r,' of column "').concat(o,'" (index ').concat(t,") to ").concat(i,"\n")})},n.state={eventLog:""},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.createElement(x,null,r.createElement("h1",null,"Edit Events"),r.createElement("p",null,"The callback ",r.createElement("code",null,"onCellDataChanged")," allow consumers of react-canvas-grid to respond to the user making changes to the data. Typically, this is used to update the data passed to the grid in the ",r.createElement("code",null,"data")," prop. Without doing so, the grid's data will not be changed. See the ",r.createElement(h.b,{to:"/editable"},"Editable Data")," example for further detail. This example does not update the data, but merely logs event."),r.createElement("p",null,"Note that the callback is fired when the user hits enter on the inline editor, or when the inline editor loses focus, regardless of whether the data has been changed. The inline editor can be dismissed with the escape key, regardless of whether the data has been changed."),r.createElement(y,null,r.createElement(m.ReactCanvasGrid,{columns:H,data:L,rowHeight:20,onCellDataChanged:this.onCellDataChanged})),r.createElement(k,{log:this.state.eventLog}))}}]),t}(r.Component),N=(n(81),[{text:"Lorem",colour:"red"},{text:"Ipsum",colour:"orange"},{text:"Dolor",colour:"lightblue"},{text:"Sit",colour:"lightgreen"},{text:"Amet",colour:"lightpink"}]),U=["topleft","bottomright","full","none","none","none","none","none","none"],K=function(e,t){e.fillStyle="#eee",e.fillRect(t.left,t.top,t.width,t.height)},V=function(e,t,n){"full"!==n.data.highlight&&(e.fillStyle=n.data.bgColour,e.fillRect(t.left,t.top,t.width,t.height)),"none"!==n.data.highlight&&(e.fillStyle="yellow","full"===n.data.highlight?e.fillRect(t.left,t.top,t.width,t.height):"topleft"===n.data.highlight?(e.beginPath(),e.moveTo(t.left,t.top),e.lineTo(t.left,t.bottom),e.lineTo(t.right,t.top),e.closePath(),e.fill()):"bottomright"===n.data.highlight&&(e.beginPath(),e.moveTo(t.left,t.bottom),e.lineTo(t.right,t.bottom),e.lineTo(t.right,t.top),e.closePath(),e.fill()))};function q(e){return e.shouldReverseText?e.text.split("").reverse().join(""):e.text}function X(e){return(e.shouldReverseText?"!":"")+e.text}function Y(e,t){var n=e.startsWith("!"),r=n?e.slice(1):e;return Object(p.a)({},t,{shouldReverseText:n,text:r})}function J(e){for(var t=[{fieldName:"date",width:80}],n=0;n<e;n++)t.push({fieldName:n.toString(),width:100});return t}function Q(e){for(var t=[],n=0;n<250;n++){for(var r={date:{text:(n+1).toString(),data:null,renderBackground:K}},o=0;o<e;o++){var i=N[Math.floor(Math.random()*N.length)],l=U[Math.floor(Math.random()*U.length)];if(0===n){var a={getText:q,data:{bgColour:i.colour,highlight:l,text:i.text,shouldReverseText:Math.random()<.5},renderBackground:K};r[o.toString()]=a}else{var s={getText:q,data:{bgColour:i.colour,highlight:l,text:i.text,shouldReverseText:Math.random()<.5},renderBackground:V,editor:{serialise:X,deserialise:Y}};r[o.toString()]=s}}t.push(r)}return t}var Z=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).selectionChanged=function(e){n.setState({selectedRange:e,isDragging:!0})},n.selectionFinished=function(e){n.setState({selectedRange:e,isDragging:!1})},n.selectionCleared=function(){n.setState({selectedRange:null,isDragging:!1})},n.focusColumn=function(e){"none"===e.target.value?n.setState({focusedCol:null}):n.setState({focusedCol:parseInt(e.target.value,10)})},n.replaceDataLarge=function(){n.setState({colDefs:J(250),data:Q(250)})},n.replaceDataSmall=function(){n.setState({colDefs:J(3),data:Q(3)})},n.updateCell=function(){n.setState({data:n.state.data.map((function(e,t){if(0===t){var n=N[Math.floor(Math.random()*N.length)],r=U[Math.floor(Math.random()*U.length)];return Object(p.a)({},e,{0:Object(p.a)({},e[0],{data:Object(p.a)({},e[0].data,{bgColour:n.colour,highlight:r,text:n.text,shouldReverseText:Math.random()<.5})})})}return e}))})},n.onCellDataChanged=function(e){n.setState({data:n.state.data.map((function(t,n){return n===e.rowIndex?Object(p.a)({},t,Object(j.a)({},e.fieldName,Object(p.a)({},t[e.fieldName],{data:e.newData}))):t}))})},n.onKeyPressed=function(e){n.setState({lastKeyPress:e.key})},n.onAutofill=function(e,t){var r=Object(m.repeatSelectionIntoFill)(e,t,n.state.data,n.state.colDefs,$);n.setState({data:r})},n.state={colDefs:J(250),data:Q(250),selectedRange:null,isDragging:!1,focusedCol:null,lastKeyPress:null},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.colDefs.map((function(t){var n=e.state.data[0][t.fieldName];return Object(m.getCellText)(n)}));return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("p",null,"Page header"),o.a.createElement("div",null,this.state.isDragging?"Dragging":"","\xa0",this.state.selectedRange?JSON.stringify(this.state.selectedRange):""),o.a.createElement("div",null,this.state.lastKeyPress),o.a.createElement("button",{onClick:this.replaceDataLarge},"Replace data (Large)"),o.a.createElement("button",{onClick:this.replaceDataSmall},"Replace data (Small)"),o.a.createElement("button",{onClick:this.updateCell},"Update cell"),o.a.createElement("label",null,"Focus column:"),o.a.createElement("select",{onChange:this.focusColumn,defaultValue:"none"},o.a.createElement("option",{value:"none"},"None"),t.map((function(e,t){return o.a.createElement("option",{key:t,value:t},t," (",e,")")})))),o.a.createElement("div",{style:{height:"600px",width:"800px",overflow:"scroll"}},o.a.createElement("div",{style:{height:"80px",backgroundColor:"blue"}},o.a.createElement("span",null,"Body header")),o.a.createElement("div",{style:{paddingLeft:"100px",paddingRight:"100px",backgroundColor:"purple"},onKeyPress:this.onKeyPressed},o.a.createElement(m.ReactCanvasGrid,{cssHeight:"800px",cssWidth:"800px",columns:this.state.colDefs,data:this.state.data,rowHeight:20,frozenRows:1,frozenCols:1,onSelectionChangeStart:this.selectionChanged,onSelectionChangeUpdate:this.selectionChanged,onSelectionChangeEnd:this.selectionFinished,onSelectionCleared:this.selectionCleared,onCellDataChanged:this.onCellDataChanged,focusedColIndex:this.state.focusedCol,shouldAllowAutofill:function(){return!0},onAutofill:this.onAutofill})),o.a.createElement("div",{style:{height:"80px",backgroundColor:"red"}},o.a.createElement("span",null,"Body footer")))))}}]),t}(r.Component);function $(e){if(!e.destCellDef.data||!e.srcCellDef.data)throw new Error("Can't autofill to/from null data");return Object(p.a)({},e.destCellDef,{data:Object(p.a)({},e.destCellDef.data,{shouldReverseText:e.srcCellDef.data.shouldReverseText,text:e.srcCellDef.data.text})})}var ee=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).focusColumn=function(e){"none"===e.target.value?n.setState({focusedCol:null}):n.setState({focusedCol:parseInt(e.target.value,10)})},n.toggleFrozenCols=function(){n.setState({freezeCols:!n.state.freezeCols})},n.state={focusedCol:null,freezeCols:!1},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=S(20,100,(function(){})),t=e.columns,n=e.rows;return r.createElement(x,null,r.createElement("h1",null,"Focused Columns"),r.createElement("p",null,"Updates to the ",r.createElement("code",null,"focusedColIndex")," cause the grid to automatically scroll to ensure the indicated column is displayed. The scrolling behaviour is aware of frozen columns."),r.createElement("p",null,"This can be useful for building a 'search' feature."),r.createElement(v,null,r.createElement("div",null,r.createElement("label",null,"Select a column to focus: "),r.createElement("select",{onChange:this.focusColumn,defaultValue:"none"},r.createElement("option",{value:"none"},"None"),t.map((function(e,t){return r.createElement("option",{key:t,value:t},t+1)})))),r.createElement("div",null,r.createElement("label",{htmlFor:"toggle-frozen-cols"},"Select to freeze columns 1 & 2: "),r.createElement("input",{id:"toggle-frozen-cols",type:"checkbox",onChange:this.toggleFrozenCols}))),r.createElement(y,null,r.createElement(m.ReactCanvasGrid,{columns:t,data:n,rowHeight:20,focusedColIndex:this.state.focusedCol,frozenCols:this.state.freezeCols?2:0})))}}]),t}(r.Component),te=S(100,20,(function(e,t){return"".concat(e,",").concat(t)}),{editor:{serialise:function(e){return e},deserialise:function(e,t){return e}},getText:function(e){return e}}),ne=te.columns,re=te.rows,oe=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onKeyUp=function(e){n.setState({eventLog:n.state.eventLog+"key up: ".concat(e.key,"\n")})},n.state={eventLog:""},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.createElement(x,null,r.createElement("h1",null,"Keyboard Events"),r.createElement("p",null,"Keyboard events bubble up, so can be captured the parent element of the grid (when the grid has focus)."),r.createElement("p",null,"Note that keyboard events will also bubble up when the user interacts with the inline editor, which you may wish to ignore. To do so, you may wish to observe the grid's edit events."),r.createElement("p",null,"Also note that the editing functionality provided in this example is incomplete; changes are not persisted. To see a more complete example, see the ",r.createElement(h.b,{to:"/editable"},"Editable Data")," example."),r.createElement(y,null,r.createElement("div",{onKeyUp:this.onKeyUp,style:{height:"100%"}},r.createElement(m.ReactCanvasGrid,{columns:ne,data:re,rowHeight:20}))),r.createElement(k,{log:this.state.eventLog}))}}]),t}(r.Component),ie=S(100,20,(function(){})),le=ie.columns,ae=ie.rows,se=[{pathFragment:"/full-example",name:"Full Example",description:"A kitchen-sink example, with as many features demonstrated at once as possible.",component:Z},{pathFragment:"/small",name:"Small Grid",description:"A basic grid setup with minimal data.",component:function(){return r.createElement(x,null,r.createElement("h1",null,"Small Grid"),r.createElement("p",null,"This is a minimal usage of react-canvas-grid: a small, read-only grid of static values."),r.createElement(m.ReactCanvasGrid,{cssHeight:"45px",columns:[{fieldName:"field-one",width:50},{fieldName:"field-two",width:50}],data:[{"field-one":{data:void 0,text:"1A"},"field-two":{data:void 0,text:"1B"}},{"field-one":{data:void 0,text:"2A"},"field-two":{data:void 0,text:"2B"}}],rowHeight:20}))}},{pathFragment:"/simple",name:"Simple Grid",description:"A basic grid setup with enough data to need to scroll",component:function(){var e=S(100,20,(function(){})),t=e.columns,n=e.rows;return r.createElement(x,null,r.createElement("h1",null,"Simple Grid"),r.createElement("p",null,"This is a basic usage of react-canvas-grid: a read-only grid of static values, held within a ",r.createElement("code",null,"div")," of fixed size."),r.createElement("p",null,"Note that because the ",r.createElement("code",null,"cssHeight")," and ",r.createElement("code",null,"cssWidth")," props of\xa0",r.createElement("code",null,"ReactCanvasGrid")," default to ",r.createElement("code",null,"100%"),", the grid is constrained to the size of its parent. Since the data in the grid requires a larger area than that, the grid becomes scrollable."),r.createElement(y,null,r.createElement(m.ReactCanvasGrid,{columns:t,data:n,rowHeight:20})))}},{pathFragment:"/editable",name:"Editable Data",description:"A grid with cells backed by data, made editable through a text box",component:F},{pathFragment:"/frozen",name:"Frozen Rows & Columns",description:"A grid with rows and columns that do not scroll",component:function(){var e=S(100,20,(function(){})),t=e.columns,n=e.rows;return r.createElement(x,null,r.createElement("h1",null,"Frozen Rows & Columns"),r.createElement("p",null,"By setting the ",r.createElement("code",null,"frozenRows")," and ",r.createElement("code",null,"frozenCols")," props, rows and columns of cells can be 'frozen' - i.e. fixed in place, even as the rest of the grid scrolls."),r.createElement("p",null,"This can be useful for creating column or row headers."),r.createElement(y,null,r.createElement(m.ReactCanvasGrid,{columns:t,data:n,rowHeight:20,frozenRows:1,frozenCols:1})))}},{pathFragment:"/focused-column",name:"Column Focusing",description:"Automatically scroll to a selected column",component:ee},{pathFragment:"/dynamic-data",name:"Dynamic Data",description:"Update the columns and rows provided to the grid component",component:A},{pathFragment:"/custom-bg",name:"Custom Background Renderer",description:"Draw cells with custom backgrounds",component:function(){var e=S(100,20,(function(){}),{renderBackground:M}),t=e.columns,n=e.rows;return r.createElement(x,null,r.createElement("h1",null,"Custom Background Renderer"),r.createElement("p",null,"When specifying a cell definition, you can provide a ",r.createElement("code",null,"renderBackground")," function to customise drawing the cell's background."),r.createElement("p",null,"Here, all cells use the same background renderer in order to draw the background as light green."),r.createElement(y,null,r.createElement(m.ReactCanvasGrid,{columns:t,data:n,rowHeight:20})))}},{pathFragment:"/custom-text",name:"Custom Text Renderer",description:"Draw cells with custom text",component:function(){var e=S(100,20,(function(){}),{renderText:D}),t=e.columns,n=e.rows;return r.createElement(x,null,r.createElement("h1",null,"Custom Text Renderer"),r.createElement("p",null,"When specifying a cell definition, you can provide a ",r.createElement("code",null,"renderText")," function to customise drawing the cell's text."),r.createElement("p",null,"Here, all cells use the same text renderer in order to draw the text as red."),r.createElement(y,null,r.createElement(m.ReactCanvasGrid,{columns:t,data:n,rowHeight:20})))}},{pathFragment:"/selection-events",name:"Selection Events",description:"Respond to users changing the selected area",component:function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).start=function(e){n.appendToLog("start",e)},n.update=function(e){n.appendToLog("update",e)},n.end=function(e){n.appendToLog("end",e)},n.appendToLog=function(e,t){var r="start"===e?" start":"update"===e?"update":"   end",o=t?"(".concat(t.topLeft.x,",").concat(t.topLeft.y,") -> (").concat(t.bottomRight.x,",").concat(t.bottomRight.y,")"):"none";n.setState((function(e){return Object(p.a)({},e,{eventLog:e.eventLog+"".concat(r,": ").concat(o,"\n")})}))},n.state={eventLog:""},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.createElement(x,null,r.createElement("h1",null,"Selection Events"),r.createElement("p",null,"The three callbacks ",r.createElement("code",null,"onSelectionChange[Start|Update|End]")," allow consumers of react-canvas-grid to take action in response to the user changing the selected area. This can be useful for keeping track of the selection, in order to act upon the data."),r.createElement("p",null,"Note that clicking / dragging on frozen headers allows the user to select entire rows / columns."),r.createElement(y,null,r.createElement(m.ReactCanvasGrid,{columns:le,data:ae,rowHeight:20,frozenRows:1,frozenCols:1,onSelectionChangeStart:this.start,onSelectionChangeUpdate:this.update,onSelectionChangeEnd:this.end})),r.createElement(k,{log:this.state.eventLog}))}}]),t}(r.Component)},{pathFragment:"/keyboard-events",name:"Keyboard Events",description:"Respond to use of the keyboard when the grid is focused",component:oe},{pathFragment:"/edit-events",name:"Edit Events",description:"Respond to users changing the grid's data",component:W},{pathFragment:"/autofill",name:"Autofill",description:"Autofill",component:P}],ce=function(){return r.createElement(r.Fragment,null,r.createElement("h1",null,"Examples"),r.createElement("ul",null,se.map((function(e){return r.createElement("li",{key:e.pathFragment},r.createElement("h3",null,r.createElement(h.b,{to:e.pathFragment},e.name)),r.createElement("p",null,e.description))}))))},ue=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(h.a,null,o.a.createElement("div",{className:"app-container"},o.a.createElement("main",null,o.a.createElement(f.a,{exact:!0,path:"/",component:ce}),se.map((function(e){return o.a.createElement(f.a,{key:e.pathFragment,path:e.pathFragment,component:e.component})}))),o.a.createElement("nav",null,o.a.createElement("h1",null,o.a.createElement(h.c,{to:"/"},"react-canvas-grid")),o.a.createElement("ul",null,se.map((function(e){return o.a.createElement("li",{key:e.pathFragment},o.a.createElement(h.c,{to:e.pathFragment,activeClassName:"selected"},e.name))}))))))}}]),t}(r.Component);n(82);l.a.render(o.a.createElement(ue,null),document.getElementById("root"))}],[[45,1,2]]]);
//# sourceMappingURL=main.b585fc2d.chunk.js.map